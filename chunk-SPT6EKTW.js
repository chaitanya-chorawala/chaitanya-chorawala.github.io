import{a as hg,b as Sa,c as pg,d as mg}from"./chunk-DBJMU65T.js";import{b as ka}from"./chunk-FSVOHHJJ.js";import{D as de,E as A2,F as r1,G as Na,H as Cr,J as Ra,K as Mg,L as v2,M as Pe,a as I,b as te,e as Z8,f as C,g as gg,j as J8,k as xa,l as Ta,n as vg,r as yg,s as Aa,v as La,w as Cg}from"./chunk-CAS3RZL2.js";var wg=null;var eu=1;function Mt(t){let e=wg;return wg=t,e}var Vg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function GD(t){if(!(ru(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===eu)){if(!t.producerMustRecompute(t)&&!tu(t)){t.dirty=!1,t.lastCleanEpoch=eu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=eu}}function _g(t){return t&&(t.nextProducerIndex=0),Mt(t)}function bg(t,e){if(Mt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ru(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tu(t){Pa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(GD(n),r!==n.version))return!0}return!1}function Hg(t){if(Pa(t),ru(t))for(let e=0;e<t.producerNode.length;e++)nu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function nu(t,e){if(WD(t),Pa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)nu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pa(i),i.producerIndexOfThis[r]=e}}function ru(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function WD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function KD(){throw new Error}var QD=KD;function Eg(t){QD=t}function W(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fa=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof Fa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{zg(s)}catch(o){e=e??[],o instanceof Fa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mr(n,e)}remove(e){let{_finalizers:n}=this;n&&Mr(n,e),e instanceof t&&e._removeParent(this)}};rt.EMPTY=(()=>{let t=new rt;return t.closed=!0,t})();var iu=rt.EMPTY;function Oa(t){return t instanceof rt||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function zg(t){W(t)?t():t.unsubscribe()}var L2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ni={setTimeout(t,e,...n){let{delegate:r}=Ni;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ni;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ba(t){Ni.setTimeout(()=>{let{onUnhandledError:e}=L2;if(e)e(t);else throw t})}function ko(){}var Ig=(()=>su("C",void 0,void 0))();function Dg(t){return su("E",void 0,t)}function Sg(t){return su("N",t,void 0)}function su(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function Ri(t){if(L2.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function xg(t){L2.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Vr=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oa(e)&&e.add(this)):this.destination=ZD}static create(e,n,r){return new N2(e,n,r)}next(e){this.isStopped?au(Sg(e),this):this._next(e)}error(e){this.isStopped?au(Dg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?au(Ig,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YD=Function.prototype.bind;function ou(t,e){return YD.call(t,e)}var cu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ua(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ua(r)}else Ua(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ua(n)}}},N2=class extends Vr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&L2.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ou(e.next,s),error:e.error&&ou(e.error,s),complete:e.complete&&ou(e.complete,s)}):i=e}this.destination=new cu(i)}};function Ua(t){L2.useDeprecatedSynchronousErrorHandling?xg(t):Ba(t)}function XD(t){throw t}function au(t,e){let{onStoppedNotification:n}=L2;n&&Ni.setTimeout(()=>n(t,e))}var ZD={closed:!0,next:ko,error:XD,complete:ko};var ki=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Ot(t){return t}function lu(...t){return uu(t)}function uu(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=eS(n)?n:new N2(n,r,i);return Ri(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Tg(r),new r((i,s)=>{let o=new N2({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ki](){return this}pipe(...n){return uu(n)(this)}toPromise(n){return n=Tg(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Tg(t){var e;return(e=t??L2.Promise)!==null&&e!==void 0?e:Promise}function JD(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function eS(t){return t&&t instanceof Vr||JD(t)&&Oa(t)}function fu(t){return W(t?.lift)}function Q(t){return e=>{if(fu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new Po(t,e,n,r,i)}var Po=class extends Vr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pi(){return Q((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fi=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return Pi()(this)}};var Ag=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ag}next(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?iu:(this.currentObservers=null,s.push(n),new rt(()=>{this.currentObservers=null,Mr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new ja(e,n),t})(),ja=class extends ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:iu}};var wt=class extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fo={now(){return(Fo.delegate||Date).now()},delegate:void 0};var $a=class extends ye{constructor(e=1/0,n=1/0,r=Fo){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var qa=class extends rt{constructor(e,n){super()}schedule(e,n=0){return this}};var Oo={setInterval(t,e,...n){let{delegate:r}=Oo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Oo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Oi=class extends qa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Oo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Oo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=Fo.now;var Ui=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var _r=new Ui(Oi);var Ga=class extends Oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wa=class extends Ui{};var du=new Wa(Ga);var xt=new q(t=>t.complete());function Lg(t){return t&&W(t.schedule)}function hu(t){return t[t.length-1]}function Ka(t){return W(hu(t))?t.pop():void 0}function i1(t){return Lg(hu(t))?t.pop():void 0}function Ng(t,e){return typeof hu(t)=="number"?t.pop():e}var Qa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ya(t){return W(t?.then)}function Xa(t){return W(t[ki])}function Za(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Ja(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ec=tS();function tc(t){return W(t?.[ec])}function nc(t){return pg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Sa(n.read());if(i)return yield Sa(void 0);yield yield Sa(r)}}finally{n.releaseLock()}})}function rc(t){return W(t?.getReader)}function _e(t){if(t instanceof q)return t;if(t!=null){if(Xa(t))return nS(t);if(Qa(t))return rS(t);if(Ya(t))return iS(t);if(Za(t))return Rg(t);if(tc(t))return sS(t);if(rc(t))return oS(t)}throw Ja(t)}function nS(t){return new q(e=>{let n=t[ki]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rS(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function iS(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ba)})}function sS(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Rg(t){return new q(e=>{aS(t,e).catch(n=>e.error(n))})}function oS(t){return Rg(nc(t))}function aS(t,e){var n,r,i,s;return hg(this,void 0,void 0,function*(){try{for(n=mg(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Jt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Bt(t,e=0){return Q((n,r)=>{n.subscribe(Y(r,i=>Jt(r,t,()=>r.next(i),e),()=>Jt(r,t,()=>r.complete(),e),i=>Jt(r,t,()=>r.error(i),e)))})}function R2(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kg(t,e){return _e(t).pipe(R2(e),Bt(e))}function Pg(t,e){return _e(t).pipe(R2(e),Bt(e))}function Fg(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Og(t,e){return new q(n=>{let r;return Jt(n,e,()=>{r=t[ec](),Jt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function ic(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{Jt(n,e,()=>{let r=t[Symbol.asyncIterator]();Jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Bg(t,e){return ic(nc(t),e)}function Ug(t,e){if(t!=null){if(Xa(t))return kg(t,e);if(Qa(t))return Fg(t,e);if(Ya(t))return Pg(t,e);if(Za(t))return ic(t,e);if(tc(t))return Og(t,e);if(rc(t))return Bg(t,e)}throw Ja(t)}function ne(t,e){return e?Ug(t,e):_e(t)}function R(...t){let e=i1(t);return ne(t,e)}function ji(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function pu(t){return!!t&&(t instanceof q||W(t.lift)&&W(t.subscribe))}var k2=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cS(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=new N2({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new k2)}});t.subscribe(s)})}function F(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:lS}=Array;function uS(t,e){return lS(e)?t(...e):t(e)}function sc(t){return F(e=>uS(t,e))}var{isArray:fS}=Array,{getPrototypeOf:dS,prototype:hS,keys:pS}=Object;function oc(t){if(t.length===1){let e=t[0];if(fS(e))return{args:e,keys:null};if(mS(e)){let n=pS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function mS(t){return t&&typeof t=="object"&&dS(t)===hS}function ac(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bo(...t){let e=i1(t),n=Ka(t),{args:r,keys:i}=oc(t);if(r.length===0)return ne([],e);let s=new q(gS(r,e,i?o=>ac(i,o):Ot));return n?s.pipe(sc(n)):s}function gS(t,e,n=Ot){return r=>{jg(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)jg(e,()=>{let l=ne(t[c],e),u=!1;l.subscribe(Y(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jg(t,e,n){t?Jt(n,t,e):e()}function $g(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,f=!1,d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let m=!1;_e(n(g,u++)).subscribe(Y(e,w=>{i?.(w),s?h(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let w=c.shift();o?Jt(e,o,()=>p(w)):p(w)}d()}catch(w){e.error(w)}}))};return t.subscribe(Y(e,h,()=>{f=!0,d()})),()=>{a?.()}}function je(t,e,n=1/0){return W(e)?je((r,i)=>F((s,o)=>e(r,s,i,o))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>$g(r,i,t,n)))}function Cn(t=1/0){return je(Ot,t)}function qg(){return Cn(1)}function $i(...t){return qg()(ne(t,i1(t)))}function cc(t){return new q(e=>{_e(t()).subscribe(e)})}function mu(...t){let e=Ka(t),{args:n,keys:r}=oc(t),i=new q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let f=!1;_e(n[u]).subscribe(Y(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?ac(r,a):a),s.complete())}))}});return e?i.pipe(sc(e)):i}function Uo(...t){let e=i1(t),n=Ng(t,1/0),r=t;return r.length?r.length===1?_e(r[0]):Cn(n)(ne(r,e)):xt}function Ne(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function A1(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=_e(t(o,A1(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Gg(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(Y(o,u=>{let f=l++;c=a?t(c,u,f):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function s1(t,e){return W(e)?je(t,e,1):je(t,1)}function gu(t,e=_r){return Q((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(Y(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Mn(t){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function L1(t){return t<=0?()=>xt:Q((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vu(t){return F(()=>t)}function br(t,e=Ot){return t=t??vS,Q((n,r)=>{let i,s=!0;n.subscribe(Y(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function vS(t,e){return t===e}function lc(t=yS){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function yS(){return new k2}function wn(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function y2(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ne((i,s)=>t(i,s,r)):Ot,L1(1),n?Mn(e):lc(()=>new k2))}function yu(t,e,n,r){return Q((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p)),u=0,f=!1,d=new Po(s,p=>{try{let g=t(p),m=a.get(g);if(!m){a.set(g,m=r?r():new ye);let w=h(g,m);if(s.next(w),n){let H=Y(m,()=>{m.complete(),H?.unsubscribe()},void 0,void 0,()=>a.delete(g));d.add(_e(n(w)).subscribe(H))}}m.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(f=!0,u===0));i.subscribe(d);function h(p,g){let m=new q(w=>{u++;let H=g.subscribe(w);return()=>{H.unsubscribe(),--u===0&&f&&d.unsubscribe()}});return m.key=p,m}})}function qi(t){return t<=0?()=>xt:Q((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ne((i,s)=>t(i,s,r)):Ot,qi(1),n?Mn(e):lc(()=>new k2))}function Hr(){return Q((t,e)=>{let n,r=!1;t.subscribe(Y(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Er(t,e){return Q(Gg(t,e,arguments.length>=2,!0))}function Gi(t={}){let{connector:e=()=>new ye,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,f=!1,d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{let g=o;h(),g?.unsubscribe()};return Q((g,m)=>{l++,!f&&!u&&d();let w=c=c??e();m.add(()=>{l--,l===0&&!f&&!u&&(a=Mu(p,i))}),w.subscribe(m),!o&&l>0&&(o=new N2({next:H=>w.next(H),error:H=>{f=!0,d(),a=Mu(h,n,H),w.error(H)},complete:()=>{u=!0,d(),a=Mu(h,r),w.complete()}}),_e(g).subscribe(o))})(s)}}function Mu(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new N2({next:()=>{r.unsubscribe(),t()}});return _e(e(...n)).subscribe(r)}function Wi(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Gi({connector:()=>new $a(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function N1(...t){let e=i1(t);return Q((n,r)=>{(e?$i(t,n,e):$i(t,n)).subscribe(r)})}function ce(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Y(r,c=>{i?.unsubscribe();let l=0,u=s++;_e(t(c,u)).subscribe(i=Y(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uc(t,e){return W(e)?ce(()=>t,e):ce(()=>t)}function wu(t){return Q((e,n)=>{_e(t).subscribe(Y(n,()=>n.complete(),ko)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Y(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function fc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Tt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Tt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ku(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CS=be({__forward_ref__:be});function $2(t){return t.__forward_ref__=$2,t.toString=function(){return Tt(this())},t}function Ut(t){return Av(t)?t():t}function Av(t){return typeof t=="function"&&t.hasOwnProperty(CS)&&t.__forward_ref__===$2}function Lv(t){return t&&!!t.\u0275providers}var Nv="https://g.co/ng/security#xss",k=class extends Error{constructor(e,n){super(Kc(e,n)),this.code=e}};function Kc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var MS=be({\u0275cmp:be}),wS=be({\u0275dir:be}),VS=be({\u0275pipe:be}),_S=be({\u0275mod:be}),Hc=be({\u0275fac:be}),jo=be({__NG_ELEMENT_ID__:be}),Wg=be({__NG_ENV_ID__:be});function Jo(t){return typeof t=="string"?t:t==null?"":String(t)}function bS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jo(t)}function HS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}function O5(t,e){let n=e?` in ${e}`:"";throw new k(-201,!1)}function ES(t,e){t==null&&zS(e,t,null,"!=")}function zS(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qc(t){return Kg(t,kv)||Kg(t,Pv)}function Rv(t){return Qc(t)!==null}function Kg(t,e){return t.hasOwnProperty(e)?t[e]:null}function IS(t){let e=t&&(t[kv]||t[Pv]);return e||null}function Qg(t){return t&&(t.hasOwnProperty(Yg)||t.hasOwnProperty(DS))?t[Yg]:null}var kv=be({\u0275prov:be}),Yg=be({\u0275inj:be}),Pv=be({ngInjectableDef:be}),DS=be({ngInjectorDef:be}),oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Pu;function Fv(){return Pu}function e2(t){let e=Pu;return Pu=t,e}function Ov(t,e,n){let r=Qc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;O5(Tt(t),"Injector")}var Ye=globalThis;var z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var SS={},qo=SS,Fu="__NG_DI_FLAG__",Ec="ngTempTokenPath",xS="ngTokenPath",TS=/\n/gm,AS="\u0275",Xg="__source",Zi;function LS(){return Zi}function Vn(t){let e=Zi;return Zi=t,e}function NS(t,e=oe.Default){if(Zi===void 0)throw new k(-203,!1);return Zi===null?Ov(t,void 0,e):Zi.get(t,e&oe.Optional?null:void 0,e)}function v(t,e=oe.Default){return(Fv()||NS)(Ut(t),e)}function S(t,e=oe.Default){return v(t,Yc(e))}function Yc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ou(t){let e=[];for(let n=0;n<t.length;n++){let r=Ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],c=RS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(v(i,s))}else e.push(v(r))}return e}function Bv(t,e){return t[Fu]=e,t.prototype[Fu]=e,t}function RS(t){return t[Fu]}function kS(t,e,n,r){let i=t[Ec];throw e[Xg]&&i.unshift(e[Xg]),t.message=PS(`
`+t.message,i,n,r),t[xS]=i,t[Ec]=null,t}function PS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AS?t.slice(2):t;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TS,`
  `)}`}function e3(t){return{toString:t}.toString()}var Uv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Uv||{}),l1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(l1||{}),es={},t2=[];function jv(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Bu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];FS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $v(t){return t===3||t===4||t===6}function FS(t){return t.charCodeAt(0)===64}function Go(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Zg(t,n,i,null,e[++r]):Zg(t,n,i,null,null))}}return t}function Zg(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var qv="ng-template";function OS(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&jv(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Gv(t){return t.type===4&&t.value!==qv}function BS(t,e,n){let r=t.type===4&&!n?qv:t.value;return e===r}function US(t,e,n){let r=4,i=t.attrs||[],s=qS(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!P2(r)&&!P2(c))return!1;if(o&&P2(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!BS(t,c,n)||c===""&&e.length===1){if(P2(r))return!1;o=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!OS(t.attrs,l,n)){if(P2(r))return!1;o=!0}continue}let u=r&8?"class":c,f=jS(u,i,Gv(t),n);if(f===-1){if(P2(r))return!1;o=!0;continue}if(l!==""){let d;f>s?d="":d=i[f+1].toLowerCase();let h=r&8?d:null;if(h&&jv(h,l,0)!==-1||r&2&&l!==d){if(P2(r))return!1;o=!0}}}}return P2(r)||o}function P2(t){return(t&1)===0}function jS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return GS(e,t)}function Wv(t,e,n=!1){for(let r=0;r<e.length;r++)if(US(t,e[r],n))return!0;return!1}function $S(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function qS(t){for(let e=0;e<t.length;e++){let n=t[e];if($v(n))return e}return t.length}function GS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function WS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Jg(t,e){return t?":not("+e.trim()+")":e}function KS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!P2(o)&&(e+=Jg(s,i),i=""),r=o,s=s||!P2(r);n++}return i!==""&&(e+=Jg(s,i)),e}function QS(t){return t.map(KS).join(",")}function YS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!P2(i))break;i=s}r++}return{attrs:e,classes:n}}function d1(t){return e3(()=>{let e=Zv(t),n=te(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||l1.Emulated,styles:t.styles||t2,_:null,schemas:t.schemas||null,tView:null,id:""});Jv(n);let r=t.dependencies;return n.directiveDefs=tv(r,!1),n.pipeDefs=tv(r,!0),n.id=JS(n),n})}function XS(t){return Hn(t)||Kv(t)}function ZS(t){return t!==null}function me(t){return e3(()=>({type:t.type,bootstrap:t.bootstrap||t2,declarations:t.declarations||t2,imports:t.imports||t2,exports:t.exports||t2,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ev(t,e){if(t==null)return es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ve(t){return e3(()=>{let e=Zv(t);return Jv(e),e})}function In(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Hn(t){return t[MS]||null}function Kv(t){return t[wS]||null}function Qv(t){return t[VS]||null}function Yv(t){let e=Hn(t)||Kv(t)||Qv(t);return e!==null?e.standalone:!1}function Xv(t,e){let n=t[_S]||null;if(!n&&e===!0)throw new Error(`Type ${Tt(t)} does not have '\u0275mod' property.`);return n}function Zv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||t2,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ev(t.inputs,e),outputs:ev(t.outputs),debugInfo:null}}function Jv(t){t.features?.forEach(e=>e(t))}function tv(t,e){if(!t)return null;let n=e?Qv:XS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZS)}function JS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var h1=0,J=1,G=2,it=3,O2=4,c2=5,zc=6,Wo=7,a2=8,ts=9,ns=10,Oe=11,Ko=12,nv=13,ls=14,B2=15,t3=16,Ki=17,c1=18,Xc=19,ey=20,_n=21,Vu=22,Dr=23,jt=25,B5=1;var Sr=7,Ic=8,rs=9,n2=10,is=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(is||{});function bn(t){return Array.isArray(t)&&typeof t[B5]=="object"}function U2(t){return Array.isArray(t)&&t[B5]===!0}function U5(t){return(t.flags&4)!==0}function Zc(t){return t.componentOffset>-1}function Jc(t){return(t.flags&1)===1}function R1(t){return!!t.template}function ex(t){return(t[G]&512)!==0}function xr(t,e){let n=t.hasOwnProperty(Hc);return n?t[Hc]:null}var Uu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qt(){return ty}function ty(t){return t.type.prototype.ngOnChanges&&(t.setInput=nx),tx}qt.ngInherit=!0;function tx(){let t=ry(this),e=t?.current;if(e){let n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nx(t,e,n,r){let i=this.declaredInputs[n],s=ry(t)||rx(t,{previous:es,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Uu(c&&c.currentValue,e,a===es),t[r]=e}var ny="__ngSimpleChanges__";function ry(t){return t[ny]||null}function rx(t,e){return t[ny]=e}var rv=null;var o1=function(t,e,n){rv?.(t,e,n)},iy="svg",ix="math";function u1(t){for(;Array.isArray(t);)t=t[h1];return t}function sx(t){for(;Array.isArray(t);){if(typeof t[B5]=="object")return t;t=t[h1]}return null}function sy(t,e){return u1(e[t])}function C2(t,e){return u1(e[t.index])}function j5(t,e){return t.data[e]}function oy(t,e){return t[e]}function Dn(t,e){let n=e[t];return bn(n)?n:n[h1]}function ox(t){return(t[G]&4)===4}function $5(t){return(t[G]&128)===128}function ax(t){return U2(t[it])}function ss(t,e){return e==null?null:t[e]}function ay(t){t[Ki]=0}function cx(t){t[G]&1024||(t[G]|=1024,$5(t)&&e6(t))}function lx(t,e){for(;t>0;)e=e[ls],t--;return e}function cy(t){t[G]&9216&&e6(t)}function e6(t){let e=t[it];for(;e!==null&&!(U2(e)&&e[G]&is.HasChildViewsToRefresh||bn(e)&&e[G]&8192);){if(U2(e))e[G]|=is.HasChildViewsToRefresh;else if(e[G]|=8192,!$5(e))break;e=e[it]}}function ly(t,e){if((t[G]&256)===256)throw new k(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function ux(t,e){if(t[_n]===null)return;let n=t[_n].indexOf(e);n!==-1&&t[_n].splice(n,1)}var re={lFrame:yy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fx(){return re.lFrame.elementDepthCount}function dx(){re.lFrame.elementDepthCount++}function hx(){re.lFrame.elementDepthCount--}function uy(){return re.bindingsEnabled}function fy(){return re.skipHydrationRootTNode!==null}function px(t){return re.skipHydrationRootTNode===t}function mx(){re.skipHydrationRootTNode=null}function ae(){return re.lFrame.lView}function Xe(){return re.lFrame.tView}function n3(t){return re.lFrame.contextLView=t,t[a2]}function r3(t){return re.lFrame.contextLView=null,t}function Gt(){let t=dy();for(;t!==null&&t.type===64;)t=t.parent;return t}function dy(){return re.lFrame.currentTNode}function gx(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Pr(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function q5(){return re.lFrame.isParent}function G5(){re.lFrame.isParent=!1}function vx(){return re.lFrame.contextLView}function W5(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yx(t){return re.lFrame.bindingIndex=t}function us(){return re.lFrame.bindingIndex++}function hy(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Cx(){return re.lFrame.inI18n}function Mx(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,ju(e)}function wx(){return re.lFrame.currentDirectiveIndex}function ju(t){re.lFrame.currentDirectiveIndex=t}function py(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function my(){return re.lFrame.currentQueryIndex}function K5(t){re.lFrame.currentQueryIndex=t}function Vx(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[c2]:null}function gy(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=Vx(s),i===null||(s=s[ls],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=vy();return r.currentTNode=e,r.lView=t,!0}function Q5(t){let e=vy(),n=t[J];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vy(){let t=re.lFrame,e=t===null?null:t.child;return e===null?yy(t):e}function yy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Cy(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var My=Cy;function Y5(){let t=Cy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _x(t){return(re.lFrame.contextLView=lx(t,re.lFrame.contextLView))[a2]}function Fr(){return re.lFrame.selectedIndex}function Tr(t){re.lFrame.selectedIndex=t}function t6(){let t=re.lFrame;return j5(t.tView,t.selectedIndex)}function Ste(){re.lFrame.currentNamespace=iy}function xte(){bx()}function bx(){re.lFrame.currentNamespace=null}function Hx(){return re.lFrame.currentNamespace}var wy=!0;function n6(){return wy}function r6(t){wy=t}function Ex(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ty(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function i6(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Cc(t,e,n){Vy(t,e,3,n)}function Mc(t,e,n,r){(t[G]&3)===n&&Vy(t,e,n,r)}function _u(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function Vy(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ki]+=65536),(a<s||s==-1)&&(zx(t,n,e,c),t[Ki]=(t[Ki]&4294901760)+c+2),c++}function iv(t,e){o1(4,t,e);let n=Mt(null);try{e.call(t)}finally{Mt(n),o1(5,t,e)}}function zx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[G]>>14<t[Ki]>>16&&(t[G]&3)===e&&(t[G]+=16384,iv(a,s)):iv(a,s)}var Ji=-1,Ar=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Ix(t){return t instanceof Ar}function Dx(t){return(t.flags&8)!==0}function Sx(t){return(t.flags&16)!==0}function _y(t){return t!==Ji}function Dc(t){let e=t&32767;return t&32767}function xx(t){return t>>16}function Sc(t,e){let n=xx(t),r=e;for(;n>0;)r=r[ls],n--;return r}var $u=!0;function xc(t){let e=$u;return $u=t,e}var Tx=256,by=Tx-1,Hy=5,Ax=0,a1={};function Lx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(r=n[jo]),r==null&&(r=n[jo]=Ax++);let i=r&by,s=1<<i;e.data[t+(i>>Hy)]|=s}function Tc(t,e){let n=Ey(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,bu(r.data,t),bu(e,null),bu(r.blueprint,null));let i=X5(t,e),s=t.injectorIndex;if(_y(i)){let o=Dc(i),a=Sc(i,e),c=a[J].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function bu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ey(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function X5(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xy(i),r===null)return Ji;if(n++,i=i[ls],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function qu(t,e,n){Lx(t,e,n)}function Nx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if($v(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function zy(t,e,n){if(n&oe.Optional||t!==void 0)return t;O5(e,"NodeInjector")}function Iy(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[ts],s=e2(void 0);try{return i?i.get(e,r,n&oe.Optional):Ov(e,r,n&oe.Optional)}finally{e2(s)}}return zy(r,e,n)}function Dy(t,e,n,r=oe.Default,i){if(t!==null){if(e[G]&2048&&!(r&oe.Self)){let o=Fx(t,e,n,r,a1);if(o!==a1)return o}let s=Sy(t,e,n,r,a1);if(s!==a1)return s}return Iy(e,n,r,i)}function Sy(t,e,n,r,i){let s=kx(n);if(typeof s=="function"){if(!gy(e,t,r))return r&oe.Host?zy(i,n,r):Iy(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))O5(n);else return o}finally{My()}}else if(typeof s=="number"){let o=null,a=Ey(t,e),c=Ji,l=r&oe.Host?e[B2][c2]:null;for((a===-1||r&oe.SkipSelf)&&(c=a===-1?X5(t,e):e[a+8],c===Ji||!ov(r,!1)?a=-1:(o=e[J],a=Dc(c),e=Sc(c,e)));a!==-1;){let u=e[J];if(sv(s,a,u.data)){let f=Rx(a,e,n,o,r,l);if(f!==a1)return f}c=e[a+8],c!==Ji&&ov(r,e[J].data[a+8]===l)&&sv(s,a,e)?(o=u,a=Dc(c),e=Sc(c,e)):a=-1}}return i}function Rx(t,e,n,r,i,s){let o=e[J],a=o.data[t+8],c=r==null?Zc(a)&&$u:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,u=wc(a,o,n,c,l);return u!==null?Lr(e,o,u,a):a1}function wc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,f=r?a:a+u,d=i?a+u:l;for(let h=f;h<d;h++){let p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=o[c];if(h&&R1(h)&&h.type===n)return c}return null}function Lr(t,e,n,r){let i=t[n],s=e.data;if(Ix(i)){let o=i;o.resolving&&HS(bS(s[n]));let a=xc(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?e2(o.injectImpl):null,u=gy(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ex(n,s[n],e)}finally{l!==null&&e2(l),xc(a),o.resolving=!1,My()}}return i}function kx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(jo)?t[jo]:void 0;return typeof e=="number"?e>=0?e&by:Px:e}function sv(t,e,n){let r=1<<t;return!!(n[e+(t>>Hy)]&r)}function ov(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Ir=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dy(this._tNode,this._lView,e,Yc(r),n)}};function Px(){return new Ir(Gt(),ae())}function O1(t){return e3(()=>{let e=t.prototype.constructor,n=e[Hc]||Gu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Hc]||Gu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gu(t){return Av(t)?()=>{let e=Gu(Ut(t));return e&&e()}:xr(t)}function Fx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let a=Sy(s,o,n,r|oe.Self,a1);if(a!==a1)return a;let c=s.parent;if(!c){let l=o[ey];if(l){let u=l.get(n,a1,r);if(u!==a1)return u}c=xy(o),o=o[ls]}s=c}return i}function xy(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[c2]:null}function Z5(t){return Nx(Gt(),t)}var dc="__parameters__";function Ox(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ty(t,e,n){return e3(()=>{let r=Ox(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let f=c.hasOwnProperty(dc)?c[dc]:Object.defineProperty(c,dc,{value:[]})[dc];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Bx(t){let e=Ye.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Ux(t){return typeof t=="function"}function jx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function $x(t){return t.flat(Number.POSITIVE_INFINITY)}function J5(t,e){t.forEach(n=>Array.isArray(n)?J5(n,e):e(n))}function Ay(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ac(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ly(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function qx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function e7(t,e,n){let r=i3(t,e);return r>=0?t[r|1]=n:(r=~r,qx(t,r,e,n)),r}function Hu(t,e){let n=i3(t,e);if(n>=0)return t[n|1]}function i3(t,e){return Gx(t,e,1)}function Gx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Or=Bv(Ty("Optional"),8);var s6=Bv(Ty("SkipSelf"),4);function Wx(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Xx))}return s}return Lc.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((f,d)=>{a.push(""),o.push(r(f).then(h=>{a[l+d]=h,u.splice(u.indexOf(f),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>Zx(s));e.push(c)}),Qx(),Promise.all(e).then(()=>{})}var Lc=new Map,Kx=new Set;function Qx(){let t=Lc;return Lc=new Map,t}function Yx(){return Lc.size===0}function Xx(t){return typeof t=="string"?t:t.text()}function Zx(t){Kx.delete(t)}var s3=new z("ENVIRONMENT_INITIALIZER"),Ny=new z("INJECTOR",-1),Ry=new z("INJECTOR_DEF_TYPES"),Nc=class{get(e,n=qo){if(n===qo){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return n}};function fs(t){return{\u0275providers:t}}function Jx(...t){return{\u0275providers:ky(!0,t),\u0275fromNgModule:!0}}function ky(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return J5(e,o=>{let a=o;Wu(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Py(i,s),n}function Py(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];t7(i,s=>{e(s,r)})}}function Wu(t,e,n,r){if(t=Ut(t),!t)return!1;let i=null,s=Qg(t),o=!s&&Hn(t);if(!s&&!o){let c=t.ngModule;if(s=Qg(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Wu(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{J5(s.imports,u=>{Wu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Py(l,e)}if(!a){let l=xr(i)||(()=>new i);e({provide:i,useFactory:l,deps:t2},i),e({provide:Ry,useValue:i,multi:!0},i),e({provide:s3,useValue:()=>v(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;t7(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function t7(t,e){for(let n of t)Lv(n)&&(n=n.\u0275providers),Array.isArray(n)?t7(n,e):e(n)}var eT=be({provide:String,useValue:be});function Fy(t){return t!==null&&typeof t=="object"&&eT in t}function tT(t){return!!(t&&t.useExisting)}function nT(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function rT(t){return!!t.useClass}var o6=new z("Set Injector scope."),Vc={},iT={},Eu;function n7(){return Eu===void 0&&(Eu=new Nc),Eu}var $t=class{},Qo=class extends $t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qu(e,o=>this.processProvider(o)),this.records.set(Ny,Qi(void 0,this)),i.has("environment")&&this.records.set($t,Qi(void 0,this));let s=this.records.get(o6);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ry,t2,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Vn(this),r=e2(void 0),i;try{return e()}finally{Vn(n),e2(r)}}get(e,n=qo,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wg))return e[Wg](this);r=Yc(r);let i,s=Vn(this),o=e2(void 0);try{if(!(r&oe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=lT(e)&&Qc(e);l&&this.injectableDefInScope(l)?c=Qi(Ku(e),Vc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&oe.Self?n7():this.parent;return n=r&oe.Optional&&n===qo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ec]=a[Ec]||[]).unshift(Tt(e)),s)throw a;return kS(a,e,"R3InjectorError",this.source)}else throw a}finally{e2(o),Vn(s)}}resolveInjectorInitializers(){let e=Vn(this),n=e2(void 0),r;try{let i=this.get(s3,t2,oe.Self);for(let s of i)s()}finally{Vn(e),e2(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){e=Ut(e);let n=os(e)?e:Ut(e&&e.provide),r=oT(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,Vc,!0),i.factory=()=>Ou(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Vc&&(n.value=iT,n.value=n.factory()),typeof n.value=="object"&&n.value&&cT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ku(t){let e=Qc(t),n=e!==null?e.factory:xr(t);if(n!==null)return n;if(t instanceof z)throw new k(204,!1);if(t instanceof Function)return sT(t);throw new k(204,!1)}function sT(t){let e=t.length;if(e>0){let r=Ly(e,"?");throw new k(204,!1)}let n=IS(t);return n!==null?()=>n.factory(t):()=>new t}function oT(t){if(Fy(t))return Qi(void 0,t.useValue);{let e=Oy(t);return Qi(e,Vc)}}function Oy(t,e,n){let r;if(os(t)){let i=Ut(t);return xr(i)||Ku(i)}else if(Fy(t))r=()=>Ut(t.useValue);else if(nT(t))r=()=>t.useFactory(...Ou(t.deps||[]));else if(tT(t))r=()=>v(Ut(t.useExisting));else{let i=Ut(t&&(t.useClass||t.provide));if(aT(t))r=()=>new i(...Ou(t.deps));else return xr(i)||Ku(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aT(t){return!!t.deps}function cT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lT(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Qu(t,e){for(let n of t)Array.isArray(n)?Qu(n,e):n&&Lv(n)?Qu(n.\u0275providers,e):e(n)}function By(t,e){t instanceof Qo&&t.assertNotDestroyed();let n,r=Vn(t),i=e2(void 0);try{return e()}finally{Vn(r),e2(i)}}function uT(t){if(!Fv()&&!LS())throw new k(-203,!1)}function av(t,e=null,n=null,r){let i=Uy(t,e,n,r);return i.resolveInjectorInitializers(),i}function Uy(t,e=null,n=null,r,i=new Set){let s=[n||t2,Jx(t)];return r=r||(typeof t=="object"?void 0:Tt(t)),new Qo(s,e||n7(),r||null,i)}var Vt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return av({name:""},i,r,"");{let s=r.name??"";return av({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=qo,e.NULL=new Nc,e.\u0275prov=D({token:e,providedIn:"any",factory:()=>v(Ny)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Yu;function jy(t){Yu=t}function $y(){if(Yu!==void 0)return Yu;if(typeof document<"u")return document;throw new k(210,!1)}var a6=new z("AppId",{providedIn:"root",factory:()=>fT}),fT="ng",r7=new z("Platform Initializer"),st=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Tte=new z("AnimationModuleType"),i7=new z("CSP nonce",{providedIn:"root",factory:()=>$y().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ate(t){return t.ownerDocument}function qy(t){return t instanceof Function?t():t}function dT(t){return(t??S(Vt)).get(st)==="browser"}function Gy(t){return(t.flags&128)===128}var k1=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(k1||{}),hT=/^>|^->|<!--|-->|--!>|<!-$/g,pT=/(<|>)/g,mT="\u200B$1\u200B";function gT(t){return t.replace(hT,e=>e.replace(pT,mT))}var Wy=new Map,vT=0;function yT(){return vT++}function CT(t){Wy.set(t[Xc],t)}function MT(t){Wy.delete(t[Xc])}var cv="__ngContext__";function En(t,e){bn(e)?(t[cv]=e[Xc],CT(e)):t[cv]=e}var wT;function s7(t,e){return wT(t,e)}function o7(t){let e=t[it];return U2(e)?e[it]:e}function Ky(t){return Yy(t[Ko])}function Qy(t){return Yy(t[O2])}function Yy(t){for(;t!==null&&!U2(t);)t=t[O2];return t}function Yi(t,e,n,r,i){if(r!=null){let s,o=!1;U2(r)?s=r:bn(r)&&(o=!0,r=r[h1]);let a=u1(r);t===0&&n!==null?i==null?eC(e,n,a):kc(e,n,a,i||null,!0):t===1&&n!==null?kc(e,n,a,i||null,!0):t===2?PT(e,a,o):t===3&&e.destroyNode(a),s!=null&&OT(e,t,s,n,i)}}function VT(t,e){return t.createText(e)}function _T(t,e,n){t.setValue(e,n)}function bT(t,e){return t.createComment(gT(e))}function Xy(t,e,n){return t.createElement(e,n)}function HT(t,e){let n=e[Oe];o3(t,e,n,2,null,null),e[h1]=null,e[c2]=null}function ET(t,e,n,r,i,s){r[h1]=i,r[c2]=e,o3(t,r,n,1,i,s)}function zT(t,e){o3(t,e,e[Oe],2,null,null)}function IT(t){let e=t[Ko];if(!e)return zu(t[J],t);for(;e;){let n=null;if(bn(e))n=e[Ko];else{let r=e[n2];r&&(n=r)}if(!n){for(;e&&!e[O2]&&e!==t;)bn(e)&&zu(e[J],e),e=e[it];e===null&&(e=t),bn(e)&&zu(e[J],e),n=e&&e[O2]}e=n}}function DT(t,e,n,r){let i=n2+r,s=n.length;r>0&&(n[i-1][O2]=e),r<s-n2?(e[O2]=n[i],Ay(n,n2+r,e)):(n.push(e),e[O2]=null),e[it]=n;let o=e[t3];o!==null&&n!==o&&ST(o,e);let a=e[c1];a!==null&&a.insertView(t),cy(e),e[G]|=128}function ST(t,e){let n=t[rs],i=e[it][it][B2];e[B2]!==i&&(t[G]|=is.HasTransplantedViews),n===null?t[rs]=[e]:n.push(e)}function Zy(t,e){let n=t[rs],r=n.indexOf(e),i=e[it];n.splice(r,1)}function Rc(t,e){if(t.length<=n2)return;let n=n2+e,r=t[n];if(r){let i=r[t3];i!==null&&i!==t&&Zy(i,r),e>0&&(t[n-1][O2]=r[O2]);let s=Ac(t,n2+e);HT(r[J],r);let o=s[c1];o!==null&&o.detachView(s[J]),r[it]=null,r[O2]=null,r[G]&=-129}return r}function a7(t,e){if(!(e[G]&256)){let n=e[Oe];e[Dr]&&Hg(e[Dr]),n.destroyNode&&o3(t,e,n,3,null,null),IT(e)}}function zu(t,e){if(!(e[G]&256)){e[G]&=-129,e[G]|=256,TT(t,e),xT(t,e),e[J].type===1&&e[Oe].destroy();let n=e[t3];if(n!==null&&U2(e[it])){n!==e[it]&&Zy(n,e);let r=e[c1];r!==null&&r.detachView(t)}MT(e)}}function xT(t,e){let n=t.cleanup,r=e[Wo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Wo]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function TT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ar)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];o1(4,a,c);try{c.call(a)}finally{o1(5,a,c)}}else{o1(4,i,s);try{s.call(i)}finally{o1(5,i,s)}}}}}function Jy(t,e,n){return AT(t,e.parent,n)}function AT(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[h1];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===l1.None||s===l1.Emulated)return null}return C2(r,n)}}function kc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eC(t,e,n){t.appendChild(e,n)}function lv(t,e,n,r,i){r!==null?kc(t,e,n,r,i):eC(t,e,n)}function LT(t,e,n,r){t.removeChild(e,n,r)}function c7(t,e){return t.parentNode(e)}function NT(t,e){return t.nextSibling(e)}function tC(t,e,n){return kT(t,e,n)}function RT(t,e,n){return t.type&40?C2(t,n):null}var kT=RT,uv;function c6(t,e,n,r){let i=Jy(t,r,e),s=e[Oe],o=r.parent||e[c2],a=tC(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lv(s,i,n[c],a,!1);else lv(s,i,n,a,!1);uv!==void 0&&uv(s,r,e,n,i)}function _c(t,e){if(e!==null){let n=e.type;if(n&3)return C2(e,t);if(n&4)return Xu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return _c(t,r);{let i=t[e.index];return U2(i)?Xu(-1,i):u1(i)}}else{if(n&32)return s7(e,t)()||u1(t[e.index]);{let r=nC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=o7(t[B2]);return _c(i,r)}else return _c(t,e.next)}}}return null}function nC(t,e){if(e!==null){let r=t[B2][c2],i=e.projection;return r.projection[i]}return null}function Xu(t,e){let n=n2+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return _c(r,i)}return e[Sr]}function PT(t,e,n){let r=c7(t,e);r&&LT(t,r,e,n)}function l7(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&En(u1(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)l7(t,e,n.child,r,i,s,!1),Yi(e,t,i,a,s);else if(c&32){let l=s7(n,r),u;for(;u=l();)Yi(e,t,i,u,s);Yi(e,t,i,a,s)}else c&16?rC(t,e,r,n,i,s):Yi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function o3(t,e,n,r,i,s){l7(n,r,t.firstChild,e,i,s,!1)}function FT(t,e,n){let r=e[Oe],i=Jy(t,n,e),s=n.parent||e[c2],o=tC(s,n,e);rC(r,0,e,n,i,o)}function rC(t,e,n,r,i,s){let o=n[B2],c=o[c2].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Yi(e,t,i,u,s)}else{let l=c,u=o[it];Gy(r)&&(l.flags|=128),l7(t,e,l,u,i,s,!0)}}function OT(t,e,n,r,i){let s=n[Sr],o=u1(n);s!==o&&Yi(e,t,r,s,i);for(let a=n2;a<n.length;a++){let c=n[a];o3(c[J],c,t,e,r,s)}}function BT(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:k1.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=k1.Important),t.setStyle(n,r,i,s))}}function UT(t,e,n){t.setAttribute(e,"style",n)}function iC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Bu(t,e,r),i!==null&&iC(t,e,i),s!==null&&UT(t,e,s)}var hc;function jT(){if(hc===void 0&&(hc=null,Ye.trustedTypes))try{hc=Ye.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hc}function l6(t){return jT()?.createHTML(t)||t}var pc;function oC(){if(pc===void 0&&(pc=null,Ye.trustedTypes))try{pc=Ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pc}function fv(t){return oC()?.createHTML(t)||t}function dv(t){return oC()?.createScriptURL(t)||t}var P1=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nv})`}},Zu=class extends P1{getTypeName(){return"HTML"}},Ju=class extends P1{getTypeName(){return"Style"}},e5=class extends P1{getTypeName(){return"Script"}},t5=class extends P1{getTypeName(){return"URL"}},n5=class extends P1{getTypeName(){return"ResourceURL"}};function M2(t){return t instanceof P1?t.changingThisBreaksApplicationSecurity:t}function B1(t,e){let n=$T(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Nv})`)}return n===e}function $T(t){return t instanceof P1&&t.getTypeName()||null}function aC(t){return new Zu(t)}function cC(t){return new Ju(t)}function lC(t){return new e5(t)}function uC(t){return new t5(t)}function fC(t){return new n5(t)}function qT(t){let e=new i5(t);return GT()?new r5(e):e}var r5=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(l6(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},i5=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=l6(e),n}};function GT(){try{return!!new window.DOMParser().parseFromString(l6(""),"text/html")}catch{return!1}}var WT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function u6(t){return t=String(t),t.match(WT)?t:"unsafe:"+t}function U1(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function a3(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var dC=U1("area,br,col,hr,img,wbr"),hC=U1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pC=U1("rp,rt"),KT=a3(pC,hC),QT=a3(hC,U1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),YT=a3(pC,U1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hv=a3(dC,QT,YT,KT),mC=U1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),XT=U1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ZT=U1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JT=a3(mC,XT,ZT),eA=U1("script,style,template"),s5=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!hv.hasOwnProperty(n))return this.sanitizedSomething=!0,!eA.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!JT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;mC[a]&&(c=u6(c)),this.buf.push(" ",o,'="',pv(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();hv.hasOwnProperty(n)&&!dC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(pv(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},tA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nA=/([^\#-~ |!])/g;function pv(t){return t.replace(/&/g,"&amp;").replace(tA,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(nA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var mc;function u7(t,e){let n=null;try{mc=mc||qT(t);let r=e?String(e):"";n=mc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mc.getInertBodyElement(r)}while(r!==s);let a=new s5().sanitizeChildren(mv(n)||n);return l6(a)}finally{if(n){let r=mv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function mv(t){return"content"in t&&rA(t)?t.content:null}function rA(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var l2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(l2||{});function c3(t){let e=f7();return e?fv(e.sanitize(l2.HTML,t)||""):B1(t,"HTML")?fv(M2(t)):u7($y(),Jo(t))}function iA(t){let e=f7();return e?e.sanitize(l2.URL,t)||"":B1(t,"URL")?M2(t):u6(Jo(t))}function sA(t){let e=f7();if(e)return dv(e.sanitize(l2.RESOURCE_URL,t)||"");if(B1(t,"ResourceURL"))return dv(M2(t));throw new k(904,!1)}function oA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?sA:iA}function gC(t,e,n){return oA(e,n)(t)}function f7(){let t=ae();return t&&t[ns].sanitizer}var aA="h",cA="b";var lA=(t,e,n)=>null;function d7(t,e,n=!1){return lA(t,e,n)}var o5=class{},Pc=class{};function uA(t){let e=Error(`No component factory found for ${Tt(t)}.`);return e[fA]=t,e}var fA="ngComponent";var a5=class{resolveComponentFactory(e){throw uA(e)}},Sn=(()=>{let e=class e{};e.NULL=new a5;let t=e;return t})();function dA(){return ds(Gt(),ae())}function ds(t,e){return new _t(C2(t,e))}var _t=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dA;let t=e;return t})();function hA(t){return t instanceof _t?t.nativeElement:t}var Yo=class{},w2=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>pA();let t=e;return t})();function pA(){let t=ae(),e=Gt(),n=Dn(e.index,t);return(bn(n)?n:t)[Oe]}var mA=(()=>{let e=class e{};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),F1=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},h7=new F1("17.0.3"),Iu={};function p7(t){let e=Mt(null);try{return t()}finally{Mt(e)}}function vC(t){return m7(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function m7(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var c5=class{constructor(){}supports(e){return vC(e)}create(e){return new l5(e)}},vA=(t,e)=>e,l5=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<gv(r,i,s)?n:r,a=gv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){let h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}let f=o.previousIndex;s[f]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vC(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,gA(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new u5(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},u5=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},f5=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Fc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new f5,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var d5=class{constructor(){}supports(e){return e instanceof Map||m7(e)}create(){return new h5}},h5=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||m7(e)))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new p5(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},p5=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function vv(){return new f6([new c5])}var f6=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vv()),deps:[[e,new s6,new Or]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new k(901,!1)}};e.\u0275prov=D({token:e,providedIn:"root",factory:vv});let t=e;return t})();function yv(){return new g7([new d5])}var g7=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||yv()),deps:[[e,new s6,new Or]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new k(901,!1)}};e.\u0275prov=D({token:e,providedIn:"root",factory:yv});let t=e;return t})();function Oc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(u1(s)),U2(s)&&yA(s,r);let o=n.type;if(o&8)Oc(t,e,n.child,r);else if(o&32){let a=s7(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=nC(e,n);if(Array.isArray(a))r.push(...a);else{let c=o7(e[B2]);Oc(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yA(t,e){for(let n=n2;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Oc(r[J],r,i,e)}t[Sr]!==t[h1]&&e.push(t[Sr])}var yC=[];function CA(t){return t[Dr]??MA(t)}function MA(t){let e=yC.pop()??Object.create(VA);return e.lView=t,e}function wA(t){t.lView[Dr]!==t&&(t.lView=null,yC.push(t))}var VA=te(I({},Vg),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{e6(t.lView)},consumerOnSignalRead(){this.lView[Dr]=this}}),_A="ngOriginalError";function Du(t){return t[_A]}var f1=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Du(e);for(;n&&Du(n);)n=Du(n);return n||null}};var CC=!1,bA=new z("",{providedIn:"root",factory:()=>CC});var j1={};function De(t){MC(Xe(),ae(),Fr()+t,!1)}function MC(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Cc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Mc(e,s,0,n)}Tr(n)}function x(t,e=oe.Default){let n=ae();if(n===null)return v(t,e);let r=Gt();return Dy(r,n,Ut(t),e)}function wC(){let t="invalid";throw new Error(t)}function HA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Tr(~i);else{let s=i,o=n[++r],a=n[++r];Mx(o,s);let c=e[s];a(2,c)}}}finally{Tr(-1)}}function d6(t,e,n,r,i,s,o,a,c,l,u){let f=e.blueprint.slice();return f[h1]=i,f[G]=r|4|128|8,(l!==null||t&&t[G]&2048)&&(f[G]|=2048),ay(f),f[it]=f[ls]=t,f[a2]=n,f[ns]=o||t&&t[ns],f[Oe]=a||t&&t[Oe],f[ts]=c||t&&t[ts]||null,f[c2]=s,f[Xc]=yT(),f[zc]=u,f[ey]=l,f[B2]=e.type==2?t[B2]:f,f}function hs(t,e,n,r,i){let s=t.data[e];if(s===null)s=EA(t,e,n,r,i),Cx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=gx();s.injectorIndex=o===null?-1:o.injectorIndex}return Pr(s,!0),s}function EA(t,e,n,r,i){let s=dy(),o=q5(),a=o?s:s&&s.parent,c=t.data[e]=TA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function VC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _C(t,e,n,r,i){let s=Fr(),o=r&2;try{Tr(-1),o&&e.length>jt&&MC(t,e,jt,!1),o1(o?2:0,i),n(r,i)}finally{Tr(s),o1(o?3:1,i)}}function v7(t,e,n){if(U5(e)){let r=Mt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Mt(r)}}}function y7(t,e,n){uy()&&(PA(t,e,n,C2(n,e)),(n.flags&64)===64&&EC(t,e,n))}function C7(t,e,n=C2){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function bC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=M7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function M7(t,e,n,r,i,s,o,a,c,l,u){let f=jt+r,d=f+i,h=zA(f,d),p=typeof l=="function"?l():l;return h[J]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function zA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:j1);return n}function IA(t,e,n,r){let s=r.get(bA,CC)||n===l1.ShadowDom,o=t.selectRootElement(e,s);return DA(o),o}function DA(t){SA(t)}var SA=t=>null;function xA(t,e,n,r){let i=SC(e);i.push(n),t.firstCreatePass&&xC(t).push(r,i.length-1)}function TA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return fy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Cv(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?Mv(n,e,i,s):r.hasOwnProperty(i)&&Mv(n,e,r[i],s)}return n}function Mv(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function AA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let f=s[u],d=n?n.get(f):null,h=d?d.inputs:null,p=d?d.outputs:null;c=Cv(f.inputs,u,c,h),l=Cv(f.outputs,u,l,p);let g=c!==null&&o!==null&&!Gv(e)?QA(c,u,o):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function LA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function w7(t,e,n,r,i,s,o,a){let c=C2(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(_7(t,n,u,r,i),Zc(e)&&NA(n,e.index)):e.type&3?(r=LA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function NA(t,e){let n=Dn(e,t);n[G]&16||(n[G]|=64)}function V7(t,e,n,r){if(uy()){let i=r===null?null:{"":-1},s=OA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&HC(t,e,n,o,i,a),i&&BA(n,r,i)}n.mergedAttrs=Go(n.mergedAttrs,n.attrs)}function HC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)qu(Tc(n,e),t,r[l].type);jA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=VC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Go(n.mergedAttrs,u.hostAttrs),$A(t,n,e,c,u),UA(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}AA(t,n,s)}function RA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;kA(o)!=a&&o.push(a),o.push(n,r,s)}}function kA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Zc(n)&&qA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tc(n,e),En(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Lr(e,t,a,n);if(En(l,e),o!==null&&KA(e,a-i,l,c,n,o),R1(c)){let u=Dn(n.index,e);u[a2]=Lr(e,t,a,n)}}}function EC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=wx();try{Tr(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ju(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&FA(c,l)}}finally{Tr(-1),ju(o)}}function FA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Wv(e,o.selectors,!1))if(r||(r=[]),R1(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;m5(t,e,c)}else r.unshift(o),m5(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function m5(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new k(-301,!1);r.push(e[i],s)}}}function UA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;R1(e)&&(n[""]=t)}}function jA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $A(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=xr(i.type,!0)),o=new Ar(s,R1(i),x);t.blueprint[r]=o,n[r]=o,RA(t,e,r,VC(t,n,i.hostVars,j1),i)}function qA(t,e,n){let r=C2(e,t),i=bC(n),s=t[ns].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=h6(t,d6(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function GA(t,e,n,r,i,s){let o=C2(t,e);WA(e[Oe],o,s,t.value,n,r,i)}function WA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Jo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function KA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++];zC(r,n,c,l,u)}}function zC(t,e,n,r,i){let s=Mt(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Mt(s)}}function QA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function IC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function DC(t,e){let n=t.contentQueries;if(n!==null){let r=Mt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];K5(s),a.contentQueries(2,e[o],o)}}}finally{Mt(r)}}}function h6(t,e){return t[Ko]?t[nv][O2]=e:t[Ko]=e,t[nv]=e,e}function g5(t,e,n){K5(0);let r=Mt(null);try{e(t,n)}finally{Mt(r)}}function SC(t){return t[Wo]||(t[Wo]=[])}function xC(t){return t.cleanup||(t.cleanup=[])}function YA(t,e,n){return(t===null||R1(t))&&(n=sx(n[e.index])),n[Oe]}function TC(t,e){let n=t[ts],r=n?n.get(f1,null):null;r&&r.handleError(e)}function _7(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],l=t.data[o];zC(l,c,r,a,i)}}function XA(t,e,n){let r=sy(e,t);_T(t[Oe],r,n)}var ZA=100;function JA(t,e=!0){let n=t[ns],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[J],a=t[a2];AC(o,t,o.template,a),eL(t)}catch(o){throw e&&TC(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function eL(t){let e=0;for(;t[G]&9216||t[Dr]?.dirty;){if(e===ZA)throw new k(103,!1);e++,RC(t,1)}}function AC(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1;!s&&e[ns].inlineEffectRunner?.flush(),Q5(e);let o=null,a=null;!s&&tL(t)&&(a=CA(e),o=_g(a));try{ay(e),yx(t.bindingStartIndex),n!==null&&_C(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Cc(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Mc(e,f,0,null),_u(e,0)}if(nL(e),LC(e,0),t.contentQueries!==null&&DC(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Cc(e,f)}else{let f=t.contentHooks;f!==null&&Mc(e,f,1),_u(e,1)}HA(t,e);let l=t.components;l!==null&&kC(e,l,0);let u=t.viewQuery;if(u!==null&&g5(2,u,r),!s)if(c){let f=t.viewCheckHooks;f!==null&&Cc(e,f)}else{let f=t.viewHooks;f!==null&&Mc(e,f,2),_u(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vu]){for(let f of e[Vu])f();e[Vu]=null}s||(e[G]&=-73)}catch(c){throw e6(e),c}finally{a!==null&&(bg(a,o),wA(a)),Y5()}}function tL(t){return t.type!==2}function LC(t,e){for(let n=Ky(t);n!==null;n=Qy(n)){n[G]&=~is.HasChildViewsToRefresh;for(let r=n2;r<n.length;r++){let i=n[r];NC(i,e)}}}function nL(t){for(let e=Ky(t);e!==null;e=Qy(e)){if(!(e[G]&is.HasTransplantedViews))continue;let n=e[rs];for(let r=0;r<n.length;r++){let i=n[r],s=i[it];cx(i)}}}function rL(t,e,n){let r=Dn(e,t);NC(r,n)}function NC(t,e){$5(t)&&RC(t,e)}function RC(t,e){let r=t[J],i=t[G],s=t[Dr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&tu(s)),s&&(s.dirty=!1),t[G]&=-9217,o)AC(r,t,r.template,t[a2]);else if(i&8192){LC(t,1);let a=r.components;a!==null&&kC(t,a,1)}}function kC(t,e,n){for(let r=0;r<e.length;r++)rL(t,e[r],n)}function b7(t){for(;t;){t[G]|=64;let e=o7(t);if(ex(t)&&!e)return t;t=e}return null}var Nr=class{get rootNodes(){let e=this._lView,n=e[J];return Oc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[a2]}set context(e){this._lView[a2]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(U2(e)){let n=e[Ic],r=n?n.indexOf(this):-1;r>-1&&(Rc(e,r),Ac(n,r))}this._attachedToViewContainer=!1}a7(this._lView[J],this._lView)}onDestroy(e){ly(this._lView,e)}markForCheck(){b7(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){cy(this._lView),this._lView[G]|=128}detectChanges(){JA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,zT(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}},xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iL;let t=e;return t})();function iL(t){return sL(Gt(),ae(),(t&16)===16)}function sL(t,e,n){if(Zc(t)&&!n){let r=Dn(t.index,e);return new Nr(r,r)}else if(t.type&47){let r=e[B2];return new Nr(r,e)}return null}var PC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),v5=class extends PC{constructor(e){super(),this._lView=e}onDestroy(e){return ly(this._lView,e),()=>ux(this._lView,e)}};function oL(){return new v5(ae())}var wv=new Set;function l3(t){wv.has(t)||(wv.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var y5=class extends ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Su(s),i&&(i=Su(i)),o&&(o=Su(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof rt&&e.add(a),a}};function Su(t){return e=>{setTimeout(t,void 0,e)}}var Fe=y5;function Vv(...t){}function aL(){let t=typeof Ye.requestAnimationFrame=="function",e=Ye[t?"requestAnimationFrame":"setTimeout"],n=Ye[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var X=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=aL().nativeRequestAnimationFrame,uL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cL,Vv,Vv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cL={};function H7(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,C5(t),t.isCheckStableRunning=!0,H7(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),C5(t))}function uL(t){let e=()=>{lL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(fL(a))return n.invokeTask(i,s,o,a);try{return _v(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return _v(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),bv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,C5(t),H7(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function C5(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bv(t){t._nesting--,H7(t)}var M5=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}},FC=new z("",{providedIn:"root",factory:OC});function OC(){let t=S(X),e=!0,n=new q(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new q(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{X.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Uo(n,r.pipe(Gi()))}function fL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Xi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xi||{}),dL={destroy(){}};function E7(t,e){!e&&uT(E7);let n=e?.injector??S(Vt);if(!dT(n))return dL;l3("NgAfterNextRender");let r=n.get(BC),i=r.handler??=new V5,s=e?.phase??Xi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(PC).onDestroy(o),c=new w5(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var w5=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(X),this.errorHandler=e.get(f1,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},V5=class{constructor(){this.executingCallbacks=!1,this.buckets={[Xi.EarlyRead]:new Set,[Xi.Write]:new Set,[Xi.MixedReadWrite]:new Set,[Xi.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new k(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},BC=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function hL(t,e){let n=Dn(e,t),r=n[J];pL(r,n);let i=n[h1];i!==null&&n[zc]===null&&(n[zc]=d7(i,n[ts])),z7(r,n,n[a2])}function pL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function z7(t,e,n){Q5(e);try{let r=t.viewQuery;r!==null&&g5(1,r,n);let i=t.template;i!==null&&_C(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&DC(t,e),t.staticViewQueries&&g5(2,t.viewQuery,n);let s=t.components;s!==null&&mL(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Y5()}}function mL(t,e){for(let n=0;n<e.length;n++)hL(t,e[n])}function Bc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ku(i,a);else if(s==2){let c=a,l=e[++o];r=ku(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Uc=class extends Sn{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hn(e);return new as(n,this.ngModule)}};function Hv(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function gL(t){let e=t.toLowerCase();return e==="svg"?iy:e==="math"?ix:null}var _5=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yc(r);let i=this.injector.get(e,Iu,r);return i!==Iu||n===Iu?i:this.parentInjector.get(e,n,r)}},as=class extends Pc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Hv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Hv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=QS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof $t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new _5(e,s):e,a=o.get(Yo,null);if(a===null)throw new k(407,!1);let c=o.get(mA,null),l=o.get(BC,null),u={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l},f=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=r?IA(f,r,this.componentDef.encapsulation,o):Xy(f,d,gL(d)),p=4608,g=this.componentDef.onPush?576:528,m=this.componentDef.signals?p:g,w=null;h!==null&&(w=d7(h,o,!0));let H=M7(0,null,null,1,0,null,null,null,null,null,null),V=d6(null,H,null,m,null,null,u,f,o,null,w);Q5(V);let E,N;try{let B=this.componentDef,se,Le=null;B.findHostDirectiveDefs?(se=[],Le=new Map,B.findHostDirectiveDefs(B,se,Le),se.push(B)):se=[B];let St=vL(V,h),Ai=yL(St,h,B,se,V,u,f);N=j5(H,jt),h&&wL(f,B,h,r),n!==void 0&&VL(N,this.ngContentSelectors,n),E=ML(Ai,B,se,Le,V,[_L]),z7(H,V,null)}finally{Y5()}return new b5(this.componentType,E,ds(N,V),V,N)}},b5=class extends o5{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Nr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;_7(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=Dn(this._tNode.index,s);b7(o)}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vL(t,e){let n=t[J],r=jt;return t[r]=e,hs(n,r,2,"#host",null)}function yL(t,e,n,r,i,s,o){let a=i[J];CL(r,t,e,o);let c=null;e!==null&&(c=d7(e,i[ts]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=d6(i,bC(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&m5(a,t,r.length-1),h6(i,f),i[t.index]=f}function CL(t,e,n,r){for(let i of t)e.mergedAttrs=Go(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Bc(e,e.mergedAttrs,!0),n!==null&&sC(r,n,e))}function ML(t,e,n,r,i,s){let o=Gt(),a=i[J],c=C2(o,i);HC(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let f=o.directiveStart+u,d=Lr(i,a,f,o);En(d,i)}EC(a,i,o),c&&En(c,i);let l=Lr(i,a,o.directiveStart+o.componentOffset,o);if(t[a2]=i[a2]=l,s!==null)for(let u of s)u(l,e);return v7(a,o,t),l}function wL(t,e,n,r){if(r)Bu(t,n,["ng-version",h7.full]);else{let{attrs:i,classes:s}=YS(e.selectors[0]);i&&Bu(t,n,i),s&&s.length>0&&iC(t,n,s.join(" "))}}function VL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function _L(){let t=Gt();i6(ae()[J],t)}function bL(t){return Object.getPrototypeOf(t.prototype).constructor}function r2(t){let e=bL(t.type),n=!0,r=[t];for(;e;){let i;if(R1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=gc(t.inputs),o.inputTransforms=gc(t.inputTransforms),o.declaredInputs=gc(t.declaredInputs),o.outputs=gc(t.outputs);let a=i.hostBindings;a&&IL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&EL(t,c),l&&zL(t,l),fc(t.inputs,i.inputs),fc(t.declaredInputs,i.declaredInputs),fc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),fc(o.inputTransforms,i.inputTransforms)),R1(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===r2&&(n=!1)}}e=Object.getPrototypeOf(e)}HL(r)}function HL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Go(i.hostAttrs,n=Go(n,i.hostAttrs))}}function gc(t){return t===es?{}:t===t2?[]:t}function EL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function zL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function IL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function I7(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function UC(t,e,n){return t[e]=n}function j2(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DL(t,e,n,r){let i=j2(t,e,n);return j2(t,e+1,r)||i}function V2(t,e,n,r){let i=ae(),s=us();if(j2(i,s,e)){let o=Xe(),a=t6();GA(a,i,t,e,n,r)}return V2}function SL(t,e,n,r){return j2(t,us(),n)?e+Jo(n)+r:j1}function vc(t,e){return t<<17|e<<2}function Rr(t){return t>>17&32767}function xL(t){return(t&2)==2}function TL(t,e){return t&131071|e<<17}function H5(t){return t|2}function cs(t){return(t&131068)>>2}function xu(t,e){return t&-131069|e<<2}function AL(t){return(t&1)===1}function E5(t){return t|1}function LL(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Rr(o),c=cs(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||i3(f,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let d=Rr(t[a+1]);t[r+1]=vc(d,a),d!==0&&(t[d+1]=xu(t[d+1],r)),t[a+1]=TL(t[a+1],r)}else t[r+1]=vc(a,0),a!==0&&(t[a+1]=xu(t[a+1],r)),a=r;else t[r+1]=vc(c,0),a===0?a=r:t[c+1]=xu(t[c+1],r),c=r;l&&(t[r+1]=H5(t[r+1])),Ev(t,u,r,!0,s),Ev(t,u,r,!1,s),NL(e,u,t,r,s),o=vc(a,c),s?e.classBindings=o:e.styleBindings=o}function NL(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&i3(s,e)>=0&&(n[r+1]=E5(n[r+1]))}function Ev(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Rr(s):cs(s),c=!1;for(;a!==0&&(c===!1||o);){let l=t[a],u=t[a+1];RL(l,e)&&(c=!0,t[a+1]=r?E5(u):H5(u)),a=r?Rr(u):cs(u)}c&&(t[n+1]=r?H5(s):E5(s))}function RL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?i3(t,e)>=0:!1}var F2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kL(t){return t.substring(F2.key,F2.keyEnd)}function PL(t){return FL(t),jC(t,$C(t,0,F2.textEnd))}function jC(t,e){let n=F2.textEnd;return n===e?-1:(e=F2.keyEnd=OL(t,F2.key=e,n),$C(t,e,n))}function FL(t){F2.key=0,F2.keyEnd=0,F2.value=0,F2.valueEnd=0,F2.textEnd=t.length}function $C(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function OL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ze(t,e,n){let r=ae(),i=us();if(j2(r,i,e)){let s=Xe(),o=t6();w7(s,o,r,t,e,r[Oe],n,!1)}return Ze}function z5(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";_7(t,n,s[o],o,r)}function Br(t,e,n){return qC(t,e,n,!1),Br}function u3(t,e){return qC(t,e,null,!0),u3}function $1(t){UL(KL,BL,t,!0)}function BL(t,e){for(let n=PL(e);n>=0;n=jC(e,n))e7(t,kL(e),!0)}function qC(t,e,n,r){let i=ae(),s=Xe(),o=hy(2);if(s.firstUpdatePass&&WC(s,t,o,r),e!==j1&&j2(i,o,e)){let a=s.data[Fr()];KC(s,a,i,i[Oe],t,i[o+1]=YL(e,n),r,o)}}function UL(t,e,n,r){let i=Xe(),s=hy(2);i.firstUpdatePass&&WC(i,null,s,r);let o=ae();if(n!==j1&&j2(o,s,n)){let a=i.data[Fr()];if(QC(a,r)&&!GC(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ku(c,n||"")),z5(i,a,o,n,r)}else QL(i,a,o,o[Oe],o[s+1],o[s+1]=WL(t,e,n),r,s)}}function GC(t,e){return e>=t.expandoStartIndex}function WC(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Fr()],o=GC(t,n);QC(s,r)&&e===null&&!o&&(e=!1),e=jL(i,s,e,r),LL(i,s,e,n,o,r)}}function jL(t,e,n,r){let i=py(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tu(null,t,e,n,r),n=Xo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Tu(i,t,e,n,r),s===null){let c=$L(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Tu(null,t,e,c[1],r),c=Xo(c,e.attrs,r),qL(t,e,r,c))}else s=GL(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function $L(t,e,n){let r=n?e.classBindings:e.styleBindings;if(cs(r)!==0)return t[Rr(r)]}function qL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Rr(i)]=r}function GL(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Xo(r,o,n)}return Xo(r,e.attrs,n)}function Tu(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),e7(t,o,n?!0:e[++s]))}return t===void 0?null:t}function WL(t,e,n){if(n==null||n==="")return t2;let r=[],i=M2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function KL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&e7(t,r,n)}function QL(t,e,n,r,i,s,o,a){i===j1&&(i=t2);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;u!==null||f!==null;){let d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0,p=null,g;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):f===null||u!==null&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),p!==null&&KC(t,e,n,r,p,g,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}function KC(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=AL(l)?zv(c,e,n,i,cs(l),o):void 0;if(!jc(u)){jc(s)||xL(l)&&(s=zv(c,null,n,i,a,o));let f=sy(Fr(),n);BT(r,o,f,i,s)}}function zv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=u===null,d=n[i+1];d===j1&&(d=f?t2:void 0);let h=f?Hu(d,r):u===r?d:void 0;if(l&&!jc(h)&&(h=Hu(c,r)),jc(h)&&(a=h,o))return a;let p=t[i+1];i=o?Rr(p):cs(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Hu(c,r))}return a}function jc(t){return t!==void 0}function YL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Tt(M2(t)))),t}function QC(t,e){return(t.flags&(e?8:16))!==0}var Lte=new RegExp(`^(\\d+)*(${cA}|${aA})*(.*)`);var XL=(t,e)=>null;function I5(t,e){return XL(t,e)}function YC(t,e,n,r){let i=e.tView,o=t[G]&4096?4096:16,a=d6(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[t3]=c;let l=t[c1];return l!==null&&(a[c1]=l.createEmbeddedView(i)),z7(i,a,n),a}function ZL(t,e){let n=n2+e;if(n<t.length)return t[n]}function D5(t,e){return!e||Gy(t)}function XC(t,e,n,r=!0){let i=e[J];if(DT(i,e,t,n),r){let s=Xu(n,t),o=e[Oe],a=c7(o,t[Sr]);a!==null&&ET(i,t[c2],o,e,a,s)}}function JL(t,e){let n=Rc(t,e);return n!==void 0&&a7(n[J],n),n}var q1=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eN;let t=e;return t})();function eN(){let t=Gt();return JC(t,ae())}var tN=q1,ZC=class extends tN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ds(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){let e=X5(this._hostTNode,this._hostLView);if(_y(e)){let n=Sc(e,this._hostLView),r=Dc(e),i=n[J].data[r+8];return new Ir(i,n)}else return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Iv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-n2}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=I5(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,D5(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Ux(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new as(Hn(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(o?l:this.parentInjector).get($t,null);g&&(s=g)}let u=Hn(c.componentType??{}),f=I5(this._lContainer,u?.id??null),d=f?.firstChild??null,h=c.create(l,i,d,s);return this.insertImpl(h.hostView,a,D5(this._hostTNode,f)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ax(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[it],l=new ZC(c,c[c2],c[it]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return XC(o,i,s,r),e.attachToViewContainerRef(),Ay(Au(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Iv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rc(this._lContainer,n);r&&(Ac(Au(this._lContainer),n),a7(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rc(this._lContainer,n);return r&&Ac(Au(this._lContainer),n)!=null?new Nr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Iv(t){return t[Ic]}function Au(t){return t[Ic]||(t[Ic]=[])}function JC(t,e){let n,r=e[t.index];return U2(r)?n=r:(n=IC(r,e,null,t),e[t.index]=n,h6(e,n)),rN(n,e,t,r),new ZC(n,t,e)}function nN(t,e){let n=t[Oe],r=n.createComment(""),i=C2(e,t),s=c7(n,i);return kc(n,s,r,NT(n,i),!1),r}var rN=oN,iN=(t,e,n)=>!1;function sN(t,e,n){return iN(t,e,n)}function oN(t,e,n,r){if(t[Sr])return;let i;n.type&8?i=u1(r):i=nN(e,n),t[Sr]=i}function aN(t,e,n,r,i,s,o,a,c){let l=e.consts,u=hs(e,t,4,o||null,ss(l,a));V7(e,n,u,ss(l,c)),i6(e,u);let f=u.tView=M7(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function G1(t,e,n,r,i,s,o,a){let c=ae(),l=Xe(),u=t+jt,f=l.firstCreatePass?aN(u,l,c,e,n,r,i,s,o):l.data[u];Pr(f,!1);let d=cN(l,c,f,t);n6()&&c6(l,c,d,f),En(d,c);let h=IC(d,c,d,f);return c[u]=h,h6(c,h),sN(h,f,c),Jc(f)&&y7(l,c,f),o!=null&&C7(c,f,a),G1}var cN=lN;function lN(t,e,n,r){return r6(!0),e[Oe].createComment("")}function Rte(t,e,n){l3("NgControlFlow");let r=ae(),i=us(),s=uN(r,jt+t),o=0;if(j2(r,i,e)){let a=Mt(null);try{if(JL(s,o),e!==-1){let c=fN(r[J],e),l=I5(s,c.tView.ssrId),u=YC(r,c,n,{dehydratedView:l});XC(s,u,o,D5(c,l))}}finally{Mt(a)}}else{let a=ZL(s,o);a!==void 0&&(a[a2]=n)}}function uN(t,e){return t[e]}function fN(t,e){return j5(t,e+jt)}function dN(t,e,n,r,i,s){let o=e.consts,a=ss(o,i),c=hs(e,t,2,r,a);return V7(e,n,c,ss(o,s)),c.attrs!==null&&Bc(c,c.attrs,!1),c.mergedAttrs!==null&&Bc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function pt(t,e,n,r){let i=ae(),s=Xe(),o=jt+t,a=i[Oe],c=s.firstCreatePass?dN(o,s,i,e,n,r):s.data[o],l=hN(s,i,c,a,e,t);i[o]=l;let u=Jc(c);return Pr(c,!0),sC(a,l,c),(c.flags&32)!==32&&n6()&&c6(s,i,l,c),fx()===0&&En(l,i),dx(),u&&(y7(s,i,c),v7(s,c,i)),r!==null&&C7(i,c),pt}function bt(){let t=Gt();q5()?G5():(t=t.parent,Pr(t,!1));let e=t;px(e)&&mx(),hx();let n=Xe();return n.firstCreatePass&&(i6(n,t),U5(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Dx(e)&&z5(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Sx(e)&&z5(n,e,ae(),e.stylesWithoutHost,!1),bt}function q2(t,e,n,r){return pt(t,e,n,r),bt(),q2}var hN=(t,e,n,r,i,s)=>(r6(!0),Xy(r,i,Hx()));function pN(t,e,n,r,i){let s=e.consts,o=ss(s,r),a=hs(e,t,8,"ng-container",o);o!==null&&Bc(a,o,!0);let c=ss(s,i);return V7(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function f3(t,e,n){let r=ae(),i=Xe(),s=t+jt,o=i.firstCreatePass?pN(s,i,r,e,n):i.data[s];Pr(o,!0);let a=gN(i,r,o,t);return r[s]=a,n6()&&c6(i,r,a,o),En(a,r),Jc(o)&&(y7(i,r,o),v7(i,o,r)),n!=null&&C7(r,o),f3}function d3(){let t=Gt(),e=Xe();return q5()?G5():(t=t.parent,Pr(t,!1)),e.firstCreatePass&&(i6(e,t),U5(t)&&e.queries.elementEnd(t)),d3}function mN(t,e,n){return f3(t,e,n),d3(),mN}var gN=(t,e,n,r)=>(r6(!0),bT(e[Oe],""));function h3(){return ae()}function D7(t,e,n){let r=ae(),i=us();if(j2(r,i,e)){let s=Xe(),o=t6();w7(s,o,r,t,e,r[Oe],n,!0)}return D7}function S7(t,e,n){let r=ae(),i=us();if(j2(r,i,e)){let s=Xe(),o=t6(),a=py(s.data),c=YA(a,o,r);w7(s,o,r,t,e,c,n,!0)}return S7}var zr=void 0;function vN(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var yN=["en",[["a","p"],["AM","PM"],zr],[["AM","PM"],zr,zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zr,"{1} 'at' {0}",zr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vN],Lu={};function _2(t){let e=CN(t),n=Dv(e);if(n)return n;let r=e.split("-")[0];if(n=Dv(r),n)return n;if(r==="en")return yN;throw new k(701,!1)}function Dv(t){return t in Lu||(Lu[t]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[t]),Lu[t]}var Je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Je||{});function CN(t){return t.toLowerCase().replace(/_/g,"-")}var $c="en-US";var MN=$c;function wN(t){ES(t,"Expected localeId to be defined"),typeof t=="string"&&(MN=t.toLowerCase().replace(/_/g,"-"))}function Tn(t){return!!t&&typeof t.then=="function"}function x7(t){return!!t&&typeof t.subscribe=="function"}function At(t,e,n,r){let i=ae(),s=Xe(),o=Gt();return _N(s,i,i[Oe],o,t,e,r),At}function VN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Wo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function _N(t,e,n,r,i,s,o){let a=Jc(r),l=t.firstCreatePass&&xC(t),u=e[a2],f=SC(e),d=!0;if(r.type&3||o){let g=C2(r,e),m=o?o(g):g,w=f.length,H=o?E=>o(u1(E[r.index])):r.index,V=null;if(!o&&a&&(V=VN(t,e,i,r.index)),V!==null){let E=V.__ngLastListenerFn__||V;E.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,d=!1}else{s=xv(r,e,u,s,!1);let E=n.listen(m,i,s);f.push(s,E),l&&l.push(i,H,w,w+1)}}else s=xv(r,e,u,s,!1);let h=r.outputs,p;if(d&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let w=p[m],H=p[m+1],N=e[w][H].subscribe(s),B=f.length;f.push(s,N),l&&l.push(i,r.index,B,-(B+1))}}}function Sv(t,e,n,r){try{return o1(6,e,n),n(r)!==!1}catch(i){return TC(t,i),!1}finally{o1(7,e,n)}}function xv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Dn(t.index,e):e;b7(a);let c=Sv(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=Sv(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Lt(t=1){return _x(t)}function bN(t,e){let n=null,r=$S(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Wv(t,s,!0):WS(r,s))return i}return n}function eM(t){let e=ae()[B2][c2];if(!e.projection){let n=t?t.length:1,r=e.projection=Ly(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?bN(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function tM(t,e=0,n){let r=ae(),i=Xe(),s=hs(i,jt+t,16,null,n||null);s.projection===null&&(s.projection=e),G5(),(!r[zc]||fy())&&(s.flags&32)!==32&&FT(i,r,s)}function HN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function kte(t){let e=vx();return oy(e,jt+t)}function b2(t,e=""){let n=ae(),r=Xe(),i=t+jt,s=r.firstCreatePass?hs(r,i,1,e,null):r.data[i],o=EN(r,n,s,e,t);n[i]=o,n6()&&c6(r,n,o,s),Pr(s,!1)}var EN=(t,e,n,r,i)=>(r6(!0),VT(e[Oe],r));function T7(t){return W1("",t,""),T7}function W1(t,e,n){let r=ae(),i=SL(r,t,e,n);return i!==j1&&XA(r,Fr(),i),W1}function zN(t,e,n){let r=Xe();if(r.firstCreatePass){let i=R1(t);S5(n,r.data,r.blueprint,i,!0),S5(e,r.data,r.blueprint,i,!1)}}function S5(t,e,n,r,i){if(t=Ut(t),Array.isArray(t))for(let s=0;s<t.length;s++)S5(t[s],e,n,r,i);else{let s=Xe(),o=ae(),a=Gt(),c=os(t)?t:Ut(t.provide),l=Oy(t),u=a.providerIndexes&1048575,f=a.directiveStart,d=a.providerIndexes>>20;if(os(t)||!t.multi){let h=new Ar(l,i,x),p=Ru(c,e,i?u:u+d,f);p===-1?(qu(Tc(a,o),s,c),Nu(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=Ru(c,e,u+d,f),p=Ru(c,e,u,u+d),g=h>=0&&n[h],m=p>=0&&n[p];if(i&&!m||!i&&!g){qu(Tc(a,o),s,c);let w=SN(i?DN:IN,n.length,i,r,l);!i&&m&&(n[p].providerFactory=w),Nu(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else{let w=nM(n[i?p:h],l,!i&&r);Nu(s,t,h>-1?h:p,w)}!i&&r&&m&&n[p].componentProviders++}}}function Nu(t,e,n,r){let i=os(e),s=rT(e);if(i||s){let c=(s?Ut(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function nM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ru(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function IN(t,e,n,r){return x5(this.multi,[])}function DN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Lr(n,n[J],this.providerFactory.index,r);s=a.slice(0,o),x5(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],x5(i,s);return s}function x5(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SN(t,e,n,r,i){let s=new Ar(t,n,x);return s.multi=[],s.index=e,s.componentProviders=0,nM(s,i,r&&!n),s}function K1(t,e=[]){return n=>{n.providersResolver=(r,i)=>zN(r,i?i(t):t,e)}}var zn=class{},Zo=class{};var qc=class extends zn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uc(this);let i=Xv(e);this._bootstrapComponents=qy(i.bootstrap),this._r3Injector=Uy(e,n,[{provide:zn,useValue:this},{provide:Sn,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gc=class extends Zo{constructor(e){super(),this.moduleType=e}create(e){return new qc(this.moduleType,e,[])}};function xN(t,e,n){return new qc(t,e,n)}var T5=class extends zn{constructor(e){super(),this.componentFactoryResolver=new Uc(this),this.instance=null;let n=new Qo([...e.providers,{provide:zn,useValue:this},{provide:Sn,useValue:this.componentFactoryResolver}],e.parent||n7(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function p6(t,e,n=null){return new T5({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var TN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ky(!1,r.type),s=i.length>0?p6([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(v($t))});let t=e;return t})();function An(t){l3("NgStandalone"),t.getStandaloneInjector=e=>e.get(TN).getOrCreateStandaloneInjector(t)}function Pte(t,e,n,r){return iM(ae(),W5(),t,e,n,r)}function Fte(t,e,n,r,i){return AN(ae(),W5(),t,e,n,r,i)}function rM(t,e){let n=t[e];return n===j1?void 0:n}function iM(t,e,n,r,i,s){let o=e+n;return j2(t,o,i)?UC(t,o+1,s?r.call(s,i):r(i)):rM(t,o+1)}function AN(t,e,n,r,i,s,o){let a=e+n;return DL(t,a,i,s)?UC(t,a+2,o?r.call(o,i,s):r(i,s)):rM(t,a+2)}function Ote(t,e){let n=Xe(),r,i=t+jt;n.firstCreatePass?(r=LN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=xr(r.type,!0)),o,a=e2(x);try{let c=xc(!1),l=s();return xc(c),HN(n,ae(),i,l),l}finally{e2(a)}}function LN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Bte(t,e,n){let r=t+jt,i=ae(),s=oy(i,r);return NN(i,r)?iM(i,W5(),e,s.transform,n,s):s.transform(n)}function NN(t,e){return t[J].data[e].pure}function RN(){return this._results[Symbol.iterator]()}var A5=class t{get changes(){return this._changes||(this._changes=new Fe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=$x(e);(this._changesDetected=!jx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FN;let t=e;return t})(),kN=kr,PN=class extends kN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=YC(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Nr(i)}};function FN(){return m6(Gt(),ae())}function m6(t,e){return t.type&4?new PN(e,t,ds(t,e)):null}var L5=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},N5=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)cM(e,n).matches!==null&&this.queries[n].setDirty()}},Wc=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},R5=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},k5=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,ON(n,s)),this.matchTNodeWithReadOption(e,n,wc(n,e,s,!1,!1))}else r===kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_t||i===q1||i===kr&&n.type&4)this.addMatch(n.index,-2);else{let s=wc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ON(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function BN(t,e){return t.type&11?ds(t,e):t.type&4?m6(t,e):null}function UN(t,e,n,r){return n===-1?BN(e,t):n===-2?jN(t,e,r):Lr(t,t[J],n,e)}function jN(t,e,n){if(n===_t)return ds(e,t);if(n===kr)return m6(e,t);if(n===q1)return JC(e,t)}function sM(t,e,n,r){let i=e[c1].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(UN(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function P5(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=sM(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let f=n2;f<u.length;f++){let d=u[f];d[t3]===d[it]&&P5(d[J],d,l,r)}if(u[rs]!==null){let f=u[rs];for(let d=0;d<f.length;d++){let h=f[d];P5(h[J],h,l,r)}}}}}return r}function $N(t){let e=ae(),n=Xe(),r=my();K5(r+1);let i=cM(n,r);if(t.dirty&&ox(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?P5(n,e,r,[]):sM(n,e,i,r);t.reset(s,hA),t.notifyOnChanges()}return!0}return!1}function jte(t,e,n){let r=Xe();r.firstCreatePass&&(aM(r,new Wc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),oM(r,ae(),e)}function qN(t,e,n,r){let i=Xe();if(i.firstCreatePass){let s=Gt();aM(i,new Wc(e,n,r),s.index),KN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}oM(i,ae(),n)}function GN(){return WN(ae(),my())}function WN(t,e){return t[c1].queries[e].queryList}function oM(t,e,n){let r=new A5((n&4)===4);xA(t,e,r,r.destroy),e[c1]===null&&(e[c1]=new N5),e[c1].queries.push(new L5(r))}function aM(t,e,n){t.queries===null&&(t.queries=new R5),t.queries.track(new k5(e,n))}function KN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function cM(t,e){return t.queries.getByIndex(e)}function $te(t,e){return m6(t,e)}var yc=null;function QN(t){yc!==null&&(t.defaultEncapsulation!==yc.defaultEncapsulation||t.preserveWhitespaces!==yc.preserveWhitespaces)||(yc=t)}var g6=new z("Application Initializer"),lM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=S(g6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Tn(o))r.push(o);else if(x7(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v6=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function YN(){return typeof $localize<"u"&&$localize.locale||$c}var y6=new z("LocaleId",{providedIn:"root",factory:()=>S(y6,oe.Optional|oe.SkipSelf)||YN()});var ps=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wt(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F5=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},C6=(()=>{let e=class e{compileModuleSync(r){return new Gc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Xv(r),o=qy(s.declarations).reduce((a,c)=>{let l=Hn(c);return l&&a.push(new as(l)),a},[]);return new F5(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XN=new z("compilerOptions");var A7=new z(""),p3=new z(""),M6=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,L7||(ZN(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(v(X),v(w6),v(p3))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),w6=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return L7?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function ZN(t){L7=t}var L7,$o=null,uM=new z("AllowMultipleToken"),fM=new z("PlatformDestroyListeners"),V6=new z("appBootstrapListener");function JN(t,e,n){let r=new Gc(n);return Promise.resolve(r)}function eR(){Eg(()=>{throw new k(600,!1)})}function tR(t){return t.isBoundToModule}function nR(t){if($o&&!$o.get(uM,!1))throw new k(400,!1);eR(),$o=t;let e=t.get(hM);return rR(t),e}function rR(t){t.get(r7,null)?.forEach(n=>n())}function N7(t,e,n=[]){let r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=dM();if(!o||o.injector.get(uM,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):nR(sR(a,r))}return iR(i)}}function iR(t){let e=dM();if(!e)throw new k(401,!1);return e}function sR(t=[],e){return Vt.create({name:e,providers:[{provide:o6,useValue:"platform"},{provide:fM,useValue:new Set([()=>$o=null])},...t]})}function dM(){return $o?.get(hM)??null}var hM=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=aR(i?.ngZone,oR({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=xN(r.moduleType,this.injector,fR(()=>s)),a=o.injector.get(f1,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{bc(this._modules,o),c.unsubscribe()})}),cR(a,s,()=>{let c=o.injector.get(lM);return c.runInitializers(),c.donePromise.then(()=>{let l=o.injector.get(y6,$c);return wN(l||$c),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=pM({},i);return JN(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(G2);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new k(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(fM,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(v(Vt))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function oR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function aR(t="zone.js",e){return t==="noop"?new M5:t==="zone.js"?new X(e):t}function cR(t,e,n){try{let r=n();return Tn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function pM(t,e){return Array.isArray(e)?e.reduce(pM,t):I(I({},t),e)}var G2=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(mM),this.zoneIsStable=S(FC),this.componentTypes=[],this.components=[],this.isStable=S(ps).hasPendingTasks.pipe(ce(r=>r?R(!1):this.zoneIsStable),br(),Gi()),this._injector=S($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Pc;if(!this._injector.get(lM).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&Yv(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new k(405,!1)}let a;s?a=r:a=this._injector.get(Sn).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=tR(a)?void 0:this._injector.get(zn),l=i||a.selector,u=a.create(Vt.NULL,[],l,c),f=u.location.nativeElement,d=u.injector.get(A7,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),bc(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;bc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(V6,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new k(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var mM=new z("",{providedIn:"root",factory:()=>S(f1).handleError.bind(void 0)});function lR(){let t=S(X),e=S(f1);return n=>t.runOutsideAngular(()=>e.handleError(n))}var uR=(()=>{let e=class e{constructor(){this.zone=S(X),this.applicationRef=S(G2)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fR(t){return[{provide:X,useFactory:t},{provide:s3,multi:!0,useFactory:()=>{let e=S(uR,{optional:!0});return()=>e.initialize()}},{provide:mM,useFactory:lR},{provide:FC,useFactory:OC}]}function R7(){return!1}var gM=N7(null,"core",[]),vM=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(v(G2))},e.\u0275mod=me({type:e}),e.\u0275inj=pe({});let t=e;return t})();function Ln(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function yM(t){let e=Hn(t);if(!e)return null;let n=new as(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var B7=null;function p1(){return B7}function HM(t){B7||(B7=t)}var S6=class{},qe=new z("DocumentToken"),W7=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(dR))(),providedIn:"platform"});let t=e;return t})(),EM=new z("Location Initialized"),dR=(()=>{let e=class e extends W7{constructor(){super(),this._doc=S(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p1().getBaseHref(this._doc)}onPopState(r){let i=p1().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=p1().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function K7(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function CM(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Y1(t){return t&&t[0]!=="?"?"?"+t:t}var J1=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(Q7))(),providedIn:"root"});let t=e;return t})(),zM=new z("appBaseHref"),Q7=(()=>{let e=class e extends J1{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return K7(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Y1(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Y1(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Y1(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(W7),v(zM,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IM=(()=>{let e=class e extends J1{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=K7(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Y1(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Y1(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(v(W7),v(zM,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),gs=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=mR(CM(MM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Y1(i))}normalize(r){return e.stripTrailingSlash(pR(this._basePath,MM(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y1(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y1(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Y1,e.joinWithSlash=K7,e.stripTrailingSlash=CM,e.\u0275fac=function(i){return new(i||e)(v(J1))},e.\u0275prov=D({token:e,factory:()=>hR(),providedIn:"root"});let t=e;return t})();function hR(){return new gs(v(J1))}function pR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function MM(t){return t.replace(/\/index.html$/,"")}function mR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Wt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Wt||{}),He=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(He||{}),u2=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(u2||{}),X1=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(X1||{});function gR(t){return _2(t)[Je.LocaleId]}function vR(t,e,n){let r=_2(t),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],s=H2(i,e);return H2(s,n)}function yR(t,e,n){let r=_2(t),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],s=H2(i,e);return H2(s,n)}function CR(t,e,n){let r=_2(t),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],s=H2(i,e);return H2(s,n)}function MR(t,e){let r=_2(t)[Je.Eras];return H2(r,e)}function _6(t,e){let n=_2(t);return H2(n[Je.DateFormat],e)}function b6(t,e){let n=_2(t);return H2(n[Je.TimeFormat],e)}function H6(t,e){let r=_2(t)[Je.DateTimeFormat];return H2(r,e)}function T6(t,e){let n=_2(t),r=n[Je.NumberSymbols][e];if(typeof r>"u"){if(e===X1.CurrencyDecimal)return n[Je.NumberSymbols][X1.Decimal];if(e===X1.CurrencyGroup)return n[Je.NumberSymbols][X1.Group]}return r}function DM(t){if(!t[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wR(t){let e=_2(t);return DM(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?k7(r):[k7(r[0]),k7(r[1])])}function VR(t,e,n){let r=_2(t);DM(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],s=H2(i,e)||[];return H2(s,n)||[]}function H2(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function k7(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var _R=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,m3={},bR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Z1=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Z1||{}),ve=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ve||{}),ge=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ge||{});function HR(t,e,n,r){let i=LR(t);e=Q1(n,e)||e;let o=[],a;for(;e;)if(a=bR.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=xM(r,c),i=AR(i,r,!0));let l="";return o.forEach(u=>{let f=xR(u);l+=f?f(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function x6(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Q1(t,e){let n=gR(t);if(m3[n]=m3[n]||{},m3[n][e])return m3[n][e];let r="";switch(e){case"shortDate":r=_6(t,u2.Short);break;case"mediumDate":r=_6(t,u2.Medium);break;case"longDate":r=_6(t,u2.Long);break;case"fullDate":r=_6(t,u2.Full);break;case"shortTime":r=b6(t,u2.Short);break;case"mediumTime":r=b6(t,u2.Medium);break;case"longTime":r=b6(t,u2.Long);break;case"fullTime":r=b6(t,u2.Full);break;case"short":let i=Q1(t,"shortTime"),s=Q1(t,"shortDate");r=E6(H6(t,u2.Short),[i,s]);break;case"medium":let o=Q1(t,"mediumTime"),a=Q1(t,"mediumDate");r=E6(H6(t,u2.Medium),[o,a]);break;case"long":let c=Q1(t,"longTime"),l=Q1(t,"longDate");r=E6(H6(t,u2.Long),[c,l]);break;case"full":let u=Q1(t,"fullTime"),f=Q1(t,"fullDate");r=E6(H6(t,u2.Full),[u,f]);break}return r&&(m3[n][e]=r),r}function E6(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function W2(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function ER(t,e){return W2(t,3).substring(0,e)}function ot(t,e,n=0,r=!1,i=!1){return function(s,o){let a=zR(t,s);if((n>0||a>-n)&&(a+=n),t===ve.Hours)a===0&&n===-12&&(a=12);else if(t===ve.FractionalSeconds)return ER(a,e);let c=T6(o,X1.MinusSign);return W2(a,e,c,r,i)}}function zR(t,e){switch(t){case ve.FullYear:return e.getFullYear();case ve.Month:return e.getMonth();case ve.Date:return e.getDate();case ve.Hours:return e.getHours();case ve.Minutes:return e.getMinutes();case ve.Seconds:return e.getSeconds();case ve.FractionalSeconds:return e.getMilliseconds();case ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ze(t,e,n=Wt.Format,r=!1){return function(i,s){return IR(i,s,t,e,n,r)}}function IR(t,e,n,r,i,s){switch(n){case ge.Months:return CR(e,i,r)[t.getMonth()];case ge.Days:return yR(e,i,r)[t.getDay()];case ge.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=wR(e),u=VR(e,i,r),f=l.findIndex(d=>{if(Array.isArray(d)){let[h,p]=d,g=o>=h.hours&&a>=h.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return vR(e,i,r)[o<12?0:1];case ge.Eras:return MR(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function z6(t){return function(e,n,r){let i=-1*r,s=T6(n,X1.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Z1.Short:return(i>=0?"+":"")+W2(o,2,s)+W2(Math.abs(i%60),2,s);case Z1.ShortGMT:return"GMT"+(i>=0?"+":"")+W2(o,1,s);case Z1.Long:return"GMT"+(i>=0?"+":"")+W2(o,2,s)+":"+W2(Math.abs(i%60),2,s);case Z1.Extended:return r===0?"Z":(i>=0?"+":"")+W2(o,2,s)+":"+W2(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var DR=0,D6=4;function SR(t){let e=x6(t,DR,1).getDay();return x6(t,0,1+(e<=D6?D6:D6+7)-e)}function SM(t){return x6(t.getFullYear(),t.getMonth(),t.getDate()+(D6-t.getDay()))}function P7(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=SM(n),o=SR(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return W2(i,t,T6(r,X1.MinusSign))}}function I6(t,e=!1){return function(n,r){let s=SM(n).getFullYear();return W2(s,t,T6(r,X1.MinusSign),e)}}var F7={};function xR(t){if(F7[t])return F7[t];let e;switch(t){case"G":case"GG":case"GGG":e=ze(ge.Eras,He.Abbreviated);break;case"GGGG":e=ze(ge.Eras,He.Wide);break;case"GGGGG":e=ze(ge.Eras,He.Narrow);break;case"y":e=ot(ve.FullYear,1,0,!1,!0);break;case"yy":e=ot(ve.FullYear,2,0,!0,!0);break;case"yyy":e=ot(ve.FullYear,3,0,!1,!0);break;case"yyyy":e=ot(ve.FullYear,4,0,!1,!0);break;case"Y":e=I6(1);break;case"YY":e=I6(2,!0);break;case"YYY":e=I6(3);break;case"YYYY":e=I6(4);break;case"M":case"L":e=ot(ve.Month,1,1);break;case"MM":case"LL":e=ot(ve.Month,2,1);break;case"MMM":e=ze(ge.Months,He.Abbreviated);break;case"MMMM":e=ze(ge.Months,He.Wide);break;case"MMMMM":e=ze(ge.Months,He.Narrow);break;case"LLL":e=ze(ge.Months,He.Abbreviated,Wt.Standalone);break;case"LLLL":e=ze(ge.Months,He.Wide,Wt.Standalone);break;case"LLLLL":e=ze(ge.Months,He.Narrow,Wt.Standalone);break;case"w":e=P7(1);break;case"ww":e=P7(2);break;case"W":e=P7(1,!0);break;case"d":e=ot(ve.Date,1);break;case"dd":e=ot(ve.Date,2);break;case"c":case"cc":e=ot(ve.Day,1);break;case"ccc":e=ze(ge.Days,He.Abbreviated,Wt.Standalone);break;case"cccc":e=ze(ge.Days,He.Wide,Wt.Standalone);break;case"ccccc":e=ze(ge.Days,He.Narrow,Wt.Standalone);break;case"cccccc":e=ze(ge.Days,He.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":e=ze(ge.Days,He.Abbreviated);break;case"EEEE":e=ze(ge.Days,He.Wide);break;case"EEEEE":e=ze(ge.Days,He.Narrow);break;case"EEEEEE":e=ze(ge.Days,He.Short);break;case"a":case"aa":case"aaa":e=ze(ge.DayPeriods,He.Abbreviated);break;case"aaaa":e=ze(ge.DayPeriods,He.Wide);break;case"aaaaa":e=ze(ge.DayPeriods,He.Narrow);break;case"b":case"bb":case"bbb":e=ze(ge.DayPeriods,He.Abbreviated,Wt.Standalone,!0);break;case"bbbb":e=ze(ge.DayPeriods,He.Wide,Wt.Standalone,!0);break;case"bbbbb":e=ze(ge.DayPeriods,He.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ze(ge.DayPeriods,He.Abbreviated,Wt.Format,!0);break;case"BBBB":e=ze(ge.DayPeriods,He.Wide,Wt.Format,!0);break;case"BBBBB":e=ze(ge.DayPeriods,He.Narrow,Wt.Format,!0);break;case"h":e=ot(ve.Hours,1,-12);break;case"hh":e=ot(ve.Hours,2,-12);break;case"H":e=ot(ve.Hours,1);break;case"HH":e=ot(ve.Hours,2);break;case"m":e=ot(ve.Minutes,1);break;case"mm":e=ot(ve.Minutes,2);break;case"s":e=ot(ve.Seconds,1);break;case"ss":e=ot(ve.Seconds,2);break;case"S":e=ot(ve.FractionalSeconds,1);break;case"SS":e=ot(ve.FractionalSeconds,2);break;case"SSS":e=ot(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=z6(Z1.Short);break;case"ZZZZZ":e=z6(Z1.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=z6(Z1.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=z6(Z1.Long);break;default:return null}return F7[t]=e,e}function xM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function TR(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function AR(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=xM(e,i);return TR(t,r*(s-i))}function LR(t){if(wM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return x6(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(_R))return NR(r)}let e=new Date(t);if(!wM(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function NR(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,l),e}function wM(t){return t instanceof Date&&!isNaN(t.valueOf())}function A6(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var O7=/\s+/,VM=[],u2e=(()=>{let e=class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=VM,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(O7):VM}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(O7):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(O7).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(x(f6),x(g7),x(_t),x(w2))},e.\u0275dir=Ve({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var U7=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},TM=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new U7(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),_M(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);_M(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(q1),x(kr),x(f6))},e.\u0275dir=Ve({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function _M(t,e){t.context.$implicit=e.item}var g3=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new j7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){bM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){bM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(q1),x(kr))},e.\u0275dir=Ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),j7=class{constructor(){this.$implicit=null,this.ngIf=null}};function bM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Tt(e)}'.`)}var f2e=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(x(q1))},e.\u0275dir=Ve({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[qt]});let t=e;return t})();function L6(t,e){return new k(2100,!1)}var $7=class{createSubscription(e,n){return p7(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){p7(()=>e.unsubscribe())}},q7=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},RR=new q7,kR=new $7,d2e=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Tn(r))return RR;if(x7(r))return kR;throw L6(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(x(xn,16))},e.\u0275pipe=In({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),h2e=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw L6(e,r);return r.toLowerCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=In({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var p2e=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw L6(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=In({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})(),PR="mediumDate",FR=new z("DATE_PIPE_DEFAULT_TIMEZONE"),OR=new z("DATE_PIPE_DEFAULT_OPTIONS"),m2e=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??PR,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return HR(r,a,o||this.locale,c)}catch(a){throw L6(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(x(y6,16),x(FR,24),x(OR,24))},e.\u0275pipe=In({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var N6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({});let t=e;return t})(),Y7="browser",BR="server";function AM(t){return t===Y7}function en(t){return t===BR}var LM=(()=>{let e=class e{};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>new G7(v(qe),window)});let t=e;return t})(),G7=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=UR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function UR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var ms=class{};var y3=class{},k6=class{},Ur=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var J7=class{encodeKey(e){return NM(e)}encodeValue(e){return NM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var GR=/%(\d[a-f0-9])/gi,WR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NM(t){return encodeURIComponent(t).replace(GR,(e,n)=>WR[n]??e)}function R6(t){return`${t}`}var Nn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new J7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(R6):[R6(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(R6(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(R6(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ef=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function RM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kM(t){return typeof Blob<"u"&&t instanceof Blob}function PM(t){return typeof FormData<"u"&&t instanceof FormData}function QR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var v3=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(KR(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Ur),this.context||(this.context=new ef),!this.params)this.params=new Nn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:RM(this.body)||kM(this.body)||PM(this.body)||QR(this.body)||typeof this.body=="string"?this.body:this.body instanceof Nn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PM(this.body)?null:kM(this.body)?this.body.type||null:RM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Nn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,d)=>f.set(d,e.setHeaders[d]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,d)=>f.set(d,e.setParams[d]),l)),new t(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}},vs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(vs||{}),C3=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ur,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},tf=class t extends C3{constructor(e={}){super(e),this.type=vs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},P6=class t extends C3{constructor(e={}){super(e),this.type=vs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},F6=class extends C3{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Z7(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var YR=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof v3)o=r;else{let l;s.headers instanceof Ur?l=s.headers:l=new Ur(s.headers);let u;s.params&&(s.params instanceof Nn?u=s.params:u=new Nn({fromObject:s.params})),o=new v3(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=R(o).pipe(s1(l=>this.handler.handle(l)));if(r instanceof v3||s.observe==="events")return a;let c=a.pipe(Ne(l=>l instanceof P6));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(F(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(F(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(F(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(F(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Nn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Z7(s,i))}post(r,i,s={}){return this.request("POST",r,Z7(s,i))}put(r,i,s={}){return this.request("PUT",r,Z7(s,i))}};e.\u0275fac=function(i){return new(i||e)(v(y3))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function UM(t,e){return e(t)}function XR(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function ZR(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}var JR=new z(""),nf=new z(""),ek=new z(""),tk=new z("");function nk(){let t=null;return(e,n)=>{t===null&&(t=(S(JR,{optional:!0})??[]).reduceRight(XR,UM));let r=S(ps),i=r.add();return t(e,n).pipe(wn(()=>r.remove(i)))}}var FM=(()=>{let e=class e extends y3{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=S(ps);let s=S(tk,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(nf),...this.injector.get(ek,[])]));this.chain=s.reduceRight((o,a)=>ZR(o,a,this.injector),UM)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(wn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(v(k6),v($t))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();var rk=/^\)\]\}',?\n/;function ik(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var OM=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ne(i.\u0275loadImpl()):R(null)).pipe(ce(()=>new q(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,w)=>a.setRequestHeader(m,w.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let m=a.statusText||"OK",w=new Ur(a.getAllResponseHeaders()),H=ik(a)||r.url;return l=new tf({headers:w,status:a.status,statusText:m,url:H}),l},f=()=>{let{headers:m,status:w,statusText:H,url:V}=u(),E=null;w!==204&&(E=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=E?200:0);let N=w>=200&&w<300;if(r.responseType==="json"&&typeof E=="string"){let B=E;E=E.replace(rk,"");try{E=E!==""?JSON.parse(E):null}catch(se){E=B,N&&(N=!1,E={error:se,text:E})}}N?(o.next(new P6({body:E,headers:m,status:w,statusText:H,url:V||void 0})),o.complete()):o.error(new F6({error:E,headers:m,status:w,statusText:H,url:V||void 0}))},d=m=>{let{url:w}=u(),H=new F6({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});o.error(H)},h=!1,p=m=>{h||(o.next(u()),h=!0);let w={type:vs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),r.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),o.next(w)},g=m=>{let w={type:vs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),o.next(w)};return a.addEventListener("load",f),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:vs.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",f),a.removeEventListener("timeout",d),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(v(ms))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),jM=new z("XSRF_ENABLED"),sk="XSRF-TOKEN",ok=new z("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>sk}),ak="X-XSRF-TOKEN",ck=new z("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ak}),O6=class{},lk=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=A6(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(v(qe),v(st),v(ok))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function uk(t,e){let n=t.url.toLowerCase();if(!S(jM)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=S(O6).getToken(),i=S(ck);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var $M=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}($M||{});function fk(t,e){return{\u0275kind:t,\u0275providers:e}}function dk(...t){let e=[YR,OM,FM,{provide:y3,useExisting:FM},{provide:k6,useExisting:OM},{provide:nf,useValue:uk,multi:!0},{provide:jM,useValue:!0},{provide:O6,useClass:lk}];for(let n of t)e.push(...n.\u0275providers);return fs(e)}var BM=new z("LEGACY_INTERCEPTOR_FN");function hk(){return fk($M.LegacyInterceptors,[{provide:BM,useFactory:nk},{provide:nf,useExisting:BM,multi:!0}])}var D2e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({providers:[dk(hk())]});let t=e;return t})();var of=class extends S6{constructor(){super(...arguments),this.supportsDOMEvents=!0}},af=class t extends of{static makeCurrent(){HM(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pk();return n==null?null:mk(n)}resetBaseElement(){M3=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return A6(document.cookie,e)}},M3=null;function pk(){return M3=M3||document.querySelector("base"),M3?M3.getAttribute("href"):null}var B6;function mk(t){B6=B6||document.createElement("a"),B6.setAttribute("href",t);let e=B6.pathname;return e.charAt(0)==="/"?e:`/${e}`}var cf=class{addToWindow(e){Ye.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new k(5103,!1);return s},Ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ye.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ye.getAllAngularTestabilities(),s=i.length,o=!1,a=function(c){o=o||c,s--,s==0&&r(o)};i.forEach(c=>{c.whenStable(a)})};Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?p1().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},gk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),lf=new z("EventManagerPlugins"),KM=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(v(lf),v(X))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),U6=class{constructor(e){this._doc=e}},rf="ng-app-id",QM=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=en(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${rf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(rf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(rf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(v(qe),v(a6),v(i7,8),v(st))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),sf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ff=/%COMP%/g,YM="%COMP%",vk=`_nghost-${YM}`,yk=`_ngcontent-${YM}`,Ck=!0,Mk=new z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Ck});function wk(t){return yk.replace(ff,t)}function Vk(t){return vk.replace(ff,t)}function XM(t,e){return e.map(n=>n.replace(ff,t))}var qM=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=en(c),this.defaultRenderer=new w3(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l1.ShadowDom&&(i=te(I({},i),{encapsulation:l1.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof j6?s.applyToHost(r):s instanceof V3&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case l1.Emulated:o=new j6(l,u,i,this.appId,f,a,c,d);break;case l1.ShadowDom:return new uf(l,u,r,i,a,c,this.nonce,d);default:o=new V3(l,u,i,f,a,c,d);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(v(KM),v(QM),v(a6),v(Mk),v(qe),v(st),v(X),v(i7))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),w3=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(sf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(GM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=sf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=sf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(k1.DashCase|k1.Important)?e.style.setProperty(n,r,i&k1.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&k1.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=p1().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function GM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var uf=class extends w3{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=XM(i.id,i.styles);for(let u of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},V3=class extends w3{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?XM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},j6=class extends V3{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=wk(l),this.hostAttr=Vk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_k=(()=>{let e=class e extends U6{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(v(qe))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),WM=["alt","control","meta","shift"],bk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ek=(()=>{let e=class e extends U6{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>p1().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),WM.forEach(u=>{let f=i.indexOf(u);f>-1&&(i.splice(f,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=bk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),WM.forEach(a=>{if(a!==s){let c=Hk[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(v(qe))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function zk(){af.makeCurrent()}function Ik(){return new f1}function Dk(){return jy(document),document}var Sk=[{provide:st,useValue:Y7},{provide:r7,useValue:zk,multi:!0},{provide:qe,useFactory:Dk,deps:[]}],U2e=N7(gM,"browser",Sk),xk=new z(""),Tk=[{provide:p3,useClass:cf,deps:[]},{provide:A7,useClass:M6,deps:[X,w6,p3]},{provide:M6,useClass:M6,deps:[X,w6,p3]}],Ak=[{provide:o6,useValue:"root"},{provide:f1,useFactory:Ik,deps:[]},{provide:lf,useClass:_k,multi:!0,deps:[qe,X,st]},{provide:lf,useClass:Ek,multi:!0,deps:[qe]},qM,QM,KM,{provide:Yo,useExisting:qM},{provide:ms,useClass:gk,deps:[]},[]],j2e=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:a6,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(v(xk,12))},e.\u0275mod=me({type:e}),e.\u0275inj=pe({providers:[...Ak,...Tk],imports:[N6,vM]});let t=e;return t})();function Lk(){return new _3(v(qe))}var _3=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(v(qe))},e.\u0275prov=D({token:e,factory:function(i){let s=null;return i?s=new i:s=Lk(),s},providedIn:"root"});let t=e;return t})();var jr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=v(ZM),s},providedIn:"root"});let t=e;return t})();function Nk(t){return new ZM(t.get(qe))}var ZM=(()=>{let e=class e extends jr{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case l2.NONE:return i;case l2.HTML:return B1(i,"HTML")?M2(i):u7(this._doc,String(i)).toString();case l2.STYLE:return B1(i,"Style")?M2(i):i;case l2.SCRIPT:if(B1(i,"Script"))return M2(i);throw new k(5200,!1);case l2.URL:return B1(i,"URL")?M2(i):u6(String(i));case l2.RESOURCE_URL:if(B1(i,"ResourceURL"))return M2(i);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(r){return aC(r)}bypassSecurityTrustStyle(r){return cC(r)}bypassSecurityTrustScript(r){return lC(r)}bypassSecurityTrustUrl(r){return uC(r)}bypassSecurityTrustResourceUrl(r){return fC(r)}};e.\u0275fac=function(i){return new(i||e)(v(qe))},e.\u0275prov=D({token:e,factory:function(i){let s=null;return i?s=new i:s=Nk(v(Vt)),s},providedIn:"root"});let t=e;return t})();var lw=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(x(w2),x(_t))},e.\u0275dir=Ve({type:e});let t=e;return t})(),mf=(()=>{let e=class e extends lw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275dir=Ve({type:e,features:[r2]});let t=e;return t})(),D3=new z("NgValueAccessor");var Rk={provide:D3,useExisting:$2(()=>uw),multi:!0};function kk(){let t=p1()?p1().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pk=new z("CompositionEventMode"),uw=(()=>{let e=class e extends lw{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(x(w2),x(_t),x(Pk,8))},e.\u0275dir=Ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&At("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[K1([Rk]),r2]});let t=e;return t})();function Rn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fw(t){return t!=null&&typeof t.length=="number"}var S3=new z("NgValidators"),Z6=new z("NgAsyncValidators"),Fk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,JM=class{static min(e){return Ok(e)}static max(e){return Bk(e)}static required(e){return dw(e)}static requiredTrue(e){return Uk(e)}static email(e){return jk(e)}static minLength(e){return $k(e)}static maxLength(e){return qk(e)}static pattern(e){return Gk(e)}static nullValidator(e){return q6(e)}static compose(e){return yw(e)}static composeAsync(e){return Cw(e)}};function Ok(t){return e=>{if(Rn(e.value)||Rn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Bk(t){return e=>{if(Rn(e.value)||Rn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function dw(t){return Rn(t.value)?{required:!0}:null}function Uk(t){return t.value===!0?null:{required:!0}}function jk(t){return Rn(t.value)||Fk.test(t.value)?null:{email:!0}}function $k(t){return e=>Rn(e.value)||!fw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function qk(t){return e=>fw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Gk(t){if(!t)return q6;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Rn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function q6(t){return null}function hw(t){return t!=null}function pw(t){return Tn(t)?ne(t):t}function mw(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function gw(t,e){return e.map(n=>n(t))}function Wk(t){return!t.validate}function vw(t){return t.map(e=>Wk(e)?e:n=>e.validate(n))}function yw(t){if(!t)return null;let e=t.filter(hw);return e.length==0?null:function(n){return mw(gw(n,e))}}function gf(t){return t!=null?yw(vw(t)):null}function Cw(t){if(!t)return null;let e=t.filter(hw);return e.length==0?null:function(n){let r=gw(n,e).map(pw);return mu(r).pipe(F(mw))}}function vf(t){return t!=null?Cw(vw(t)):null}function ew(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mw(t){return t._rawValidators}function ww(t){return t._rawAsyncValidators}function df(t){return t?Array.isArray(t)?t:[t]:[]}function G6(t,e){return Array.isArray(t)?t.includes(e):t===e}function tw(t,e){let n=df(e);return df(t).forEach(i=>{G6(n,i)||n.push(i)}),n}function nw(t,e){return df(e).filter(n=>!G6(t,n))}var W6=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},tn=class extends W6{get formDirective(){return null}get path(){return null}},$r=class extends W6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},K6=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Kk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o1e=te(I({},Kk),{"[class.ng-submitted]":"isSubmitted"}),a1e=(()=>{let e=class e extends K6{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(x($r,2))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&u3("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[r2]});let t=e;return t})(),c1e=(()=>{let e=class e extends K6{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(x(tn,10))},e.\u0275dir=Ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&u3("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[r2]});let t=e;return t})();var H3="VALID",$6="INVALID",ys="PENDING",E3="DISABLED";function yf(t){return(J6(t)?t.validators:t)||null}function Qk(t){return Array.isArray(t)?gf(t):t||null}function Cf(t,e){return(J6(e)?e.asyncValidators:t)||null}function Yk(t){return Array.isArray(t)?vf(t):t||null}function J6(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Vw(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[n])throw new k(1001,"")}function _w(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new k(1002,"")})}var Cs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===H3}get invalid(){return this.status===$6}get pending(){return this.status==ys}get disabled(){return this.status===E3}get enabled(){return this.status!==E3}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nw(e,this._rawAsyncValidators))}hasValidator(e){return G6(this._rawValidators,e)}hasAsyncValidator(e){return G6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ys,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=E3,this.errors=null,this._forEachChild(r=>{r.disable(te(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=H3,this._forEachChild(r=>{r.enable(te(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===H3||this.status===ys)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E3:H3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator=!0;let n=pw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?E3:this.errors?$6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus($6)?$6:H3}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){J6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Qk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Yk(this._rawAsyncValidators)}},Ms=class extends Cs{constructor(e,n,r){super(yf(n),Cf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_w(this,!0,e),Object.keys(e).forEach(r=>{Vw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hf=class extends Ms{};var x3=new z("CallSetDisabledState",{providedIn:"root",factory:()=>e0}),e0="always";function bw(t,e){return[...e.path,t]}function Q6(t,e,n=e0){Mf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Zk(t,e),eP(t,e),Jk(t,e),Xk(t,e)}function rw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),X6(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Y6(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Mf(t,e){let n=Mw(t);e.validator!==null?t.setValidators(ew(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ww(t);e.asyncValidator!==null?t.setAsyncValidators(ew(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Y6(e._rawValidators,i),Y6(e._rawAsyncValidators,i)}function X6(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Mw(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=ww(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Y6(e._rawValidators,r),Y6(e._rawAsyncValidators,r),n}function Zk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Hw(t,e)})}function Jk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Hw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Hw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ew(t,e){t==null,Mf(t,e)}function tP(t,e){return X6(t,e)}function zw(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nP(t){return Object.getPrototypeOf(t.constructor)===mf}function Iw(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Dw(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===uw?n=s:nP(s)?r=s:i=s}),i||r||n||null}function rP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var iP={provide:tn,useExisting:$2(()=>sP)},z3=(()=>Promise.resolve())(),sP=(()=>{let e=class e extends tn{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new Ms({},gf(r),vf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){z3.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Q6(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){z3.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){z3.then(()=>{let i=this._findContainer(r.path),s=new Ms({});Ew(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){z3.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){z3.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Iw(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(x(S3,10),x(Z6,10),x(x3,8))},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&At("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[K1([iP]),r2]});let t=e;return t})();function iw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var I3=class extends Cs{constructor(e=null,n,r){super(yf(n),Cf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),J6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oP=t=>t instanceof I3;var aP={provide:$r,useExisting:$2(()=>cP)},ow=(()=>Promise.resolve())(),cP=(()=>{let e=class e extends $r{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new I3,this._registered=!1,this.name="",this.update=new Fe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Dw(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),zw(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Q6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ow.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Ln(i);ow.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?bw(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(x(tn,9),x(S3,10),x(Z6,10),x(D3,10),x(xn,8),x(x3,8))},e.\u0275dir=Ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[K1([aP]),r2,qt]});let t=e;return t})(),u1e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var lP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({});let t=e;return t})();var Sw=new z("NgModelWithFormControlWarning");var uP={provide:tn,useExisting:$2(()=>fP)},fP=(()=>{let e=class e extends tn{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X6(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Q6(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){rw(r.control||null,r,!1),rP(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Iw(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(rw(i||null,r),oP(s)&&(Q6(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Ew(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&tP(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mf(this.form,this),this._oldForm&&X6(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(x(S3,10),x(Z6,10),x(x3,8))},e.\u0275dir=Ve({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&At("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[K1([uP]),r2,qt]});let t=e;return t})();var dP={provide:$r,useExisting:$2(()=>hP)},hP=(()=>{let e=class e extends $r{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Dw(this,o)}ngOnChanges(r){this._added||this._setUpControl(),zw(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return bw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(x(tn,13),x(S3,10),x(Z6,10),x(D3,10),x(Sw,8))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[K1([dP]),r2,qt]});let t=e;return t})(),pP={provide:D3,useExisting:$2(()=>Tw),multi:!0};function xw(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function mP(t){return t.split(":")[0]}var Tw=(()=>{let e=class e extends mf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=xw(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=mP(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&At("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[K1([pP]),r2]});let t=e;return t})(),f1e=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(xw(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(x(_t),x(w2),x(Tw,9))},e.\u0275dir=Ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),gP={provide:D3,useExisting:$2(()=>Aw),multi:!0};function aw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function vP(t){return t.split(":")[0]}var Aw=(()=>{let e=class e extends mf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);s.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=vP(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&At("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[K1([gP]),r2]});let t=e;return t})(),d1e=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(aw(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(aw(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(x(_t),x(w2),x(Aw,9))},e.\u0275dir=Ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var yP=(()=>{let e=class e{constructor(){this._validator=q6}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):q6,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,features:[qt]});let t=e;return t})();var CP={provide:S3,useExisting:$2(()=>MP),multi:!0};var MP=(()=>{let e=class e extends yP{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ln,this.createValidator=r=>dw}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&V2("required",s._enabled?"":null)},inputs:{required:"required"},features:[K1([CP]),r2]});let t=e;return t})();var Lw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({imports:[lP]});let t=e;return t})(),pf=class extends Cs{constructor(e,n,r){super(yf(n),Cf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){_w(this,!1,e),e.forEach((r,i)=>{Vw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var h1e=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return cw(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ms(s,o)}record(r,i=null){let s=this._reduceControls(r);return new hf(s,i)}control(r,i,s){let o={};return this.useNonNullable?(cw(i)?o=i:(o.validators=i,o.asyncValidators=s),new I3(r,te(I({},o),{nonNullable:!0}))):new I3(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new pf(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof I3)return r;if(r instanceof Cs)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p1e=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:x3,useValue:r.callSetDisabledState??e0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({imports:[Lw]});let t=e;return t})(),wf=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Sw,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:x3,useValue:r.callSetDisabledState??e0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({imports:[Lw]});let t=e;return t})();var ie="primary",W3=Symbol("RouteTitle"),Ef=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hs(t){return new Ef(t)}function wP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function VP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!m1(t[n],e[n]))return!1;return!0}function m1(t,e){let n=t?zf(t):void 0,r=e?zf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$w(t[i],e[i]))return!1;return!0}function zf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $w(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function qw(t){return t.length>0?t[t.length-1]:null}function On(t){return pu(t)?t:Tn(t)?ne(Promise.resolve(t)):R(t)}var _P={exact:Ww,subset:Kw},Gw={exact:bP,subset:HP,ignored:()=>!0};function Nw(t,e,n){return _P[n.paths](t.root,e.root,n.matrixParams)&&Gw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bP(t,e){return m1(t,e)}function Ww(t,e,n){if(!Gr(t.segments,e.segments)||!r0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ww(t.children[r],e.children[r],n))return!1;return!0}function HP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$w(t[n],e[n]))}function Kw(t,e,n){return Qw(t,e,e.segments,n)}function Qw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Gr(i,n)||e.hasChildren()||!r0(i,n,r))}else if(t.segments.length===n.length){if(!Gr(t.segments,n)||!r0(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Kw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Gr(t.segments,i)||!r0(t.segments,i,r)||!t.children[ie]?!1:Qw(t.children[ie],e,s,r)}}function r0(t,e,n){return e.every((r,i)=>Gw[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hs(this.queryParams)),this._queryParamMap}toString(){return IP.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i0(this)}},qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Hs(this.parameters)),this._parameterMap}toString(){return Xw(this)}};function EP(t,e){return Gr(t,e)&&t.every((n,r)=>m1(n.parameters,e[r].parameters))}function Gr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var K3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>new P3)(),providedIn:"root"});let t=e;return t})(),P3=class{parse(e){let n=new Df(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${T3(e.root,!0)}`,r=xP(e.queryParams),i=typeof e.fragment=="string"?`#${DP(e.fragment)}`:"";return`${n}${r}${i}`}},IP=new P3;function i0(t){return t.segments.map(e=>Xw(e)).join("/")}function T3(t,e){if(!t.hasChildren())return i0(t);if(e){let n=t.children[ie]?T3(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${T3(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zP(t,(r,i)=>i===ie?[T3(t.children[ie],!1)]:[`${i}:${T3(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${i0(t)}/${n[0]}`:`${i0(t)}/(${n.join("//")})`}}function Yw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t0(t){return Yw(t).replace(/%3B/gi,";")}function DP(t){return encodeURI(t)}function If(t){return Yw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s0(t){return decodeURIComponent(t)}function Rw(t){return s0(t.replace(/\+/g,"%20"))}function Xw(t){return`${If(t.path)}${SP(t.parameters)}`}function SP(t){return Object.keys(t).map(e=>`;${If(e)}=${If(t[e])}`).join("")}function xP(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${t0(n)}=${t0(i)}`).join("&"):`${t0(n)}=${t0(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var TP=/^[^\/()?;#]+/;function Vf(t){let e=t.match(TP);return e?e[0]:""}var AP=/^[^\/()?;=#]+/;function LP(t){let e=t.match(AP);return e?e[0]:""}var NP=/^[^=?&#]+/;function RP(t){let e=t.match(NP);return e?e[0]:""}var kP=/^[^&#]+/;function PP(t){let e=t.match(kP);return e?e[0]:""}var Df=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ce(e,n)),r}parseSegment(){let e=Vf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new qr(s0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=LP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vf(this.remaining);i&&(r=i,this.capture(r))}e[s0(n)]=s0(r)}parseQueryParam(e){let n=RP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=PP(this.remaining);o&&(r=o,this.capture(r))}let i=Rw(n),s=Rw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ie]:new Ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function Zw(t){return t.segments.length>0?new Ce([],{[ie]:t}):t}function Jw(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Jw(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ce(t.segments,e);return FP(n)}function FP(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ce(t.segments.concat(e.segments),e.children)}return t}function Es(t){return t instanceof kn}function OP(t,e,n=null,r=null){let i=eV(t);return tV(i,e,n,r)}function eV(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Ce(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Zw(r);return e??i}function tV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _f(i,i,i,n,r);let s=BP(e);if(s.toRoot())return _f(i,i,new Ce([],{}),n,r);let o=UP(s,i,t),a=o.processChildren?N3(o.segmentGroup,o.index,s.commands):rV(o.segmentGroup,o.index,s.commands);return _f(i,o.segmentGroup,a,n,r)}function o0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function F3(t){return typeof t=="object"&&t!=null&&t.outlets}function _f(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=nV(t,e,n);let a=Zw(Jw(o));return new kn(a,s,i)}function nV(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=nV(s,e,n)}),new Ce(t.segments,r)}var a0=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&o0(r[0]))throw new k(4003,!1);let i=r.find(F3);if(i&&i!==qw(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new a0(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new a0(n,e,r)}var _s=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function UP(t,e,n){if(t.isAbsolute)return new _s(e,!0,0);if(!n)return new _s(e,!1,NaN);if(n.parent===null)return new _s(n,!0,0);let r=o0(t.commands[0])?0:1,i=n.segments.length-1+r;return jP(n,i,t.numberOfDoubleDots)}function jP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new _s(r,!1,i-s)}function $P(t){return F3(t[0])?t[0].outlets:{[ie]:t}}function rV(t,e,n){if(t||(t=new Ce([],{})),t.segments.length===0&&t.hasChildren())return N3(t,e,n);let r=qP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ce(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Ce(t.segments.slice(r.pathIndex),t.children),N3(s,0,i)}else return r.match&&i.length===0?new Ce(t.segments,{}):r.match&&!t.hasChildren()?Sf(t,e,n):r.match?N3(t,0,i):Sf(t,e,n)}function N3(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let r=$P(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=N3(t.children[ie],e,n);return new Ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=rV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ce(t.segments,i)}}function qP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(F3(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Pw(c,l,o))return s;r+=2}else{if(!Pw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(F3(s)){let c=GP(s.outlets);return new Ce(r,c)}if(i===0&&o0(n[0])){let c=t.segments[e];r.push(new qr(c.path,kw(n[0]))),i++;continue}let o=F3(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&o0(a)?(r.push(new qr(o,kw(a))),i+=2):(r.push(new qr(o,{})),i++)}return new Ce(r,{})}function GP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Sf(new Ce([],{}),0,r))}),e}function kw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Pw(t,e,n){return t==n.path&&m1(e,n.parameters)}var R3="imperative",E2=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends E2{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},z2=class extends E2{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pn=class extends E2{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fn=class extends E2{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},O3=class extends E2{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},c0=class extends E2{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends E2{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tf=class extends E2{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Af=class extends E2{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class extends E2{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rf=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},B3=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},l0=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},U3=class{},j3=class{constructor(e){this.url=e}};var Of=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Q3,this.attachRef=null}},Q3=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Of,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u0=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Bf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Bf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uf(e,this._root).map(n=>n.value)}};function Bf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Bf(t,n);if(r)return r}return null}function Uf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Uf(t,n);if(r.length)return r.unshift(e),r}return[]}var f2=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var f0=class extends u0{constructor(e,n){super(e),this.snapshot=n,Zf(this,e)}toString(){return this.snapshot.toString()}};function iV(t,e){let n=WP(t,e),r=new wt([new qr("",{})]),i=new wt({}),s=new wt({}),o=new wt({}),a=new wt(""),c=new Wr(r,i,o,a,s,ie,e,n.root);return c.snapshot=n.root,new f0(new f2(c,[]),n)}function WP(t,e){let n={},r={},i={},s="",o=new $3([],n,i,s,r,ie,e,null,{});return new d0("",new f2(o,[]))}var Wr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[W3]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(e=>Hs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(e=>Hs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:I(I({},t.data),t._resolvedData??{})},i&&oV(i)&&(r.resolve[W3]=i.title),r}var $3=class{get title(){return this.data?.[W3]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hs(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},d0=class extends u0{constructor(e,n){super(n),this.url=e,Zf(this,n)}toString(){return sV(this._root)}};function Zf(t,e){e.value._routerState=t,e.children.forEach(n=>Zf(t,n))}function sV(t){let e=t.children.length>0?` { ${t.children.map(sV).join(", ")} } `:"";return`${t.value}${e}`}function bf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,m1(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),m1(e.params,n.params)||t.paramsSubject.next(n.params),VP(e.url,n.url)||t.urlSubject.next(n.url),m1(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jf(t,e){let n=m1(t.params,e.params)&&EP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jf(t.parent,e.parent))}function oV(t){return typeof t.title=="string"||t.title===null}var KP=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=S(Q3),this.location=S(q1),this.changeDetector=S(xn),this.environmentInjector=S($t),this.inputBinder=S(v0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new $f(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qt]});let t=e;return t})(),$f=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Wr?this.route:e===Q3?this.childContexts:this.parent.get(e,n)}},v0=new z(""),Fw=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Bo([i.queryParams,i.params,i.data]).pipe(ce(([o,a,c],l)=>(c=I(I(I({},o),a),c),l===0?R(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=yM(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function QP(t,e,n){let r=q3(t,e._root,n?n._root:void 0);return new f0(r,e)}function q3(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=YP(t,e,n);return new f2(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>q3(t,a)),o}}let r=XP(e.value),i=e.children.map(s=>q3(t,s));return new f2(r,i)}}function YP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return q3(t,r,i);return q3(t,r)})}function XP(t){return new Wr(new wt(t.url),new wt(t.params),new wt(t.queryParams),new wt(t.fragment),new wt(t.data),t.outlet,t.component,t)}var aV="ngNavigationCancelingError";function cV(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lV(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[aV]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ZP(t){return uV(t)&&Es(t.url)}function uV(t){return t&&t[aV]}var Jf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d1({type:e,selectors:[["ng-component"]],standalone:!0,features:[An],decls:1,vars:0,template:function(i,s){i&1&&q2(0,"router-outlet")},dependencies:[KP],encapsulation:2});let t=e;return t})();function JP(t,e){return t.providers&&!t._injector&&(t._injector=p6(t.providers,e,`Route: ${t.path}`)),t._injector??e}function e9(t){let e=t.children&&t.children.map(e9),n=e?te(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=Jf),n}function g1(t){return t.outlet||ie}function eF(t,e){let n=t.filter(r=>g1(r)===e);return n.push(...t.filter(r=>g1(r)!==e)),n}function Y3(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var tF=(t,e,n,r)=>F(i=>(new qf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),qf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new B3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Pf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(bf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Y3(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},h0=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{constructor(e,n){this.component=e,this.route=n}};function nF(t,e,n){let r=t._root,i=e?e._root:null;return A3(r,i,n,[r.value])}function rF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Rv(t)?t:e.get(t):r}function A3(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vs(e);return t.children.forEach(o=>{iF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>k3(a,n.getContext(o),i)),i}function iF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=sF(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new h0(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?A3(t,e,a?a.children:null,r,i):A3(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,o))}else o&&k3(e,a,i),i.canActivateChecks.push(new h0(r)),s.component?A3(t,null,a?a.children:null,r,i):A3(t,null,n,r,i);return i}function sF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!m1(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jf(t,e)||!m1(t.queryParams,e.queryParams);case"paramsChange":default:return!jf(t,e)}}function k3(t,e,n){let r=Vs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?k3(o,e.children.getContext(s),n):k3(o,null,n):k3(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bs(e.outlet.component,i)):n.canDeactivateChecks.push(new bs(null,i)):n.canDeactivateChecks.push(new bs(null,i))}function X3(t){return typeof t=="function"}function oF(t){return typeof t=="boolean"}function aF(t){return t&&X3(t.canLoad)}function cF(t){return t&&X3(t.canActivate)}function lF(t){return t&&X3(t.canActivateChild)}function uF(t){return t&&X3(t.canDeactivate)}function fF(t){return t&&X3(t.canMatch)}function fV(t){return t instanceof k2||t?.name==="EmptyError"}var n0=Symbol("INITIAL_VALUE");function Is(){return ce(t=>Bo(t.map(e=>e.pipe(L1(1),N1(n0)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===n0)return n0;if(n===!1||n instanceof kn)return n}return!0}),Ne(e=>e!==n0),L1(1)))}function dF(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?R(te(I({},n),{guardsResult:!0})):hF(o,r,i,t).pipe(je(a=>a&&oF(a)?pF(r,s,t,e):R(a)),F(a=>te(I({},n),{guardsResult:a})))})}function hF(t,e,n,r){return ne(t).pipe(je(i=>CF(i.component,i.route,n,e,r)),y2(i=>i!==!0,!0))}function pF(t,e,n,r){return ne(e).pipe(s1(i=>$i(gF(i.route.parent,r),mF(i.route,r),yF(t,i.path,n),vF(t,i.route,n))),y2(i=>i!==!0,!0))}function mF(t,e){return t!==null&&e&&e(new Ff(t)),R(!0)}function gF(t,e){return t!==null&&e&&e(new kf(t)),R(!0)}function vF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(s=>cc(()=>{let o=Y3(e)??n,a=Ds(s,o),c=cF(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t));return On(c).pipe(y2())}));return R(i).pipe(Is())}function yF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>rF(o)).filter(o=>o!==null).map(o=>cc(()=>{let a=o.guards.map(c=>{let l=Y3(o.node)??n,u=Ds(c,l),f=lF(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t));return On(f).pipe(y2())});return R(a).pipe(Is())}));return R(s).pipe(Is())}function CF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let o=s.map(a=>{let c=Y3(e)??i,l=Ds(a,c),u=uF(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r));return On(u).pipe(y2())});return R(o).pipe(Is())}function MF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let s=i.map(o=>{let a=Ds(o,t),c=aF(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n));return On(c)});return R(s).pipe(Is(),dV(r))}function dV(t){return lu($e(e=>{if(Es(e))throw cV(t,e)}),F(e=>e===!0))}function wF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let s=i.map(o=>{let a=Ds(o,t),c=fF(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n));return On(c)});return R(s).pipe(Is(),dV(r))}var G3=class{constructor(e){this.segmentGroup=e||null}},p0=class extends Error{constructor(e){super(),this.urlTree=e}};function ws(t){return ji(new G3(t))}function VF(t){return ji(new k(4e3,!1))}function _F(t){return ji(lV(!1,3))}var Gf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new k(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[ie])return VF(e.redirectTo);i=i.children[ie]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new p0(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Wf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bF(t,e,n,r,i){let s=t9(t,e,n);return s.matched?(r=JP(e,r),wF(r,e,n,i).pipe(F(o=>o===!0?s:I({},Wf)))):R(s)}function t9(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},Wf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wP)(n,t,e);if(!i)return I({},Wf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ow(t,e,n,r){return n.length>0&&zF(t,n,r)?{segmentGroup:new Ce(e,EF(r,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&IF(t,n,r)?{segmentGroup:new Ce(t.segments,HF(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function HF(t,e,n,r,i){let s={};for(let o of r)if(y0(t,n,o)&&!i[g1(o)]){let a=new Ce([],{});s[g1(o)]=a}return I(I({},i),s)}function EF(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&g1(r)!==ie){let i=new Ce([],{});n[g1(r)]=i}return n}function zF(t,e,n){return n.some(r=>y0(t,e,r)&&g1(r)!==ie)}function IF(t,e,n){return n.some(r=>y0(t,e,r))}function y0(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function DF(t,e,n,r){return g1(t)!==r&&(r===ie||!y0(e,n,t))?!1:t.path==="**"?!0:t9(e,t,n).matched}function SF(t,e,n){return e.length===0&&!t.children[n]}var Kf=class{};function xF(t,e,n,r,i,s,o="emptyOnly"){return new Qf(t,e,n,r,i,o,s).recognize()}var TF=31,Qf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Gf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new k(4002,!1)}recognize(){let e=Ow(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(n=>{let r=new $3([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new f2(r,n),s=new d0("",i),o=OP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(A1(r=>{if(r instanceof p0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof G3?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Xf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(F(s=>s instanceof f2?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ne(i).pipe(s1(s=>{let o=r.children[s],a=eF(n,s);return this.processSegmentGroup(e,a,o,s)}),Er((s,o)=>(s.push(...o),s)),Mn(null),Cu(),je(s=>{if(s===null)return ws(r);let o=hV(s);return AF(o),R(o)}))}processSegment(e,n,r,i,s,o){return ne(n).pipe(s1(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(A1(c=>{if(c instanceof G3)return R(null);throw c}))),y2(a=>!!a),A1(a=>{if(fV(a))return SF(r,i,s)?R(new Kf):ws(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return DF(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ws(i):ws(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=i.path==="**"?Bw(s):t9(n,i,s);if(!a)return ws(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TF&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(je(d=>this.processSegment(e,r,n,d.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=R(Bw(i)),n.children={}):o=bF(n,r,i,e,this.urlSerializer),o.pipe(ce(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ce(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:d}=a,h=new $3(u,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,NF(r),g1(r),r.component??r._loadedComponent??null,r,RF(r)),{segmentGroup:p,slicedSegments:g}=Ow(n,u,f,c);if(g.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(F(w=>w===null?null:new f2(h,w)));if(c.length===0&&g.length===0)return R(new f2(h,[]));let m=g1(r)===s;return this.processSegment(l,c,p,g,m?ie:s,!0).pipe(F(w=>new f2(h,w instanceof f2?[w]:[])))}))):ws(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):MF(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe($e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_F(n))):R({routes:[],injector:e})}};function AF(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function LF(t){let e=t.value.routeConfig;return e&&e.path===""}function hV(t){let e=[],n=new Set;for(let r of t){if(!LF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hV(r.children);e.push(new f2(r.value,i))}return e.filter(r=>!n.has(r))}function NF(t){return t.data||{}}function RF(t){return t.resolve||{}}function Bw(t){return{matched:!0,parameters:t.length>0?qw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kF(t,e,n,r,i,s){return je(o=>xF(t,e,n,r,o.extractedUrl,i,s).pipe(F(({state:a,tree:c})=>te(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function PF(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let s=i.map(l=>l.route),o=new Set(s),a=pV(s[0].parent).slice(1),c=0;return ne(a).pipe(s1(l=>o.has(l)?FF(l,r,t,e):(l.data=Xf(l,l.parent,t).resolve,R(void 0))),$e(()=>c++),qi(1),je(l=>c===a.length?R(n):xt))})}function pV(t){let e=t.children.map(n=>pV(n)).flat();return[t,...e]}function FF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!oV(i)&&(s[W3]=i.title),OF(s,t,e,r).pipe(F(o=>(t._resolvedData=o,t.data=Xf(t,t.parent,n).resolve,null)))}function OF(t,e,n,r){let i=zf(t);if(i.length===0)return R({});let s={};return ne(i).pipe(je(o=>BF(t[o],e,n,r).pipe(y2(),$e(a=>{s[o]=a}))),qi(1),vu(s),A1(o=>fV(o)?xt:ji(o)))}function BF(t,e,n,r){let i=Y3(e)??r,s=Ds(t,i),o=s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n));return On(o)}function Hf(t){return ce(e=>{let n=t(e);return n?ne(n).pipe(F(()=>e)):R(e)})}var mV=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[W3]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(UF))(),providedIn:"root"});let t=e;return t})(),UF=(()=>{let e=class e extends mV{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(v(_3))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z3=new z("",{providedIn:"root",factory:()=>({})}),m0=new z("ROUTES"),n9=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(C6)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=On(r.loadComponent()).pipe(F(gV),$e(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),wn(()=>{this.componentLoaders.delete(r)})),s=new Fi(i,()=>new ye).pipe(Pi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=jF(i,this.compiler,r,this.onLoadEndListener).pipe(wn(()=>{this.childrenLoaders.delete(i)})),a=new Fi(o,()=>new ye).pipe(Pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jF(t,e,n,r){return On(t.loadChildren()).pipe(F(gV),je(i=>i instanceof Zo||Array.isArray(i)?R(i):ne(e.compileModuleAsync(i))),F(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(m0,[],{optional:!0,self:!0}).flat()),{routes:o.map(e9),injector:s}}))}function $F(t){return t&&typeof t=="object"&&"default"in t}function gV(t){return $F(t)?t.default:t}var r9=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(qF))(),providedIn:"root"});let t=e;return t})(),qF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vV=new z(""),yV=new z("");function GF(t,e,n){let r=t.get(yV),i=t.get(qe);return t.get(X).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),WF(t))),{onViewTransitionCreated:c}=r;return c&&By(t,()=>c({transition:a,from:e,to:n})),o})}function WF(t){return new Promise(e=>{E7(e,{injector:t})})}var i9=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ye,this.transitionAbortSubject=new ye,this.configLoader=S(n9),this.environmentInjector=S($t),this.urlSerializer=S(K3),this.rootContexts=S(Q3),this.location=S(gs),this.inputBindingEnabled=S(v0,{optional:!0})!==null,this.titleStrategy=S(mV),this.options=S(Z3,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=S(r9),this.createViewTransition=S(vV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Nf(s)),i=s=>this.events.next(new Rf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new wt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:R3,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),F(o=>te(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ce(o=>{this.currentTransition=o;let a=!1,c=!1;return R(o).pipe($e(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?te(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ce(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&f!=="reload"){let d="";return this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.rawUrl),d,0)),l.resolve(null),xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(ce(d=>{let h=this.transitions?.getValue();return this.events.next(new zs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?xt:Promise.resolve(d)}),kF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=te(I({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new c0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:g,extras:m}=l,w=new zs(d,this.urlSerializer.serialize(h),p,g);this.events.next(w);let H=iV(h,this.rootComponentType).snapshot;return this.currentTransition=o=te(I({},l),{targetSnapshot:H,urlAfterRedirects:h,extras:te(I({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,R(o)}else{let d="";return this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,1)),l.resolve(null),xt}}),$e(l=>{let u=new xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),F(l=>(this.currentTransition=o=te(I({},l),{guards:nF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),dF(this.environmentInjector,l=>this.events.next(l)),$e(l=>{if(o.guardsResult=l.guardsResult,Es(l.guardsResult))throw cV(this.urlSerializer,l.guardsResult);let u=new Tf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ne(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),Hf(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe($e(u=>{let f=new Af(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),ce(u=>{let f=!1;return R(u).pipe(PF(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",2)}}))}),$e(u=>{let f=new Lf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Hf(l=>{let u=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe($e(h=>{f.component=h}),F(()=>{})));for(let h of f.children)d.push(...u(h));return d};return Bo(u(l.targetSnapshot.root)).pipe(Mn(),L1(1))}),Hf(()=>this.afterPreactivation()),ce(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?ne(f).pipe(F(()=>o)):R(o)}),F(l=>{let u=QP(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=te(I({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),$e(()=>{this.events.next(new U3)}),tF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),L1(1),$e({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new z2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),wu(this.transitionAbortSubject.pipe($e(l=>{throw l}))),wn(()=>{if(!a&&!c){let l="";this.cancelNavigationTransition(o,l,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),A1(l=>{if(c=!0,uV(l))this.events.next(new Pn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),ZP(l)?this.events.next(new j3(l.url)):o.resolve(!1);else{this.events.next(new O3(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return xt}))}))}cancelNavigationTransition(r,i,s){let o=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KF(t){return t!==R3}var QF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(YF))(),providedIn:"root"});let t=e;return t})(),Yf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YF=(()=>{let e=class e extends Yf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>(()=>S(XF))(),providedIn:"root"});let t=e;return t})(),XF=(()=>{let e=class e extends CV{constructor(){super(...arguments),this.location=S(gs),this.urlSerializer=S(K3),this.options=S(Z3,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=S(r9),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iV(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zs)this.stateMemento=this.createStateMemento();else if(r instanceof Fn)this.rawUrlTree=i.initialUrl;else if(r instanceof c0){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof U3?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Pn&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof O3?this.restoreHistory(i,!0):r instanceof z2&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=O1(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L3=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(L3||{});function MV(t,e){t.events.pipe(Ne(n=>n instanceof z2||n instanceof Pn||n instanceof O3||n instanceof Fn),F(n=>n instanceof z2||n instanceof Fn?L3.COMPLETE:(n instanceof Pn?n.code===0||n.code===1:!1)?L3.REDIRECTING:L3.FAILED),Ne(n=>n!==L3.REDIRECTING),L1(1)).subscribe(()=>{e()})}function ZF(t){throw t}var JF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},i2=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=S(v6),this.stateManager=S(CV),this.options=S(Z3,{optional:!0})||{},this.pendingTasks=S(ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=S(i9),this.urlSerializer=S(K3),this.location=S(gs),this.urlHandlingStrategy=S(r9),this._events=new ye,this.errorHandler=this.options.errorHandler||ZF,this.navigated=!1,this.routeReuseStrategy=S(QF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=S(m0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!S(v0,{optional:!0}),this.eventsSubscription=new rt,this.isNgZoneEnabled=S(X)instanceof X&&X.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Pn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof z2)this.navigated=!0;else if(i instanceof j3){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||KF(s.source)};this.scheduleNavigation(a,R3,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),R3,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=I({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(e9),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let h=s?s.snapshot:this.routerState.snapshot.root;d=eV(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return tV(d,r,f,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Es(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,R3,null,i)}navigate(r,i={skipLocationChange:!1}){return tO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},JF):i===!1?s=I({},eO):s=i,Es(r))return Nw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Nw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((d,h)=>{c=d,l=h});let f=this.pendingTasks.add();return MV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}function nO(t){return!(t instanceof U3)&&!(t instanceof j3)}var wV=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof z2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:gC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(x(i2),x(Wr),Z5("tabindex"),x(w2),x(_t),x(J1))},e.\u0275dir=Ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&At("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&V2("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ln],skipLocationChange:["skipLocationChange","skipLocationChange",Ln],replaceUrl:["replaceUrl","replaceUrl",Ln],routerLink:"routerLink"},standalone:!0,features:[I7,qt]});let t=e;return t})();var g0=class{};var rO=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(r=>r instanceof z2),s1(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=p6(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ne(s).pipe(Cn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=R(null);let o=s.pipe(je(a=>a===null?R(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ne([o,a]).pipe(Cn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(v(i2),v(C6),v($t),v(g0),v(n9))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VV=new z(""),iO=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof z2?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Fn&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof l0&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new l0(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){wC()},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function sO(t){return t.routerState.root}function J3(t,e){return{\u0275kind:t,\u0275providers:e}}function oO(){let t=S(Vt);return e=>{let n=t.get(G2);if(e!==n.components[0])return;let r=t.get(i2),i=t.get(_V);t.get(s9)===1&&r.initialNavigation(),t.get(bV,null,oe.Optional)?.setUpPreloading(),t.get(VV,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _V=new z("",{factory:()=>new ye}),s9=new z("",{providedIn:"root",factory:()=>1});function aO(){return J3(2,[{provide:s9,useValue:0},{provide:g6,multi:!0,deps:[Vt],useFactory:e=>{let n=e.get(EM,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(i2),s=e.get(_V);MV(i,()=>{r(!0)}),e.get(i9).afterPreactivation=()=>(r(!0),s.closed?R(void 0):s),i.initialNavigation()}))}}])}function cO(){return J3(3,[{provide:g6,multi:!0,useFactory:()=>{let e=S(i2);return()=>{e.setUpLocationChangeListener()}}},{provide:s9,useValue:2}])}var bV=new z("");function lO(t){return J3(0,[{provide:bV,useExisting:rO},{provide:g0,useExisting:t}])}function uO(){return J3(8,[Fw,{provide:v0,useExisting:Fw}])}function fO(t){let e=[{provide:vV,useValue:GF},{provide:yV,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return J3(9,e)}var Uw=new z("ROUTER_FORROOT_GUARD"),dO=[gs,{provide:K3,useClass:P3},i2,Q3,{provide:Wr,useFactory:sO,deps:[i2]},n9,[]],HV=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[dO,[],{provide:m0,multi:!0,useValue:r},{provide:Uw,useFactory:gO,deps:[[i2,new Or,new s6]]},{provide:Z3,useValue:i||{}},i?.useHash?pO():mO(),hO(),i?.preloadingStrategy?lO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?vO(i):[],i?.bindToComponentInputs?uO().\u0275providers:[],i?.enableViewTransitions?fO().\u0275providers:[],yO()]}}static forChild(r){return{ngModule:e,providers:[{provide:m0,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(v(Uw,8))},e.\u0275mod=me({type:e}),e.\u0275inj=pe({});let t=e;return t})();function hO(){return{provide:VV,useFactory:()=>{let t=S(LM),e=S(X),n=S(Z3),r=S(i9),i=S(K3);return n.scrollOffset&&t.setOffset(n.scrollOffset),new iO(i,r,t,e,n)}}}function pO(){return{provide:J1,useClass:IM}}function mO(){return{provide:J1,useClass:Q7}}function gO(t){return"guarded"}function vO(t){return[t.initialNavigation==="disabled"?cO().\u0275providers:[],t.initialNavigation==="enabledBlocking"?aO().\u0275providers:[]]}var jw=new z("");function yO(){return[{provide:jw,useFactory:oO},{provide:V6,multi:!0,useExisting:jw}]}var L1e={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"]};var N1e={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"]};var EV={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]};var R1e={prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm152 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6H216 176 128 80c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]};var k1e={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]};var CO="firebase",MO="10.6.0";v2(CO,MO,"app");var s2=new F1("ANGULARFIRE2_VERSION"),zV=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;var IV=(t,e)=>{let n=e?[e]:Mg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},nn=class{constructor(){return IV(wO)}},wO="app-check";function a9(){}var C0=class{zone;delegate;constructor(e,n=du){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},c9=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",a9,{},a9,a9)),n.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},rn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new C0(Zone.current)),this.insideAngular=n.run(()=>new C0(Zone.current,_r)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(v(X))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DV(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function l9(t){return t.pipe(Bt(DV().outsideAngular))}function Ht(t){return VO(DV())(t)}function VO(t){return function(n){return n=n.lift(new c9(t.ngZone)),n.pipe(R2(t.outsideAngular),Bt(t.insideAngular))}}var _O=new Map,bO={activated:!1,tokenObservers:[]},HO={initialized:!1,enabled:!1};function K2(t){return _O.get(t)||Object.assign({},bO)}function RV(){return HO}var EO="https://content-firebaseappcheck.googleapis.com/v1";var zO="exchangeDebugToken",SV={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},tne=24*60*60*1e3;var f9=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new J8,yield IO(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new J8,yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function IO(t){return new Promise(e=>{setTimeout(e,t)})}var DO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Bn=new Cg("appCheck","AppCheck",DO);function kV(t){if(!K2(t).activated)throw Bn.create("use-before-activation",{appName:t.name})}function PV(r,i){return C(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(s["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(t,a)}catch(h){throw Bn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Bn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Bn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,d=Date.now();return{token:l.token,expireTimeMillis:d+f,issuedAtTimeMillis:d}})}function FV(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${EO}/projects/${n}/apps/${r}:${zO}?key=${i}`,body:{debug_token:e}}}var SO="firebase-app-check-database",xO=1,d9="firebase-app-check-store";var w0=null;function TO(){return w0||(w0=new Promise((t,e)=>{try{let n=indexedDB.open(SO,xO);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Bn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(d9,{keyPath:"compositeKey"})}}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n?.message}))}}),w0)}function AO(t,e){return LO(NO(t),e)}function LO(t,e){return C(this,null,function*(){let r=(yield TO()).transaction(d9,"readwrite"),s=r.objectStore(d9).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Bn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function NO(t){return`${t.options.appId}-${t.name}`}var h9=new Na("@firebase/app-check");function u9(t,e){return Aa()?AO(t,e).catch(n=>{h9.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OV(){return RV().enabled}function BV(){return C(this,null,function*(){let t=RV();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var RO={error:"UNKNOWN_ERROR"};function kO(t){return gg.encodeString(JSON.stringify(t),!1)}function p9(t,e=!1){return C(this,null,function*(){let n=t.app;kV(n);let r=K2(n),i=r.token,s;if(i&&!e4(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(e4(c)?i=c:yield u9(n,void 0))}if(!e&&i&&e4(i))return{token:i.token};let o=!1;if(OV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PV(FV(n,yield BV()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let c=yield r.exchangeTokenPromise;return yield u9(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield K2(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?h9.warn(c.message):h9.error(c),s=c}let a;return i?s?e4(i)?a={token:i.token,internalError:s}:a=TV(s):(a={token:i.token},r.token=i,yield u9(n,i)):a=TV(s),o&&BO(n,a),a})}function PO(t){return C(this,null,function*(){let e=t.app;kV(e);let{provider:n}=K2(e);if(OV()){let r=yield BV(),{token:i}=yield PV(FV(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function FO(t,e,n,r){let{app:i}=t,s=K2(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&e4(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),xV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xV(t))}function UV(t,e){let n=K2(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function xV(t){let{app:e}=t,n=K2(e),r=n.tokenRefresher;r||(r=OO(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function OO(t){let{app:e}=t;return new f9(()=>C(this,null,function*(){let n=K2(e),r;if(n.token?r=yield p9(t,!0):r=yield p9(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=K2(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SV.RETRIAL_MIN_WAIT,SV.RETRIAL_MAX_WAIT)}function BO(t,e){let n=K2(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function e4(t){return t.expireTimeMillis-Date.now()>0}function TV(t){return{token:kO(RO),error:t}}var m9=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=K2(this.app);for(let n of e)UV(this.app,n.next);return Promise.resolve()}};function UO(t,e){return new m9(t,e)}function jO(t){return{getToken:e=>p9(t,e),getLimitedUseToken:()=>PO(t),addTokenListener:e=>FO(t,"INTERNAL",e),removeTokenListener:e=>UV(t.app,e)}}var $O="@firebase/app-check",qO="0.8.0";var GO="app-check",AV="app-check-internal";function WO(){Cr(new A2(GO,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return UO(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(AV).initialize()})),Cr(new A2(AV,t=>{let e=t.getProvider("app-check").getImmediate();return jO(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),v2($O,qO)}WO();var KO=["localhost","0.0.0.0","127.0.0.1"],hne=typeof window<"u"&&KO.includes(window.location.hostname);var QO="firebase",YO="10.6.0";Pe.registerVersion(QO,YO,"app-compat");var XO=["ngOnDestroy"],V0=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(XO.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let c=a?.[s];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(u=>{let f=u?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,f),f})})})});var Ss=class{constructor(e){return e}},Un=new z("angularfire2.app.options"),jn=new z("angularfire2.app.name");function Kr(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=Pe.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Pe.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;ZO("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ss(o)}var ZO=(t,...e)=>{R7()&&typeof console<"u"&&console[t](...e)},JO={provide:Ss,useFactory:Kr,deps:[Un,X,[new Or,jn]]},$V=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Un,useValue:n},{provide:jn,useValue:r}]}}constructor(n){Pe.registerVersion("angularfire",s2.full,"core"),Pe.registerVersion("angularfire",s2.full,"app-compat"),Pe.registerVersion("angular",h7.full,n.toString())}static \u0275fac=function(r){return new(r||t)(v(st))};static \u0275mod=me({type:t});static \u0275inj=pe({providers:[JO]})}return t})();function $n(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return eB(i,o)||(jV("error",`${e} was already initialized on the ${n} Firebase App with different settings.${tB?" You may need to reload as Firebase is not HMR aware.":""}`),jV("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function eB(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var tB=typeof module<"u"&&!!module.hot,jV=(t,...e)=>{R7()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var v9=new z("angularfire2.auth.use-emulator"),y9=new z("angularfire2.auth.settings"),C9=new z("angularfire2.auth.tenant-id"),M9=new z("angularfire2.auth.langugage-code"),w9=new z("angularfire2.auth.use-device-language"),V9=new z("angularfire.auth.persistence"),_9=(t,e,n,r,i,s,o,a)=>$n(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(let[l,u]of Object.entries(o))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]),Qr=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,c,l,u,f,d,h){let p=new ye,g=R(void 0).pipe(Bt(o.outsideAngular),ce(()=>s.runOutsideAngular(()=>import("./chunk-H7GBGBQP.js"))),F(()=>Kr(n,s,r)),F(m=>_9(m,s,a,l,u,f,c,d)),Wi({bufferSize:1,refCount:!1}));if(en(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{g.pipe(y2()).subscribe();let m=g.pipe(ce(V=>V.getRedirectResult().then(E=>E,()=>null)),Ht,Wi({bufferSize:1,refCount:!1})),w=g.pipe(ce(V=>new q(E=>({unsubscribe:s.runOutsideAngular(()=>V.onAuthStateChanged(N=>E.next(N),N=>E.error(N),()=>E.complete()))})))),H=g.pipe(ce(V=>new q(E=>({unsubscribe:s.runOutsideAngular(()=>V.onIdTokenChanged(N=>E.next(N),N=>E.error(N),()=>E.complete()))}))));this.authState=m.pipe(uc(w),R2(o.outsideAngular),Bt(o.insideAngular)),this.user=m.pipe(uc(H),R2(o.outsideAngular),Bt(o.insideAngular)),this.idToken=this.user.pipe(ce(V=>V?ne(V.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(ce(V=>V?ne(V.getIdTokenResult()):R(null))),this.credential=Uo(m,p,this.authState.pipe(Ne(V=>!V))).pipe(F(V=>V?.user?V:null),R2(o.outsideAngular),Bt(o.insideAngular))}return V0(this,g,s,{spy:{apply:(m,w,H)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&H.then(V=>p.next(V))}}})}static \u0275fac=function(r){return new(r||t)(v(Un),v(jn,8),v(st),v(X),v(rn),v(v9,8),v(y9,8),v(C9,8),v(M9,8),v(w9,8),v(V9,8),v(nn,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),qV=(()=>{class t{constructor(){Pe.registerVersion("angularfire",s2.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=me({type:t});static \u0275inj=pe({providers:[Qr]})}return t})();var Rne="*";function KV(t,e){return{type:7,name:t,definitions:e,options:{}}}function H9(t,e=null){return{type:4,styles:e,timings:t}}function kne(t,e=null){return{type:3,steps:t,options:e}}function Pne(t,e=null){return{type:2,steps:t,options:e}}function _0(t){return{type:6,styles:t,offset:null}}function b0(t,e,n){return{type:0,name:t,styles:e,options:n}}function E9(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Fne(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}var GV=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},WV=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},One="!";var QV=["toast-component",""];function iB(t,e){if(t&1){let n=h3();pt(0,"button",5),At("click",function(){n3(n);let i=Lt();return r3(i.remove())}),pt(1,"span",6),b2(2,"\xD7"),bt()()}}function sB(t,e){if(t&1&&(f3(0),b2(1),d3()),t&2){let n=Lt(2);De(1),W1("[",n.duplicatesCount+1,"]")}}function oB(t,e){if(t&1&&(pt(0,"div"),b2(1),G1(2,sB,2,1,"ng-container",4),bt()),t&2){let n=Lt();$1(n.options.titleClass),V2("aria-label",n.title),De(1),W1(" ",n.title," "),De(1),Ze("ngIf",n.duplicatesCount)}}function aB(t,e){if(t&1&&q2(0,"div",7),t&2){let n=Lt();$1(n.options.messageClass),Ze("innerHTML",n.message,c3)}}function cB(t,e){if(t&1&&(pt(0,"div",8),b2(1),bt()),t&2){let n=Lt();$1(n.options.messageClass),V2("aria-label",n.message),De(1),W1(" ",n.message," ")}}function lB(t,e){if(t&1&&(pt(0,"div"),q2(1,"div",9),bt()),t&2){let n=Lt();De(1),Br("width",n.width+"%")}}function uB(t,e){if(t&1){let n=h3();pt(0,"button",5),At("click",function(){n3(n);let i=Lt();return r3(i.remove())}),pt(1,"span",6),b2(2,"\xD7"),bt()()}}function fB(t,e){if(t&1&&(f3(0),b2(1),d3()),t&2){let n=Lt(2);De(1),W1("[",n.duplicatesCount+1,"]")}}function dB(t,e){if(t&1&&(pt(0,"div"),b2(1),G1(2,fB,2,1,"ng-container",4),bt()),t&2){let n=Lt();$1(n.options.titleClass),V2("aria-label",n.title),De(1),W1(" ",n.title," "),De(1),Ze("ngIf",n.duplicatesCount)}}function hB(t,e){if(t&1&&q2(0,"div",7),t&2){let n=Lt();$1(n.options.messageClass),Ze("innerHTML",n.message,c3)}}function pB(t,e){if(t&1&&(pt(0,"div",8),b2(1),bt()),t&2){let n=Lt();$1(n.options.messageClass),V2("aria-label",n.message),De(1),W1(" ",n.message," ")}}function mB(t,e){if(t&1&&(pt(0,"div"),q2(1,"div",9),bt()),t&2){let n=Lt();De(1),Br("width",n.width+"%")}}var z9=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},I9=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},D9=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ye;_activate=new ye;_manualClose=new ye;_resetTimeout=new ye;_countDuplicate=new ye;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},xs=class{toastId;config;message;title;toastType;toastRef;_onTap=new ye;_onAction=new ye;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},YV={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},XV=new z("ToastConfig"),S9=class extends I9{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},gB=(()=>{class t{_document=S(qe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x9=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},vB=(()=>{class t{_overlayContainer=S(gB);_componentFactoryResolver=S(Sn);_appRef=S(G2);_document=S(qe);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new S9(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new x9(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qn=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=I(I({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=I(I({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return I(I({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let l=r;r&&s.enableHtml&&(l=this.sanitizer.sanitize(l2.HTML,r));let u=new D9(c),f=new xs(this.index,s,l,i,n,u),d=[{provide:xs,useValue:f}],h=Vt.create({providers:d,parent:this._injector}),p=new z9(s.toastComponent,h),g=c.attach(p,s.newestOnTop);u.componentInstance=g.instance;let m={toastId:this.index,title:i||"",message:r||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||t)(v(XV),v(vB),v(Vt),v(jr),v(X))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yB=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=te(I({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=te(I({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=te(I({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(x(qn),x(xs),x(X))};static \u0275cmp=d1({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&At("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(S7("@flyInOut",i.state),$1(i.toastClasses),Br("display",i.displayStyle))},standalone:!0,features:[An],attrs:QV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&G1(0,iB,3,0,"button",0)(1,oB,3,5,"div",1)(2,aB,1,3,"div",2)(3,cB,2,4,"div",3)(4,lB,2,2,"div",4),r&2&&(Ze("ngIf",i.options.closeButton),De(1),Ze("ngIf",i.title),De(1),Ze("ngIf",i.message&&i.options.enableHtml),De(1),Ze("ngIf",i.message&&!i.options.enableHtml),De(1),Ze("ngIf",i.options.progressBar))},dependencies:[g3],encapsulation:2,data:{animation:[KV("flyInOut",[b0("inactive",_0({opacity:0})),b0("active",_0({opacity:1})),b0("removed",_0({opacity:0})),E9("inactive => active",H9("{{ easeTime }}ms {{ easing }}")),E9("active => removed",H9("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),CB=te(I({},YV),{toastComponent:yB}),MB=(t={})=>fs([{provide:XV,useValue:{default:CB,config:t}}]),ZV=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[MB(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=me({type:t});static \u0275inj=pe({})}return t})();var wB=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(x(qn),x(xs),x(G2))};static \u0275cmp=d1({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&At("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&($1(i.toastClasses),Br("display",i.displayStyle))},standalone:!0,features:[An],attrs:QV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&G1(0,uB,3,0,"button",0)(1,dB,3,5,"div",1)(2,hB,1,3,"div",2)(3,pB,2,4,"div",3)(4,mB,2,2,"div",4),r&2&&(Ze("ngIf",i.options.closeButton),De(1),Ze("ngIf",i.title),De(1),Ze("ngIf",i.message&&i.options.enableHtml),De(1),Ze("ngIf",i.message&&!i.options.enableHtml),De(1),Ze("ngIf",i.options.progressBar))},dependencies:[g3],encapsulation:2})}return t})(),Jne=te(I({},YV),{toastComponent:wB});var e_=(()=>{let e=class e{constructor(r,i,s){this.afAuth=r,this.tostr=i,this.router=s}login(r,i){return C(this,null,function*(){try{let s=yield this.afAuth.signInWithEmailAndPassword(r,i),o=yield s.user?.getIdToken(),a={uid:s.user?.uid,email:s.user?.email,accessToken:o,refreshToken:s.user?.refreshToken};this.setUser(a),this.afAuth.authState.subscribe(c=>c?this.router.navigate(["/admin"]):"")}catch{this.tostr.error("Invalid username or password")}})}logout(){return C(this,null,function*(){yield this.afAuth.signOut(),this.removeUser(),this.router.navigate(["/login"])})}setUser(r){localStorage.setItem("user",JSON.stringify(r))}removeUser(){localStorage.removeItem("user")}getUser(){return JSON.parse(localStorage.getItem("user")||"{}")}isLoggedIn(){return this.getUser().uid!=null}};e.\u0275fac=function(i){return new(i||e)(v(Qr),v(qn),v(i2))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y2={},A,J9=J9||{},K=_B||self;function F0(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function p4(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bB(t){return Object.prototype.hasOwnProperty.call(t,T9)&&t[T9]||(t[T9]=++HB)}var T9="closure_uid_"+(1e9*Math.random()>>>0),HB=0;function EB(t,e,n){return t.call.apply(t.bind,arguments)}function zB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=EB:Nt=zB,Nt.apply(null,arguments)}function H0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gn(){this.s=this.s,this.o=this.o}var IB=0;Gn.prototype.s=!1;Gn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IB!=0)&&bB(this)};Gn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var h_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ed(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function t_(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(F0(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var DB=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return t}();function o4(t){return/^[\s\xa0]*$/.test(t)}function O0(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function v1(t){return O0().indexOf(t)!=-1}function td(t){return td[" "](t),t}td[" "]=function(){};function SB(t,e){var n=yU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xB=v1("Opera"),Ns=v1("Trident")||v1("MSIE"),p_=v1("Edge"),k9=p_||Ns,m_=v1("Gecko")&&!(O0().toLowerCase().indexOf("webkit")!=-1&&!v1("Edge"))&&!(v1("Trident")||v1("MSIE"))&&!v1("Edge"),TB=O0().toLowerCase().indexOf("webkit")!=-1&&!v1("Edge");function g_(){var t=K.document;return t?t.documentMode:void 0}var P9;e:{if(E0="",z0=function(){var t=O0();if(m_)return/rv:([^\);]+)(\)|;)/.exec(t);if(p_)return/Edge\/([\d\.]+)/.exec(t);if(Ns)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TB)return/WebKit\/(\S+)/.exec(t);if(xB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),z0&&(E0=z0?z0[1]:""),Ns&&(I0=g_(),I0!=null&&I0>parseFloat(E0))){P9=String(I0);break e}P9=E0}var E0,z0,I0,F9;K.document&&Ns?(A9=g_(),F9=A9||parseInt(P9,10)||void 0):F9=void 0;var A9,AB=F9;function a4(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(m_){e:{try{td(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&a4.$.h.call(this)}}vt(a4,Rt);var LB={2:"touch",3:"pen",4:"mouse"};a4.prototype.h=function(){a4.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var m4="closure_listenable_"+(1e6*Math.random()|0),NB=0;function RB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NB,this.fa=this.ia=!1}function B0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nd(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function kB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function v_(t){let e={};for(let n in t)e[n]=t[n];return e}var n_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<n_.length;s++)n=n_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U0(t){this.src=t,this.g={},this.h=0}U0.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=B9(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function O9(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=h_(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(B0(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function B9(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rd="closure_lm_"+(1e6*Math.random()|0),L9={};function C_(t,e,n,r,i){if(r&&r.once)return w_(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)C_(t,e[s],n,r,i);return null}return n=od(n),t&&t[m4]?t.O(e,n,p4(r)?!!r.capture:!!r,i):M_(t,e,n,!1,r,i)}function M_(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=p4(i)?!!i.capture:!!i,a=sd(t);if(a||(t[rd]=a=new U0(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=PB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(__(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function PB(){function t(n){return e.call(t.src,t.listener,n)}let e=FB;return t}function w_(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)w_(t,e[s],n,r,i);return null}return n=od(n),t&&t[m4]?t.P(e,n,p4(r)?!!r.capture:!!r,i):M_(t,e,n,!0,r,i)}function V_(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)V_(t,e[s],n,r,i);else r=p4(r)?!!r.capture:!!r,n=od(n),t&&t[m4]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=B9(s,n,r,i),-1<n&&(B0(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=B9(e,n,r,i)),(n=-1<t?e[t]:null)&&id(n))}function id(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[m4])O9(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(__(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sd(e))?(O9(n,t),n.h==0&&(n.src=null,e[rd]=null)):B0(t)}}}function __(t){return t in L9?L9[t]:L9[t]="on"+t}function FB(t,e){if(t.fa)t=!0;else{e=new a4(e,this);var n=t.listener,r=t.la||t.src;t.ia&&id(t),t=n.call(r,e)}return t}function sd(t){return t=t[rd],t instanceof U0?t:null}var N9="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(t){return typeof t=="function"?t:(t[N9]||(t[N9]=function(e){return t.handleEvent(e)}),t[N9])}function gt(){Gn.call(this),this.i=new U0(this),this.S=this,this.J=null}vt(gt,Gn);gt.prototype[m4]=!0;gt.prototype.removeEventListener=function(t,e,n,r){V_(this,t,e,n,r)};function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var i=e;e=new Rt(r,t),y_(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=D0(o,r,!0,e)&&i}if(o=e.g=t,i=D0(o,r,!0,e)&&i,i=D0(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=D0(o,r,!1,e)&&i}gt.prototype.N=function(){if(gt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B0(n[r]);delete t.g[e],t.h--}}this.J=null};gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function D0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&O9(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var ad=K.JSON.stringify,U9=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function OB(){var t=cd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var j9=class{constructor(){this.h=this.g=null}add(e,n){let r=b_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},b_=new U9(()=>new $9,t=>t.reset()),$9=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function BB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UB(t){K.setTimeout(()=>{throw t},0)}var c4,l4=!1,cd=new j9,H_=()=>{let t=K.Promise.resolve(void 0);c4=()=>{t.then(jB)}},jB=()=>{for(var t;t=OB();){try{t.h.call(t.g)}catch(n){UB(n)}var e=b_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}l4=!1};function j0(t,e){gt.call(this),this.h=t||1,this.g=e||K,this.j=Nt(this.qb,this),this.l=Date.now()}vt(j0,gt);A=j0.prototype;A.ga=!1;A.T=null;A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(ld(this),this.start()))}};A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ld(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}A.N=function(){j0.$.N.call(this),ld(this),delete this.g};function ud(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function E_(t){t.g=ud(()=>{t.g=null,t.i&&(t.i=!1,E_(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var q9=class extends Gn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E_(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function u4(t){Gn.call(this),this.h=t,this.g={}}vt(u4,Gn);var r_=[];function z_(t,e,n,r){Array.isArray(n)||(n&&(r_[0]=n.toString()),n=r_);for(var i=0;i<n.length;i++){var s=C_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function I_(t){nd(t.g,function(e,n){this.g.hasOwnProperty(n)&&id(e)},t),t.g={}}u4.prototype.N=function(){u4.$.N.call(this),I_(this)};u4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $0(){this.g=!0}$0.prototype.Ea=function(){this.g=!1};function $B(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&f[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function qB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function As(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WB(t,n)+(r?" "+r:"")})}function GB(t,e){t.info(function(){return"TIMEOUT: "+e})}$0.prototype.info=function(){};function WB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ad(n)}catch{return e}}var Jr={},i_=null;function q0(){return i_=i_||new gt}Jr.Ta="serverreachability";function D_(t){Rt.call(this,Jr.Ta,t)}vt(D_,Rt);function f4(t){let e=q0();zt(e,new D_(e))}Jr.STAT_EVENT="statevent";function S_(t,e){Rt.call(this,Jr.STAT_EVENT,t),this.stat=e}vt(S_,Rt);function Kt(t){let e=q0();zt(e,new S_(e,t))}Jr.Ua="timingevent";function x_(t,e){Rt.call(this,Jr.Ua,t),this.size=e}vt(x_,Rt);function g4(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var G0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fd(){}fd.prototype.h=null;function s_(t){return t.h||(t.h=t.i())}function A_(){}var v4={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dd(){Rt.call(this,"d")}vt(dd,Rt);function hd(){Rt.call(this,"c")}vt(hd,Rt);var G9;function W0(){}vt(W0,fd);W0.prototype.g=function(){return new XMLHttpRequest};W0.prototype.i=function(){return{}};G9=new W0;function y4(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new u4(this),this.P=KB,t=k9?125:void 0,this.V=new j0(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}var KB=45e3,W9={},T0={};A=y4.prototype;A.setTimeout=function(t){this.P=t};function K9(t,e,n){t.L=1,t.v=Q0(on(e)),t.s=n,t.S=!0,N_(t,null)}function N_(t,e){t.G=Date.now(),C4(t),t.A=on(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),j_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new L_,t.g=ub(t.l,n?e:null,!t.s),0<t.O&&(t.M=new q9(Nt(t.Pa,t,t.g),t.O)),z_(t.U,t.g,"readystatechange",t.nb),e=t.I?v_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),f4(),$B(t.j,t.u,t.A,t.m,t.W,t.s)}A.nb=function(t){t=t.target;let e=this.M;e&&y1(t)==3?e.l():this.Pa(t)};A.Pa=function(t){try{if(t==this.g)e:{let u=y1(this.g);var e=this.g.Ia();let f=this.g.da();if(!(3>u)&&(u!=3||k9||this.g&&(this.h.h||this.g.ja()||l_(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?f4(3):f4(2)),K0(this);var n=this.g.da();this.ca=n;t:if(R_(this)){var r=l_(this.g);t="";var i=r.length,s=y1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),s4(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,qB(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!o4(a)){var l=a;break t}}l=null}if(n=l)As(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q9(this,n);else{this.i=!1,this.o=3,Kt(12),Yr(this),s4(this);break e}}this.S?(k_(this,u,o),k9&&this.i&&u==3&&(z_(this.U,this.V,"tick",this.mb),this.V.start())):(As(this.j,this.m,o,null),Q9(this,o)),u==4&&Yr(this),this.i&&!this.J&&(u==4?ob(this.l,this):(this.i=!1,C4(this)))}else mU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),Yr(this),s4(this)}}}catch{}finally{}};function R_(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function k_(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=QB(t,n),i==T0){e==4&&(t.o=4,Kt(14),r=!1),As(t.j,t.m,null,"[Incomplete Response]");break}else if(i==W9){t.o=4,Kt(15),As(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else As(t.j,t.m,i,null),Q9(t,i);R_(t)&&i!=T0&&i!=W9&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cd(e),e.M=!0,Kt(11))):(As(t.j,t.m,n,"[Invalid Chunked Response]"),Yr(t),s4(t))}A.mb=function(){if(this.g){var t=y1(this.g),e=this.g.ja();this.C<e.length&&(K0(this),k_(this,t,e),this.i&&t!=4&&C4(this))}};function QB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?T0:(n=Number(e.substring(n,r)),isNaN(n)?W9:(r+=1,r+n>e.length?T0:(e=e.slice(r,r+n),t.C=r+n,e)))}A.cancel=function(){this.J=!0,Yr(this)};function C4(t){t.Y=Date.now()+t.P,P_(t,t.P)}function P_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=g4(Nt(t.lb,t),e)}function K0(t){t.B&&(K.clearTimeout(t.B),t.B=null)}A.lb=function(){this.B=null;let t=Date.now();0<=t-this.Y?(GB(this.j,this.A),this.L!=2&&(f4(),Kt(17)),Yr(this),this.o=2,s4(this)):P_(this,this.Y-t)};function s4(t){t.l.H==0||t.J||ob(t.l,t)}function Yr(t){K0(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ld(t.V),I_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Q9(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Y9(n.i,t))){if(!t.K&&Y9(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)N0(n),Z0(n);else break e;yd(n),Kt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=g4(Nt(n.ib,n),6e3));if(1>=G_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xr(n,11)}else if((t.K||n.g==t)&&N0(n),!o4(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));let d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let h=t.g;if(h){let p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pd(s,s.h),s.h=null))}if(r.F){let g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Se(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lb(r,r.J?r.pa:null,r.Y),o.K){W_(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(K0(a),C4(a)),r.g=o}else ib(r);0<n.j.length&&J0(n)}else l[0]!="stop"&&l[0]!="close"||Xr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Xr(n,7):vd(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}f4(4)}catch{}}function YB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(F0(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function XB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(F0(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function F_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(F0(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=XB(t),r=YB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zr){this.h=t.h,A0(this,t.j),this.s=t.s,this.g=t.g,L0(this,t.m),this.l=t.l;var e=t.i,n=new d4;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),o_(this,n),this.o=t.o}else t&&(e=String(t).match(O_))?(this.h=!1,A0(this,e[1]||"",!0),this.s=r4(e[2]||""),this.g=r4(e[3]||"",!0),L0(this,e[4]),this.l=r4(e[5]||"",!0),o_(this,e[6]||"",!0),this.o=r4(e[7]||"")):(this.h=!1,this.i=new d4(null,this.h))}Zr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(i4(e,a_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(i4(e,a_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(i4(n,n.charAt(0)=="/"?tU:eU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",i4(n,rU)),t.join("")};function on(t){return new Zr(t)}function A0(t,e,n){t.j=n?r4(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function L0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function o_(t,e,n){e instanceof d4?(t.i=e,iU(t.i,t.h)):(n||(e=i4(e,nU)),t.i=new d4(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Q0(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function r4(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function i4(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a_=/[#\/\?@]/g,eU=/[#\?:]/g,tU=/[#\?]/g,nU=/[#\?@]/g,rU=/#/g;function d4(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wn(t){t.g||(t.g=new Map,t.h=0,t.i&&ZB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}A=d4.prototype;A.add=function(t,e){Wn(this),this.i=null,t=Rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function B_(t,e){Wn(t),e=Rs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U_(t,e){return Wn(t),e=Rs(t,e),t.g.has(e)}A.forEach=function(t,e){Wn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};A.ta=function(){Wn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};A.Z=function(t){Wn(this);let e=[];if(typeof t=="string")U_(this,t)&&(e=e.concat(this.g.get(Rs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};A.set=function(t,e){return Wn(this),this.i=null,t=Rs(this,t),U_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};A.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function j_(t,e,n){B_(t,e),0<n.length&&(t.i=null,t.g.set(Rs(t,e),ed(n)),t.h+=n.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iU(t,e){e&&!t.j&&(Wn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(B_(this,r),j_(this,i,n))},t)),t.j=e}var sU=class{constructor(t,e){this.g=t,this.map=e}};function $_(t){this.l=t||oU,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oU=10;function q_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function G_(t){return t.h?1:t.g?t.g.size:0}function Y9(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pd(t,e){t.g?t.g.add(e):t.h=e}function W_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$_.prototype.cancel=function(){if(this.i=K_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function K_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return ed(t.i)}var aU=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function cU(){this.g=new aU}function lU(t,e,n){let r=n||"";try{F_(t,function(i,s){let o=i;p4(i)&&(o=ad(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uU(t,e){let n=new $0;if(K.Image){let r=new Image;r.onload=H0(S0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=H0(S0,n,r,"TestLoadImage: error",!1,e),r.onabort=H0(S0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=H0(S0,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function S0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function M4(t){this.l=t.ec||null,this.j=t.ob||!1}vt(M4,fd);M4.prototype.g=function(){return new Y0(this.l,this.j)};M4.prototype.i=function(t){return function(){return t}}({});function Y0(t,e){gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=md,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(Y0,gt);var md=0;A=Y0.prototype;A.open=function(t,e){if(this.readyState!=md)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,h4(this)};A.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,w4(this)),this.readyState=md};A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,h4(this)),this.g&&(this.readyState=3,h4(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Q_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?w4(this):h4(this),this.readyState==3&&Q_(this)}};A.Za=function(t){this.g&&(this.response=this.responseText=t,w4(this))};A.Ya=function(t){this.g&&(this.response=t,w4(this))};A.ka=function(){this.g&&w4(this)};function w4(t){t.readyState=4,t.l=null,t.j=null,t.A=null,h4(t)}A.setRequestHeader=function(t,e){this.v.append(t,e)};A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};A.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function h4(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Y0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fU=K.JSON.parse;function Ge(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y_,this.L=this.M=!1}vt(Ge,gt);var Y_="",dU=/^https?$/i,hU=["POST","PUT"];A=Ge.prototype;A.Oa=function(t){this.M=t};A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G9.g(),this.C=this.u?s_(this.u):s_(G9),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){c_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&t instanceof K.FormData,!(0<=h_(hU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{J_(this),0<this.B&&((this.L=pU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=ud(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){c_(this,s)}};function pU(t){return Ns&&typeof t.timeout=="number"&&t.ontimeout!==void 0}A.ua=function(){typeof J9<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function c_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X_(t),X0(t)}function X_(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),X0(this))};A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),X0(this,!0)),Ge.$.N.call(this)};A.La=function(){this.s||(this.G||this.v||this.l?Z_(this):this.kb())};A.kb=function(){Z_(this)};function Z_(t){if(t.h&&typeof J9<"u"&&(!t.C[1]||y1(t)!=4||t.da()!=2)){if(t.v&&y1(t)==4)ud(t.La,0,t);else if(zt(t,"readystatechange"),y1(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(O_)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!dU.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<y1(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",X_(t)}}finally{X0(t)}}}}function X0(t,e){if(t.g){J_(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function J_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}A.isActive=function(){return!!this.g};function y1(t){return t.g?t.g.readyState:0}A.da=function(){try{return 2<y1(this)?this.g.status:-1}catch{return-1}};A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fU(e)}};function l_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Y_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mU(t){let e={};t=(t.g&&2<=y1(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(o4(t[r]))continue;var n=BB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}kB(e,function(r){return r.join(", ")})}A.Ia=function(){return this.m};A.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eb(t){let e="";return nd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gd(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=eb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function t4(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tb(t){this.Ga=0,this.j=[],this.l=new $0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=t4("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=t4("baseRetryDelayMs",5e3,t),this.hb=t4("retryDelaySeedMs",1e4,t),this.eb=t4("forwardChannelMaxRetries",2,t),this.xa=t4("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $_(t&&t.concurrentRequestLimit),this.Ja=new cU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}A=tb.prototype;A.ra=8;A.H=1;function vd(t){if(nb(t),t.H==3){var e=t.W++,n=on(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),V4(t,n),e=new y4(t,t.l,e),e.L=2,e.v=Q0(on(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=ub(e.l,null),e.g.ha(e.v)),e.G=Date.now(),C4(e)}cb(t)}function Z0(t){t.g&&(Cd(t),t.g.cancel(),t.g=null)}function nb(t){Z0(t),t.u&&(K.clearTimeout(t.u),t.u=null),N0(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function J0(t){if(!q_(t.i)&&!t.m){t.m=!0;var e=t.Na;c4||H_(),l4||(c4(),l4=!0),cd.add(e,t),t.C=0}}function gU(t,e){return G_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=g4(Nt(t.Na,t,e),ab(t,t.C)),t.C++,!0)}A.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new y4(this,this.l,t),s=this.s;if(this.U&&(s?(s=v_(s),y_(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rb(this,i,e),n=on(this.I),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),V4(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(eb(s)))+"&"+e:this.o&&gd(n,this.o,s)),pd(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,K9(i,n,null)):K9(i,n,e),this.H=2}}else this.H==3&&(t?u_(this,t):this.j.length==0||q_(this.i)||u_(this))};function u_(t,e){var n;e?n=e.m:n=t.W++;let r=on(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),V4(t,r),t.o&&t.s&&gd(r,t.o,t.s),n=new y4(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pd(t.i,n),K9(n,r,e)}function V4(t,e){t.na&&nd(t.na,function(n,r){Se(e,r,n)}),t.h&&F_({},function(n,r){Se(e,r,n)})}function rb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{lU(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ib(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;c4||H_(),l4||(c4(),l4=!0),cd.add(e,t),t.A=0}}function yd(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=g4(Nt(t.Ma,t),ab(t,t.A)),t.A++,!0)}A.Ma=function(){if(this.u=null,sb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=g4(Nt(this.jb,this),t)}};A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kt(10),Z0(this),sb(this))};function Cd(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function sb(t){t.g=new y4(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=on(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),V4(t,e),t.o&&t.s&&gd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Q0(on(e)),n.s=null,n.S=!0,N_(n,t)}A.ib=function(){this.v!=null&&(this.v=null,Z0(this),yd(this),Kt(19))};function N0(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function ob(t,e){var n=null;if(t.g==e){N0(t),Cd(t),t.g=null;var r=2}else if(Y9(t.i,e))n=e.F,W_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=q0(),zt(r,new x_(r,n)),J0(t)}else ib(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&gU(t,e)||r==2&&yd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xr(t,5);break;case 4:Xr(t,10);break;case 3:Xr(t,6);break;default:Xr(t,2)}}}function ab(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nt(t.pb,t);n||(n=new Zr("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||A0(n,"https"),Q0(n)),uU(n.toString(),r)}else Kt(2);t.H=0,t.h&&t.h.za(e),cb(t),nb(t)}A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Kt(2)):(this.l.info("Failed to ping google.com"),Kt(1))};function cb(t){if(t.H=0,t.ma=[],t.h){let e=K_(t.i);(e.length!=0||t.j.length!=0)&&(t_(t.ma,e),t_(t.ma,t.j),t.i.i.length=0,ed(t.j),t.j.length=0),t.h.ya()}}function lb(t,e,n){var r=n instanceof Zr?on(n):new Zr(n);if(r.g!="")e&&(r.g=e+"."+r.g),L0(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zr(null);r&&A0(s,r),e&&(s.g=e),i&&L0(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Se(r,n,e),Se(r,"VER",t.ra),V4(t,r),r}function ub(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ge(new M4({ob:!0})):new Ge(t.va),e.Oa(t.J),e}A.isActive=function(){return!!this.h&&this.h.isActive(this)};function fb(){}A=fb.prototype;A.Ba=function(){};A.Aa=function(){};A.za=function(){};A.ya=function(){};A.isActive=function(){return!0};A.Va=function(){};function R0(){if(Ns&&!(10<=Number(AB)))throw Error("Environmental error: no available transport.")}R0.prototype.g=function(t,e){return new d2(t,e)};function d2(t,e){gt.call(this),this.g=new tb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!o4(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!o4(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ks(this)}vt(d2,gt);d2.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Kt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lb(t,null,t.Y),J0(t)};d2.prototype.close=function(){vd(this.g)};d2.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ad(t),t=n);e.j.push(new sU(e.fb++,t)),e.H==3&&J0(e)};d2.prototype.N=function(){this.g.h=null,delete this.j,vd(this.g),delete this.g,d2.$.N.call(this)};function db(t){dd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(db,dd);function hb(){hd.call(this),this.status=1}vt(hb,hd);function ks(t){this.g=t}vt(ks,fb);ks.prototype.Ba=function(){zt(this.g,"a")};ks.prototype.Aa=function(t){zt(this.g,new db(t))};ks.prototype.za=function(t){zt(this.g,new hb)};ks.prototype.ya=function(){zt(this.g,"b")};function vU(){this.blockSize=-1}function Q2(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(Q2,vU);Q2.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function R9(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Q2.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)R9(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){R9(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){R9(this,r),i=0;break}}this.h=i,this.i+=e};Q2.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var yU={};function Md(t){return-128<=t&&128>t?SB(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function C1(t){if(isNaN(t)||!isFinite(t))return Ls;if(0>t)return Et(C1(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=X9;return new Me(e,0)}function pb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(pb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=C1(Math.pow(e,8)),r=Ls,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=C1(Math.pow(e,s)),r=r.R(s).add(C1(o))):(r=r.R(n),r=r.add(C1(o)))}return r}var X9=4294967296,Ls=Md(0),Z9=Md(1),f_=Md(16777216);A=Me.prototype;A.ea=function(){if(I2(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:X9+r)*e,e*=X9}return t};A.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sn(this))return"0";if(I2(this))return"-"+Et(this).toString(t);for(var e=C1(Math.pow(t,6)),n=this,r="";;){var i=P0(n,e).g;n=k0(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function I2(t){return t.h==-1}A.X=function(t){return t=k0(this,t),I2(t)?-1:sn(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(Z9)}A.abs=function(){return I2(this)?Et(this):this};A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function k0(t,e){return t.add(Et(e))}A.R=function(t){if(sn(this)||sn(t))return Ls;if(I2(this))return I2(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(I2(t))return Et(this.R(Et(t)));if(0>this.X(f_)&&0>t.X(f_))return C1(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,x0(n,2*r+2*i),n[2*r+2*i+1]+=s*c,x0(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,x0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,x0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function x0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function n4(t,e){this.g=t,this.h=e}function P0(t,e){if(sn(e))throw Error("division by zero");if(sn(t))return new n4(Ls,Ls);if(I2(t))return e=P0(Et(t),e),new n4(Et(e.g),Et(e.h));if(I2(e))return e=P0(t,Et(e)),new n4(Et(e.g),e.h);if(30<t.g.length){if(I2(t)||I2(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Z9,r=e;0>=r.X(t);)n=d_(n),r=d_(r);var i=Ts(n,1),s=Ts(r,1);for(r=Ts(r,2),n=Ts(n,2);!sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ts(r,1),n=Ts(n,1)}return e=k0(t,i.R(e)),new n4(i,e)}for(i=Ls;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=C1(n),o=s.R(e);I2(o)||0<o.X(t);)n-=r,s=C1(n),o=s.R(e);sn(s)&&(s=Z9),i=i.add(s),t=k0(t,o)}return new n4(i,t)}A.gb=function(t){return P0(this,t).h};A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function d_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Ts(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}R0.prototype.createWebChannel=R0.prototype.g;d2.prototype.send=d2.prototype.u;d2.prototype.open=d2.prototype.m;d2.prototype.close=d2.prototype.close;G0.NO_ERROR=0;G0.TIMEOUT=8;G0.HTTP_ERROR=6;T_.COMPLETE="complete";A_.EventType=v4;v4.OPEN="a";v4.CLOSE="b";v4.ERROR="c";v4.MESSAGE="d";gt.prototype.listen=gt.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;Q2.prototype.digest=Q2.prototype.l;Q2.prototype.reset=Q2.prototype.reset;Q2.prototype.update=Q2.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=C1;Me.fromString=pb;var mb=Y2.createWebChannelTransport=function(){return new R0},gb=Y2.getStatEventTarget=function(){return q0()},el=Y2.ErrorCode=G0,vb=Y2.EventType=T_,yb=Y2.Event=Jr,wd=Y2.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cb=Y2.FetchXmlHttpFactory=M4,_4=Y2.WebChannel=A_,Mb=Y2.XhrIo=Ge,wb=Y2.Md5=Q2,ei=Y2.Integer=Me;var Vb="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var po="10.5.2";var er=new Na("@firebase/firestore");function Us(){return er.logLevel}function wH(t){er.setLogLevel(t)}function b(t,...e){if(er.logLevel<=r1.DEBUG){let n=e.map(Vp);er.debug(`Firestore (${po}): ${t}`,...n)}}function et(t,...e){if(er.logLevel<=r1.ERROR){let n=e.map(Vp);er.error(`Firestore (${po}): ${t}`,...n)}}function S2(t,...e){if(er.logLevel<=r1.WARN){let n=e.map(Vp);er.warn(`Firestore (${po}): ${t}`,...n)}}function Vp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw et(e),new Error(e)}function j(t,e){t||P()}function VH(t,e){t||P()}function L(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_=class extends La{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ut=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var fl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ed=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},zd=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Id=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ut,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ut)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j(typeof r.accessToken=="string"),new fl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return j(e===null||typeof e=="string"),new lt(e)}},Dd=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sd=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Dd(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Td=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j(typeof n.token=="string"),this.R=n.token,new xd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function MU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var dl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=MU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Z(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function _H(t){return t+"\0"}var Be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var $=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},he=class t extends hl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new _(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},wU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tt=class t extends hl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return wU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new _(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new _(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new _(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var T=class t{constructor(e){this.path=e}static fromPath(e){return new t(he.fromString(e))}static fromName(e){return new t(he.fromString(e).popFirst(5))}static empty(){return new t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new he(e.slice()))}};var Zs=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function Ad(t){return t.fields.find(e=>e.kind===2)}function ni(t){return t.fields.filter(e=>e.kind!==2)}Zs.UNKNOWN_ID=-1;var Ks=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var N4=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,x2.min())}};function bH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new x2(i,T.empty(),e)}function HH(t){return new x2(t.readTime,t.key,-1)}var x2=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t($.min(),T.empty(),-1)}static max(){return new t($.max(),T.empty(),-1)}};function _p(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=T.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}var EH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pl=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fr(t){return C(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==EH)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var ml=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ci(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=bp(r.target.error);this.V.reject(new ci(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ci(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Nd(n)}},tr=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Ta())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Aa())return!1;if(t.C())return!0;let e=Ta(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return C(this,null,function*(){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ci(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new _(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new _(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ci(e,o))},i.onupgradeneeded=s=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return C(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=ml.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),y.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(b("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Ld=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ri(this.k.delete())}},ci=class extends _{constructor(e,n){super(M.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function dr(t){return t.name==="IndexedDbTransactionError"}var Nd=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ri(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),ri(this.store.add(e))}get(e){return ri(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),ri(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),ri(this.store.count())}W(e,n){let r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){let i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{let i=this.store.getAll(r.range);return new y((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=bp(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Ld(a),l=n(a.primaryKey,a.value,c);if(l instanceof y){let u=l.catch(f=>(c.done(),y.reject(f)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ri(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=bp(r.target.error);n(i)}})}var _b=!1;function bp(t){let e=tr.S(Ta());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new _("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _b||(_b=!0,setTimeout(()=>{throw r},0)),r}}return t}var Rd=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){b("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>C(this,null,function*(){this.task=null;try{b("IndexBackiller",`Documents written: ${yield this.X.te()}`)}catch(n){dr(n)?b("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield fr(n)}yield this.ee(6e4)}))}},kd=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return C(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let r=new Set,i=n,s=!0;return y.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return b("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(b("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=HH(s);_p(o,r)>0&&(r=o)}),new x2(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var h2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function sa(t){return t==null}function R4(t){return t===0&&1/t==-1/0}function zH(t){return typeof t=="number"&&Number.isInteger(t)&&!R4(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bb(e)),e=VU(t.get(n),e);return bb(e)}function VU(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function bb(t){return t+""}function M1(t){let e=t.length;if(j(e>=2),e===2)return j(t.charAt(0)===""&&t.charAt(1)===""),he.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&P(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:P()}s=o+2}return new he(r)}var Hb=["userId","batchId"];function sl(t,e){return[t,Qt(e)]}function IH(t,e,n){return[t,Qt(e),n]}var _U={},bU=["prefixPath","collectionGroup","readTime","documentId"],HU=["prefixPath","collectionGroup","documentId"],EU=["collectionGroup","readTime","prefixPath","documentId"],zU=["canonicalId","targetId"],IU=["targetId","path"],DU=["path","targetId"],SU=["collectionId","parent"],xU=["indexId","uid"],TU=["uid","sequenceNumber"],AU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LU=["indexId","uid","orderedDocumentKey"],NU=["userId","collectionPath","documentId"],RU=["userId","collectionPath","largestBatchId"],kU=["userId","collectionGroup","largestBatchId"],DH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PU=[...DH,"documentOverlays"],SH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xH=SH,FU=[...xH,"indexConfiguration","indexState","indexEntries"];var k4=class extends pl{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function Ct(t,e){let n=L(t);return tr.M(n.ae,e)}function Eb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TH(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||V1.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,V1.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,V1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}},Ws=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},V1=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};V1.EMPTY=null,V1.RED=!0,V1.BLACK=!1;V1.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new V1(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ee=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gl(this.data.getIterator())}getIteratorFrom(e){return new gl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},gl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ps(t){return t.hasNext()?t.getNext():void 0}var p2=class t{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ee(tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function AH(){return typeof atob<"u"}var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var OU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(t){if(j(!!t),typeof t=="string"){let e=0,n=OU.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function a8(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hp(t){let e=t.mapValue.fields.__previous_value__;return a8(e)?Hp(e):e}function P4(t){let e=nr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}var Pd=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},ir=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ol={nullValue:"NULL_VALUE"};function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a8(t)?4:LH(t)?9007199254740991:10:P()}function H1(t,e){if(t===e)return!0;let n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return P4(t).isEqual(P4(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=nr(i.timestampValue),a=nr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rr(i.bytesValue).isEqual(rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=We(i.doubleValue),a=We(s.doubleValue);return o===a?R4(o)===R4(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],H1);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Eb(o)!==Eb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!H1(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function F4(t,e){return(t.values||[]).find(n=>H1(n,e))!==void 0}function sr(t,e){if(t===e)return 0;let n=li(t),r=li(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=We(s.integerValue||s.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(P4(t),P4(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(s,o){let a=rr(s),c=rr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Z(a[l],c[l]);if(u!==0)return u}return Z(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Z(We(s.latitude),We(o.latitude));return a!==0?a:Z(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=sr(a[l],c[l]);if(u)return u}return Z(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Zn.mapValue&&o===Zn.mapValue)return 0;if(s===Zn.mapValue)return 1;if(o===Zn.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let d=Z(c[f],u[f]);if(d!==0)return d;let h=sr(a[c[f]],l[u[f]]);if(h!==0)return h}return Z(c.length,u.length)}(t.mapValue,e.mapValue);default:throw P()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);let n=nr(t),r=nr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Js(t){return Fd(t)}function Fd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return T.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Fd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Fd(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function ui(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Od(t){return!!t&&"integerValue"in t}function O4(t){return!!t&&"arrayValue"in t}function Ib(t){return!!t&&"nullValue"in t}function Db(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function al(t){return!!t&&"mapValue"in t}function S4(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=S4(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=S4(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function BU(t){return"nullValue"in t?ol:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ui(ir.empty(),T.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:P()}function UU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ui(ir.empty(),T.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Zn:P()}function Sb(t,e){let n=sr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function xb(t,e){let n=sr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Pt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=S4(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=S4(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return H1(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(S4(this.value))}};function NH(t){let e=[];return Mi(t.fields,(n,r)=>{let i=new tt([n]);if(al(r)){let s=NH(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new p2(e)}var ft=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,$.min(),$.min(),$.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,$.min(),$.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,$.min(),$.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var E1=class{constructor(e,n){this.position=e,this.inclusive=n}};function Tb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=T.comparator(T.fromName(o.referenceValue),n.key):r=sr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ab(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!H1(t.position[n],e.position[n]))return!1;return!0}var fi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function jU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yl=class{},le=class t extends yl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jd(e,n,r):n==="array-contains"?new Gd(e,r):n==="in"?new Cl(e,r):n==="not-in"?new Wd(e,r):n==="array-contains-any"?new Kd(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $d(e,r):new qd(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sr(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(sr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},we=class t extends yl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return eo(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function eo(t){return t.op==="and"}function Bd(t){return t.op==="or"}function Ep(t){return RH(t)&&eo(t)}function RH(t){for(let e of t.filters)if(e instanceof we)return!1;return!0}function Ud(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(Ep(t))return t.filters.map(e=>Ud(e)).join(",");{let e=t.filters.map(n=>Ud(n)).join(",");return`${t.op}(${e})`}}function kH(t,e){return t instanceof le?function(r,i){return i instanceof le&&r.op===i.op&&r.field.isEqual(i.field)&&H1(r.value,i.value)}(t,e):t instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kH(o,i.filters[a]),!0):!1}(t,e):void P()}function PH(t,e){let n=t.filters.concat(e);return we.create(n,t.op)}function FH(t){return t instanceof le?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof we?function(n){return n.op.toString()+" {"+n.getFilters().map(FH).join(" ,")+"}"}(t):"Filter"}var jd=class extends le{constructor(e,n,r){super(e,n,r),this.key=T.fromName(r.referenceValue)}matches(e){let n=T.comparator(e.key,this.key);return this.matchesComparison(n)}},$d=class extends le{constructor(e,n){super(e,"in",n),this.keys=OH("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},qd=class extends le{constructor(e,n){super(e,"not-in",n),this.keys=OH("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function OH(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>T.fromName(r.referenceValue))}var Gd=class extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return O4(n)&&F4(n.arrayValue,this.value)}},Cl=class extends le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&F4(this.value.arrayValue,n)}},Wd=class extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(F4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!F4(this.value.arrayValue,n)}},Kd=class extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!O4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>F4(this.value.arrayValue,r))}};var Qd=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function Yd(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qd(t,e,n,r,i,s,o)}function di(t){let e=L(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ud(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ce=n}return e.ce}function oa(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ab(t.startAt,e.startAt)&&Ab(t.endAt,e.endAt)}function Ml(t){return T.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wl(t,e){return t.filters.filter(n=>n instanceof le&&n.field.isEqual(e))}function Lb(t,e,n){let r=ol,i=!0;for(let s of wl(t,e)){let o=ol,a=!0;switch(s.op){case"<":case"<=":o=BU(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ol}Sb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];Sb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Nb(t,e,n){let r=Zn,i=!0;for(let s of wl(t,e)){let o=Zn,a=!0;switch(s.op){case">=":case">":o=UU(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Zn}xb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];xb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var X2=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function BH(t,e,n,r,i,s,o,a){return new X2(t,e,n,r,i,s,o,a)}function mo(t){return new X2(t)}function Rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zp(t){return t.collectionGroup!==null}function Qs(t){let e=L(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ee(tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new fi(s,r))}),n.has(tt.keyField().canonicalString())||e.le.push(new fi(tt.keyField(),r))}return e.le}function Yt(t){let e=L(t);return e.he||(e.he=$U(e,Qs(t))),e.he}function $U(t,e){if(t.limitType==="F")return Yd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new fi(i.field,s)});let n=t.endAt?new E1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new E1(t.startAt.position,t.startAt.inclusive):null;return Yd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xd(t,e){let n=t.filters.concat([e]);return new X2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vl(t,e,n){return new X2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function aa(t,e){return oa(Yt(t),Yt(e))&&t.limitType===e.limitType}function UH(t){return`${di(Yt(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FH(i)).join(", ")}]`),sa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(Yt(t))}; limitType=${t.limitType})`}function ca(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):T.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Qs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=Tb(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Qs(r),i)||r.endAt&&!function(o,a,c){let l=Tb(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Qs(r),i))}(t,e)}function jH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $H(t){return(e,n)=>{let r=!1;for(let i of Qs(t)){let s=qU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qU(t,e,n){let r=t.field.isKeyField()?T.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?sr(c,l):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var z1=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TH(this.inner)}size(){return this.innerSize}};var GU=new xe(T.comparator);function o2(){return GU}var qH=new xe(T.comparator);function I4(...t){let e=qH;for(let n of t)e=e.insert(n.key,n);return e}function GH(t){let e=qH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function w1(){return x4()}function WH(){return x4()}function x4(){return new z1(t=>t.toString(),(t,e)=>t.isEqual(e))}var WU=new xe(T.comparator),KU=new Ee(T.comparator);function ee(...t){let e=KU;for(let n of t)e=e.add(n);return e}var QU=new Ee(Z);function Ip(){return QU}function KH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R4(e)?"-0":e}}function QH(t){return{integerValue:""+t}}function YH(t,e){return zH(e)?QH(e):KH(t,e)}var to=class{constructor(){this._=void 0}};function YU(t,e,n){return t instanceof or?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a8(s)&&(s=Hp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ln?ZH(t,e):t instanceof un?JH(t,e):function(i,s){let o=XH(i,s),a=kb(o)+kb(i.Ie);return Od(o)&&Od(i.Ie)?QH(a):KH(i.serializer,a)}(t,e)}function XU(t,e,n){return t instanceof ln?ZH(t,e):t instanceof un?JH(t,e):n}function XH(t,e){return t instanceof ar?function(r){return Od(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var or=class extends to{},ln=class extends to{constructor(e){super(),this.elements=e}};function ZH(t,e){let n=eE(e);for(let r of t.elements)n.some(i=>H1(i,r))||n.push(r);return{arrayValue:{values:n}}}var un=class extends to{constructor(e){super(),this.elements=e}};function JH(t,e){let n=eE(e);for(let r of t.elements)n=n.filter(i=>!H1(i,r));return{arrayValue:{values:n}}}var ar=class extends to{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function kb(t){return We(t.integerValue||t.doubleValue)}function eE(t){return O4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hi=class{constructor(e,n){this.field=e,this.transform=n}};function ZU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ln&&i instanceof ln||r instanceof un&&i instanceof un?Xs(r.elements,i.elements,H1):r instanceof ar&&i instanceof ar?H1(r.Ie,i.Ie):r instanceof or&&i instanceof or}(t.transform,e.transform)}var Zd=class{constructor(e,n){this.version=e,this.transformResults=n}},Ke=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var no=class{};function tE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lr(t.key,Ke.none()):new cr(t.key,t.data,Ke.none());{let n=t.data,r=Pt.empty(),i=new Ee(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Z2(t.key,r,new p2(i.toArray()),Ke.none())}}function JU(t,e,n){t instanceof cr?function(i,s,o){let a=i.value.clone(),c=Fb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Z2?function(i,s,o){if(!cl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Fb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(nE(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function T4(t,e,n,r){return t instanceof cr?function(s,o,a,c){if(!cl(s.precondition,o))return a;let l=s.value.clone(),u=Ob(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Z2?function(s,o,a,c){if(!cl(s.precondition,o))return a;let l=Ob(s.fieldTransforms,c,o),u=o.data;return u.setAll(nE(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return cl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ej(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=XH(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function Pb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(s,o)=>ZU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var cr=class extends no{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Z2=class extends no{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Fb(t,e,n){let r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XU(o,a,n[i]))}return r}function Ob(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,YU(s,o,e))}return r}var lr=class extends no{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},B4=class extends no{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var U4=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&JU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=T4(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=T4(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=WH();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=tE(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>Pb(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>Pb(n,r))}},Jd=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=function(){return WU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var j4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var eh=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,ue;function rE(t){switch(t){default:return P();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function iE(t){if(t===void 0)return et("GRPC error has no .code"),M.UNKNOWN;switch(t){case at.OK:return M.OK;case at.CANCELLED:return M.CANCELLED;case at.UNKNOWN:return M.UNKNOWN;case at.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case at.INTERNAL:return M.INTERNAL;case at.UNAVAILABLE:return M.UNAVAILABLE;case at.UNAUTHENTICATED:return M.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case at.NOT_FOUND:return M.NOT_FOUND;case at.ALREADY_EXISTS:return M.ALREADY_EXISTS;case at.PERMISSION_DENIED:return M.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case at.ABORTED:return M.ABORTED;case at.OUT_OF_RANGE:return M.OUT_OF_RANGE;case at.UNIMPLEMENTED:return M.UNIMPLEMENTED;case at.DATA_LOSS:return M.DATA_LOSS;default:return P()}}(ue=at||(at={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var Bb=null;function sE(){return new TextEncoder}var tj=new ei([4294967295,4294967295],0);function Ub(t){let e=sE().encode(t),n=new wb;return n.update(e),new Uint8Array(n.digest())}function jb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ei([n,r],0),new ei([i,s],0)]}var th=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ai(`Invalid padding: ${n}`);if(r<0)throw new ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ai(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ei.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ei.fromNumber(r)));return i.compare(tj)===1&&(i=new ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=Ub(e),[r,i]=jb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=Ub(e),[r,i]=jb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $4=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,q4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t($.min(),i,new xe(Z),o2(),ee())}},q4=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ee(),ee(),ee())}};var Ys=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},_l=class{constructor(e,n){this.targetId=e,this.fe=n}},bl=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Hl=class{constructor(){this.ge=0,this.pe=qb(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ee(),n=ee(),r=ee();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new q4(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=qb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}},nh=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=o2(),this.Qe=$b(),this.Ke=new xe(Z)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Ml(s))if(r===0){let o=new T(s.path);this.We(n,o,ft.newNoDocument(o,$.min()))}else j(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}Bb?.tt(function(u,f,d,h,p){var g,m,w,H,V,E;let N={localCacheCount:u,existenceFilterCount:f.count,databaseId:d.database,projectId:d.projectId},B=f.unchangedNames;return B&&(N.bloomFilter={applied:p===0,hashCount:(g=B?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(H=(w=(m=B?.bits)===null||m===void 0?void 0:m.bitmap)===null||w===void 0?void 0:w.length)!==null&&H!==void 0?H:0,padding:(E=(V=B?.bits)===null||V===void 0?void 0:V.padding)!==null&&E!==void 0?E:0,mightContain:se=>{var Le;return(Le=h?.mightContain(se))!==null&&Le!==void 0&&Le}}),N}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=rr(r).toUint8Array()}catch(c){if(c instanceof vl)return S2("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new th(o,i,s)}catch(c){return S2(c instanceof ai?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Ml(a.target)){let c=new T(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,ft.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ee();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new $4(e,n,this.Ke,this.qe,r);return this.qe=o2(),this.Qe=$b(),this.Ke=new xe(Z),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Hl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ee(Z),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Hl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function $b(){return new xe(T.comparator)}function qb(){return new xe(T.comparator)}var nj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ij=(()=>({and:"AND",or:"OR"}))(),rh=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ih(t,e){return t.useProto3Json||sa(e)?e:{value:e}}function ro(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sj(t,e){return ro(t,e.toTimestamp())}function nt(t){return j(!!t),$.fromTimestamp(function(n){let r=nr(n);return new Be(r.seconds,r.nanos)}(t))}function Dp(t,e){return function(r){return new he(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function aE(t){let e=he.fromString(t);return j(gE(e)),e}function G4(t,e){return Dp(t.databaseId,e.path)}function _1(t,e){let n=aE(e);if(n.get(1)!==t.databaseId.projectId)throw new _(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new T(lE(n))}function sh(t,e){return Dp(t.databaseId,e)}function cE(t){let e=aE(t);return e.length===4?he.emptyPath():lE(e)}function W4(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lE(t){return j(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gb(t,e,n){return{name:G4(t,e),fields:n.value.mapValue.fields}}function uE(t,e,n){let r=_1(t,e.name),i=nt(e.updateTime),s=e.createTime?nt(e.createTime):$.min(),o=new Pt({mapValue:{fields:e.fields}}),a=ft.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function oj(t,e){return"found"in e?function(r,i){j(!!i.found),i.found.name,i.found.updateTime;let s=_1(r,i.found.name),o=nt(i.found.updateTime),a=i.found.createTime?nt(i.found.createTime):$.min(),c=new Pt({mapValue:{fields:i.found.fields}});return ft.newFoundDocument(s,o,a,c)}(t,e):"missing"in e?function(r,i){j(!!i.missing),j(!!i.readTime);let s=_1(r,i.missing),o=nt(i.readTime);return ft.newNoDocument(s,o)}(t,e):P()}function aj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(j(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(j(u===void 0||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?M.UNKNOWN:iE(l.code);return new _(u,l.message||"")}(o);n=new bl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_1(t,r.document.name),s=nt(r.document.updateTime),o=r.document.createTime?nt(r.document.createTime):$.min(),a=new Pt({mapValue:{fields:r.document.fields}}),c=ft.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ys(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_1(t,r.document),s=r.readTime?nt(r.readTime):$.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ys([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_1(t,r.document),s=r.removedTargetIds||[];n=new Ys([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new eh(i,s),a=r.targetId;n=new _l(a,o)}}return n}function K4(t,e){let n;if(e instanceof cr)n={update:Gb(t,e.key,e.value)};else if(e instanceof lr)n={delete:G4(t,e.key)};else if(e instanceof Z2)n={update:Gb(t,e.key,e.data),updateMask:hj(e.fieldMask)};else{if(!(e instanceof B4))return P();n={verify:G4(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof or)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ln)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof un)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ar)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function oh(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Ke.updateTime(nt(s.updateTime)):s.exists!==void 0?Ke.exists(s.exists):Ke.none()}(e.currentDocument):Ke.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)j(a.setToServerValue==="REQUEST_TIME"),c=new or;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new ln(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new un(u)}else"increment"in a?c=new ar(o,a.increment):P();let l=tt.fromServerFormat(a.fieldPath);return new hi(l,c)}(t,i)):[];if(e.update){e.update.name;let i=_1(t,e.update.name),s=new Pt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let l=c.fieldPaths||[];return new p2(l.map(u=>tt.fromServerFormat(u)))}(e.updateMask);return new Z2(i,s,o,n,r)}return new cr(i,s,n,r)}if(e.delete){let i=_1(t,e.delete);return new lr(i,n)}if(e.verify){let i=_1(t,e.verify);return new B4(i,n)}return P()}function cj(t,e){return t&&t.length>0?(j(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?nt(i.updateTime):nt(s);return o.isEqual($.min())&&(o=nt(s)),new Zd(o,i.transformResults||[])}(n,e))):[]}function fE(t,e){return{documents:[sh(t,e.path)]}}function dE(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return mE(we.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(l=>function(f){return{field:$s(f.field),direction:uj(f.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=ih(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function hE(t){let e=cE(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){j(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){let d=pE(f);return d instanceof we&&Ep(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new fi(qs(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,sa(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(f){let d=!!f.before,h=f.values||[];return new E1(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let d=!f.before,h=f.values||[];return new E1(h,d)}(n.endAt)),BH(e,i,o,s,a,"F",c,l)}function lj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qs(n.unaryFilter.field);return le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(n.unaryFilter.field);return le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=qs(n.unaryFilter.field);return le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=qs(n.unaryFilter.field);return le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return le.create(qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return we.create(n.compositeFilter.filters.map(r=>pE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function uj(t){return nj[t]}function fj(t){return rj[t]}function dj(t){return ij[t]}function $s(t){return{fieldPath:t.canonicalString()}}function qs(t){return tt.fromServerFormat(t.fieldPath)}function mE(t){return t instanceof le?function(n){if(n.op==="=="){if(Db(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(Ib(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Db(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(Ib(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:fj(n.op),value:n.value}}}(t):t instanceof we?function(n){let r=n.getFilters().map(i=>mE(i));return r.length===1?r[0]:{compositeFilter:{op:dj(n.op),filters:r}}}(t):P()}function hj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var io=class t{constructor(e,n,r,i,s=$.min(),o=$.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var El=class{constructor(e){this.ut=e}};function pj(t,e){let n;if(e.document)n=uE(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=T.fromSegments(e.noDocument.path),i=mi(e.noDocument.readTime);n=ft.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return P();{let r=T.fromSegments(e.unknownDocument.path),i=mi(e.unknownDocument.version);n=ft.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new Be(i[0],i[1]);return $.fromTimestamp(s)}(e.readTime)),n}function Wb(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:G4(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ro(s,o.version.toTimestamp()),createTime:ro(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pi(e.version)};else{if(!e.isUnknownDocument())return P();r.unknownDocument={path:n.path.toArray(),version:pi(e.version)}}return r}function zl(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pi(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mi(t){let e=new Be(t.seconds,t.nanoseconds);return $.fromTimestamp(e)}function ii(t,e){let n=(e.baseMutations||[]).map(s=>oh(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>oh(t.ut,s)),i=Be.fromMillis(e.localWriteTimeMs);return new U4(e.batchId,i,n,r)}function D4(t){let e=mi(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?mi(t.lastLimboFreeSnapshotVersion):$.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return j(s.documents.length===1),Yt(mo(cE(s.documents[0])))}(t.query):function(s){return Yt(hE(s))}(t.query),new io(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yt.fromBase64String(t.resumeToken))}function vE(t,e){let n=pi(e.snapshotVersion),r=pi(e.lastLimboFreeSnapshotVersion),i;i=Ml(e.target)?fE(t.ut,e.target):dE(t.ut,e.target);let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:di(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Sp(t){let e=hE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vl(e,e.limit,"L"):e}function Vd(t,e){return new j4(e.largestBatchId,oh(t.ut,e.overlayMutation))}function Kb(t,e){let n=e.path.lastSegment();return[t,Qt(e.path.popLast()),n]}function Qb(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:pi(r.readTime),documentKey:Qt(r.documentKey.path),largestBatchId:r.largestBatchId}}var ah=class{getBundleMetadata(e,n){return Yb(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:mi(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Yb(e).put(function(i){return{bundleId:i.id,createTime:pi(nt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Xb(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Sp(s.bundledQuery),readTime:mi(s.readTime)}}(r)})}saveNamedQuery(e,n){return Xb(e).put(function(i){return{name:i.name,readTime:pi(nt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function Yb(t){return Ct(t,"bundles")}function Xb(t){return Ct(t,"namedQueries")}var Il=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return b4(e).get(Kb(this.userId,n)).next(r=>r?Vd(this.serializer,r):null)}getOverlays(e,n){let r=w1();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new j4(n,o);i.push(this.lt(e,a))}),y.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Qt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(b4(e).H("collectionPathOverlayIndex",a))}),y.waitFor(s)}getOverlaysForCollection(e,n,r){let i=w1(),s=Qt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return b4(e).W("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let l=Vd(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=w1(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return b4(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let f=Vd(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):u.done()}).next(()=>s)}lt(e,n){return b4(e).put(function(i,s,o){let[a,c,l]=Kb(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:K4(i.ut,o.mutation)}}(this.serializer,this.userId,n))}};function b4(t){return Ct(t,"documentOverlays")}var an=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),R4(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(rr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?LH(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):P()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),T.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};an.St=new an;function mj(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Zb(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=mj(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var ch=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{let i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){let n=this.Bt(e),r=Zb(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){let n=this.Bt(e),r=Zb(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},lh=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},uh=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},si=class{constructor(){this.Wt=new ch,this.Gt=new lh(this.Wt),this.zt=new uh(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var oi=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Kn(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Jb(t.arrayValue,e.arrayValue),n!==0?n:(n=Jb(t.directionalValue,e.directionalValue),n!==0?n:T.comparator(t.documentKey,e.documentKey)))}function Jb(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Dl=class{constructor(e){this.Jt=new Ee((n,r)=>tt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(j(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=Ad(e);if(n!==void 0&&!this.tn(n))return!1;let r=ni(e),i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.nn(a,c)||!this.rn(this.Yt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ee(tt.comparator),n=[];for(let r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ks(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ks(r.field,0))}for(let r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ks(r.field,r.dir==="asc"?0:1)));return new Zs(Zs.UNKNOWN_ID,this.collectionId,n,N4.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function yE(t){var e,n;if(j(t instanceof le||t instanceof we),t instanceof le){if(t instanceof Cl){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>le.create(t.field,"==",s)))||[];return we.create(i,"or")}return t}let r=t.filters.map(i=>yE(i));return we.create(r,t.op)}function gj(t){if(t.getFilters().length===0)return[];let e=hh(yE(t));return j(CE(e)),fh(e)||dh(e)?[e]:e.getFilters()}function fh(t){return t instanceof le}function dh(t){return t instanceof we&&Ep(t)}function CE(t){return fh(t)||dh(t)||function(n){if(n instanceof we&&Bd(n)){for(let r of n.getFilters())if(!fh(r)&&!dh(r))return!1;return!0}return!1}(t)}function hh(t){if(j(t instanceof le||t instanceof we),t instanceof le)return t;if(t.filters.length===1)return hh(t.filters[0]);let e=t.filters.map(r=>hh(r)),n=we.create(e,t.op);return n=Sl(n),CE(n)?n:(j(n instanceof we),j(eo(n)),j(n.filters.length>1),n.filters.reduce((r,i)=>xp(r,i)))}function xp(t,e){let n;return j(t instanceof le||t instanceof we),j(e instanceof le||e instanceof we),n=t instanceof le?e instanceof le?function(i,s){return we.create([i,s],"and")}(t,e):eH(t,e):e instanceof le?eH(e,t):function(i,s){if(j(i.filters.length>0&&s.filters.length>0),eo(i)&&eo(s))return PH(i,s.getFilters());let o=Bd(i)?i:s,a=Bd(i)?s:i,c=o.filters.map(l=>xp(l,a));return we.create(c,"or")}(t,e),Sl(n)}function eH(t,e){if(eo(e))return PH(e,t.getFilters());{let n=e.filters.map(r=>xp(t,r));return we.create(n,"or")}}function Sl(t){if(j(t instanceof le||t instanceof we),t instanceof le)return t;let e=t.getFilters();if(e.length===1)return Sl(e[0]);if(RH(t))return t;let n=e.map(i=>Sl(i)),r=[];return n.forEach(i=>{i instanceof le?r.push(i):i instanceof we&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:we.create(r,t.op)}var ph=class{constructor(){this.on=new Q4}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(x2.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(x2.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Q4=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ee(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ee(he.comparator)).toArray()}};var tl=new Uint8Array(0),mh=class{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Q4,this.an=new z1(r=>di(r),(r,i)=>oa(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let s={collectionId:r,parent:Qt(i)};return tH(e).put(s)}return y.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[_H(n),""],!1,!0);return tH(e).W(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(M1(o.parent))}return r})}addFieldIndex(e,n){let r=H4(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=Os(e);return s.next(a=>{o.put(Qb(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=H4(e),i=Os(e),s=Fs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=H4(e),r=Fs(e),i=Os(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return y.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new Dl(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Fs(e),i=!0,s=new Map;return y.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ee(),a=[];return y.forEach(s,(c,l)=>{b("IndexedDbIndexManager",`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(c)} to execute ${di(n)}`);let u=function(V,E){let N=Ad(E);if(N===void 0)return null;for(let B of wl(V,N.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null}(l,c),f=function(V,E){let N=new Map;for(let B of ni(E))for(let se of wl(V,B.fieldPath))switch(se.op){case"==":case"in":N.set(B.fieldPath.canonicalString(),se.value);break;case"not-in":case"!=":return N.set(B.fieldPath.canonicalString(),se.value),Array.from(N.values())}return null}(l,c),d=function(V,E){let N=[],B=!0;for(let se of ni(E)){let Le=se.kind===0?Lb(V,se.fieldPath,V.startAt):Nb(V,se.fieldPath,V.startAt);N.push(Le.value),B&&(B=Le.inclusive)}return new E1(N,B)}(l,c),h=function(V,E){let N=[],B=!0;for(let se of ni(E)){let Le=se.kind===0?Nb(V,se.fieldPath,V.endAt):Lb(V,se.fieldPath,V.endAt);N.push(Le.value),B&&(B=Le.inclusive)}return new E1(N,B)}(l,c),p=this.ln(c,l,d),g=this.ln(c,l,h),m=this.hn(c,l,f),w=this.Pn(c.indexId,u,p,d.inclusive,g,h.inclusive,m);return y.forEach(w,H=>r.j(H,n.limit).next(V=>{V.forEach(E=>{let N=T.fromSegments(E.documentKey);o.has(N)||(o=o.add(N),a.push(N))})}))}).next(()=>a)}return y.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=gj(we.create(e.filters,"and")).map(r=>Yd(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),l=c/(n!=null?n.length:1),u=[];for(let f=0;f<c;++f){let d=n?this.In(n[f/l]):tl,h=this.Tn(e,d,r[f%l],i),p=this.En(e,d,s[f%l],o),g=a.map(m=>this.Tn(e,d,m,!0));u.push(...this.createRange(h,p,g))}return u}Tn(e,n,r,i){let s=new oi(e,T.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){let s=new oi(e,T.empty(),n,r);return i?s.Ht():s}cn(e,n){let r=new Dl(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.un(n);return y.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let l=new Ee(tt.comparator),u=!1;for(let f of c.filters)for(let d of f.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){let r=new si;for(let i of ni(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.jt(i.kind);an.St.ht(s,o)}return r.Ut()}In(e){let n=new si;return an.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let r=new si;return an.St.ht(ui(this.databaseId,n),r.jt(function(s){let o=ni(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new si);let s=0;for(let o of ni(e)){let a=r[s++];for(let c of i)if(this.Rn(n,o.fieldPath)&&O4(a))i=this.Vn(i,o,a);else{let l=c.jt(o.kind);an.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new si;c.seed(a.Ut()),an.St.ht(o,c.jt(n.kind)),s.push(c)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof le&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=H4(e),i=Os(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{let o=[];return y.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(u,f){let d=f?new N4(f.sequenceNumber,new x2(mi(f.readTime),new T(M1(f.documentKey)),f.largestBatchId)):N4.empty(),h=u.fields.map(([p,g])=>new Ks(tt.fromServerFormat(p),g));return new Zs(u.indexId,u.collectionGroup,h,d)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Z(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=H4(e),s=Os(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>y.forEach(a,c=>s.put(Qb(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){let r=new Map;return y.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?y.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),y.forEach(a,c=>this.gn(e,i,c).next(l=>{let u=this.pn(s,c);return l.isEqual(u)?y.resolve():this.yn(e,s,c,l,u)}))))})}wn(e,n,r,i){return Fs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Fs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){let i=Fs(e),s=new Ee(Kn);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new oi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Ee(Kn),i=this.dn(n,e);if(i==null)return r;let s=Ad(n);if(s!=null){let o=e.data.field(s.fieldPath);if(O4(o))for(let a of o.arrayValue.values||[])r=r.add(new oi(n.indexId,e.key,this.In(a),i))}else r=r.add(new oi(n.indexId,e.key,tl,i));return r}yn(e,n,r,i,s){b("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,l,u,f,d){let h=c.getIterator(),p=l.getIterator(),g=Ps(h),m=Ps(p);for(;g||m;){let w=!1,H=!1;if(g&&m){let V=u(g,m);V<0?H=!0:V>0&&(w=!0)}else g!=null?H=!0:w=!0;w?(f(m),m=Ps(p)):H?(d(g),g=Ps(h)):(g=Ps(h),m=Ps(p))}}(i,s,Kn,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),y.waitFor(o)}fn(e){let n=1;return Os(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Kn(o,a)).filter((o,a,c)=>!a||Kn(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Kn(o,e),c=Kn(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&c<0)i.push(o),i.push(o.Ht());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,tl,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,tl,[]];s.push(IDBKeyRange.bound(a,c))}return s}bn(e,n){return Kn(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nH)}getMinOffset(e,n){return y.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||P())).next(nH)}};function tH(t){return Ct(t,"collectionParents")}function Fs(t){return Ct(t,"indexEntries")}function H4(t){return Ct(t,"indexConfiguration")}function Os(t){return Ct(t,"indexState")}function nH(t){j(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;_p(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new x2(e.readTime,e.documentKey,n)}var rH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D2=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function ME(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Y({range:o},(u,f,d)=>(a++,d.delete()));s.push(c.next(()=>{j(a===1)}));let l=[];for(let u of n.mutations){let f=IH(e,u.key.path,n.batchId);s.push(i.delete(f)),l.push(u.key)}return y.waitFor(s).next(()=>l)}function xl(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw P();e=t.noDocument}return JSON.stringify(e).length}D2.DEFAULT_COLLECTION_PERCENTILE=10,D2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,D2.DEFAULT=new D2(41943040,D2.DEFAULT_COLLECTION_PERCENTILE,D2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),D2.DISABLED=new D2(-1,0,0);var Tl=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){j(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qn(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Gs(e),o=Qn(e);return o.add({}).next(a=>{j(typeof a=="number");let c=new U4(a,n,r,i),l=function(h,p,g){let m=g.baseMutations.map(H=>K4(h.ut,H)),w=g.mutations.map(H=>K4(h.ut,H));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:m,mutations:w}}(this.serializer,this.userId,c),u=[],f=new Ee((d,h)=>Z(d.canonicalString(),h.canonicalString()));for(let d of i){let h=IH(this.userId,d.key.path,a);f=f.add(d.key.path.popLast()),u.push(o.put(l)),u.push(s.put(h,_U))}return f.forEach(d=>{u.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),y.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return Qn(e).get(n).next(r=>r?(j(r.userId===this.userId),ii(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?y.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Qn(e).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(j(a.batchId>=r),s=ii(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Qn(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qn(e).W("userMutationsIndex",n).next(r=>r.map(i=>ii(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=sl(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Gs(e).Y({range:i},(o,a,c)=>{let[l,u,f]=o,d=M1(u);if(l===this.userId&&n.path.isEqual(d))return Qn(e).get(f).next(h=>{if(!h)throw P();j(h.userId===this.userId),s.push(ii(this.serializer,h))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(Z),i=[];return n.forEach(s=>{let o=sl(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Gs(e).Y({range:a},(l,u,f)=>{let[d,h,p]=l,g=M1(h);d===this.userId&&s.path.isEqual(g)?r=r.add(p):f.done()});i.push(c)}),y.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=sl(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ee(Z);return Gs(e).Y({range:o},(c,l,u)=>{let[f,d,h]=c,p=M1(d);f===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(h)):u.done()}).next(()=>this.vn(e,a))}vn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Qn(e).get(s).next(o=>{if(o===null)throw P();j(o.userId===this.userId),r.push(ii(this.serializer,o))}))}),y.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ME(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),y.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return y.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Gs(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=M1(s[1]);i.push(c)}else a.done()}).next(()=>{j(i.length===0)})})}containsKey(e,n){return wE(e,this.userId,n)}Mn(e){return VE(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function wE(t,e,n){let r=sl(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Gs(t).Y({range:s,J:!0},(a,c,l)=>{let[u,f,d]=a;u===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function Qn(t){return Ct(t,"mutations")}function Gs(t){return Ct(t,"documentMutations")}function VE(t){return Ct(t,"mutationQueues")}var so=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var gh=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new so(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>$.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bs(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(j(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0,s=[];return Bs(e).Y((o,a)=>{let c=D4(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>y.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Bs(e).Y((r,i)=>{let s=D4(i);n(s)})}Bn(e){return iH(e).get("targetGlobalKey").next(n=>(j(n!==null),n))}Ln(e,n){return iH(e).put("targetGlobalKey",n)}kn(e,n){return Bs(e).put(vE(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=di(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Bs(e).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let l=D4(a);oa(n,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Yn(e);return n.forEach(o=>{let a=Qt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),y.waitFor(i)}removeMatchingKeys(e,n,r){let i=Yn(e);return y.forEach(n,s=>{let o=Qt(s.path);return y.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Yn(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Yn(e),s=ee();return i.Y({range:r,J:!0},(o,a,c)=>{let l=M1(o[1]),u=new T(l);s=s.add(u)}).next(()=>s)}containsKey(e,n){let r=Qt(n.path),i=IDBKeyRange.bound([r],[_H(r)],!1,!0),s=0;return Yn(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}_t(e,n){return Bs(e).get(n).next(r=>r?D4(r):null)}};function Bs(t){return Ct(t,"targets")}function iH(t){return Ct(t,"targetGlobal")}function Yn(t){return Ct(t,"targetDocuments")}function sH([t,e],[n,r]){let i=Z(t,n);return i===0?Z(e,r):i}var vh=class{constructor(e){this.Qn=e,this.buffer=new Ee(sH),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();sH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},yh=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){b("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){dr(n)?b("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield fr(n)}yield this.Gn(3e5)}))}},Ch=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return y.resolve(h2._e);let r=new vh(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(b("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(rH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(b("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rH):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(b("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Us()<=r1.DEBUG&&b("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function vj(t,e){return new Ch(t,e)}var Mh=class{constructor(e,n){this.db=e,this.garbageCollector=vj(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return nl(e,r)}removeReference(e,n,r){return nl(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return nl(e,n)}Xn(e,n){return function(i,s){let o=!1;return VE(i).Z(a=>wE(i,a,s).next(c=>(c&&(o=!0),y.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Zn(e,(o,a)=>{if(a<=n){let c=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,$.min()),Yn(e).delete(function(f){return[0,Qt(f.path)]}(o))))});i.push(c)}}).next(()=>y.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return nl(e,n)}Zn(e,n){let r=Yn(e),i,s=h2._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{o===0?(s!==h2._e&&n(new T(M1(i)),s),s=l,i=c):s=h2._e}).next(()=>{s!==h2._e&&n(new T(M1(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function nl(t,e){return Yn(t).put(function(r,i){return{targetId:0,path:Qt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Al=class{constructor(){this.changes=new z1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wh=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ti(e).put(r)}removeEntry(e,n,r){return ti(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zl(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=ft.newInvalidDocument(n);return ti(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(E4(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:ft.newInvalidDocument(n)};return ti(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(E4(n))},(i,s)=>{r={document:this.tr(n,s),size:xl(s)}}).next(()=>r)}getEntries(e,n){let r=o2();return this.rr(e,n,(i,s)=>{let o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=o2(),i=new xe(T.comparator);return this.rr(e,n,(s,o)=>{let a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,xl(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return y.resolve();let i=new Ee(cH);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(E4(i.first()),E4(i.last())),o=i.getIterator(),a=o.getNext();return ti(e).Y({index:"documentKeyIndex",range:s},(c,l,u)=>{let f=T.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&cH(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?u.U(E4(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),zl(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ti(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let u=o2();for(let f of l){let d=this.tr(T.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d.isFoundDocument()&&(ca(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=o2(),o=aH(n,r),a=aH(n,x2.max());return ti(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,u)=>{let f=this.tr(T.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new Vh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return oH(e).get("remoteDocumentGlobalKey").next(n=>(j(!!n),n))}er(e,n){return oH(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let r=pj(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual($.min())))return r}return ft.newInvalidDocument(e)}};function _E(t){return new wh(t)}var Vh=class extends Al{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new z1(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ee((s,o)=>Z(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=Wb(this._r.serializer,o);i=i.add(s.path.popLast());let l=xl(c);r+=l-a.size,n.push(this._r.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=Wb(this._r.serializer,o.convertToNoDocument($.min()));n.push(this._r.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),y.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function oH(t){return Ct(t,"remoteDocumentGlobal")}function ti(t){return Ct(t,"remoteDocumentsV14")}function E4(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aH(t,e){let n=e.documentKey.path.toArray();return[t,zl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cH(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Z(n[s],r[s]),i)return i;return i=Z(n.length,r.length),i||(i=Z(n[n.length-2],r[r.length-2]),i||Z(n[n.length-1],r[r.length-1]))}var _h=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ll=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&T4(r.mutation,i,p2.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){let i=w1();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=I4();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=w1();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=o2(),o=x4(),a=function(){return x4()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Z2)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),T4(u.mutation,l,u.mutation.getFieldMask(),Be.now())):o.set(l.key,p2.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new _h(u,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=x4(),i=new xe((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||p2.empty();u=a.applyToLocalView(l,u),r.set(c,u);let f=(i.get(a.batchId)||ee()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=WH();u.forEach(d=>{if(!s.has(d)){let h=tE(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return T.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(w1()),a=-1,c=s;return o.next(l=>y.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ee())).next(u=>({batchId:a,changes:GH(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new T(n)).next(r=>{let i=I4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=I4();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let l=function(f,d){return new X2(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,ft.newInvalidDocument(u)))});let a=I4();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&T4(u.mutation,l,p2.empty(),Be.now()),ca(n,l)&&(a=a.insert(c,l))}),a})}};var bh=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nt(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Sp(i.bundledQuery),readTime:nt(i.readTime)}}(n)),y.resolve()}};var Hh=class{constructor(){this.overlays=new xe(T.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=w1();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=w1(),s=n.length+1,o=new T(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=w1(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=w1(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new j4(n,r));let s=this.lr.get(n);s===void 0&&(s=ee(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Y4=class{constructor(){this.hr=new Ee(ct.Pr),this.Ir=new Ee(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new T(new he([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new T(new he([])),r=new ct(n,e),i=new ct(n,e+1),s=ee();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return T.comparator(e.key,n.key)||Z(e.gr,n.gr)}static Tr(e,n){return Z(e.gr,n.gr)||T.comparator(e.key,n.key)}};var Eh=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ee(ct.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new U4(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ee(Z);return n.forEach(i=>{let s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;T.isDocumentKey(s)||(s=s.child(""));let o=new ct(new T(s),0),a=new Ee(Z);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){j(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new ct(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var zh=class{constructor(e){this.Cr=e,this.docs=function(){return new xe(T.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=o2();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=o2(),o=n.path,a=new T(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||_p(HH(u),r)<=0||(i.has(u.key)||ca(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ih(this)}getSize(e){return y.resolve(this.size)}},Ih=class extends Al{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Dh=class{constructor(e){this.persistence=e,this.Fr=new z1(n=>di(n),oa),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Y4,this.targetCount=0,this.Nr=so.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var Nl=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new h2(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Dh(this),this.indexManager=new ph,this.remoteDocumentCache=function(i){return new zh(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new El(n),this.Kr=new bh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Eh(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);let i=new Sh(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Sh=class extends pl{constructor(e){super(),this.currentSequenceNumber=e}},Rl=class t{constructor(e){this.persistence=e,this.Gr=new Y4,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw P()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=T.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,$.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var xh=class{constructor(e){this.serializer=e}N(e,n,r,i){let s=new ml("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hb,{unique:!0}),c.createObjectStore("documentMutations")}(e),lH(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=y.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),lH(e)),o=o.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hb,{unique:!0});let f=l.store("mutations"),d=u.map(h=>f.put(h));return y.waitFor(d)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:NU});l.createIndex("collectionPathOverlayIndex",RU,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",kU,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:bU});l.createIndex("documentKeyIndex",HU),l.createIndex("collectionGroupIndex",EU)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:xU}).createIndex("sequenceNumberIndex",TU,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:AU}).createIndex("documentKeyIndex",LU,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=xl(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>y.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>y.forEach(a,c=>{j(c.userId===s.userId);let l=ii(this.serializer,c);return ME(e,s.userId,l).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.Y((o,a)=>{let c=new he(o),l=function(f){return[0,Qt(f)]}(c);s.push(n.get(l).next(u=>u?y.resolve():(f=>n.put({targetId:0,path:Qt(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>y.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:SU});let r=n.store("collectionParents"),i=new Q4,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Qt(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{let c=new he(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,c],l)=>{let u=M1(a);return s(u.popLast())}))}ni(e){let n=e.store("targets");return n.Y((r,i)=>{let s=D4(i),o=vE(this.serializer,s);return n.put(o)})}ri(e,n){let r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new T(he.fromString(f.document.name).popFirst(5)):f.noDocument?T.fromSegments(f.noDocument.path):f.unknownDocument?T.fromSegments(f.unknownDocument.path):P()}(o).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>y.waitFor(i))}ii(e,n){let r=n.store("mutations"),i=_E(this.serializer),s=new Nl(Rl.jr,this.serializer.ut);return r.W().next(o=>{let a=new Map;return o.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:ee();ii(this.serializer,c).keys().forEach(f=>u=u.add(f)),a.set(c.userId,u)}),y.forEach(a,(c,l)=>{let u=new lt(l),f=Il.ct(this.serializer,u),d=s.getIndexManager(u),h=Tl.ct(u,this.serializer,d,s.referenceDelegate);return new Ll(i,h,f,d).recalculateAndSaveOverlaysForDocumentKeys(new k4(n,h2._e),c).next()})})}};function lH(t){t.createObjectStore("targetDocuments",{keyPath:IU}).createIndex("documentTargetsIndex",DU,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zU,{unique:!0}),t.createObjectStore("targetGlobal")}var _d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Th=class t{constructor(e,n,r,i,s,o,a,c,l,u,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=d=>Promise.resolve(),!t.D())throw new _(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mh(this,i),this.Ii=n+"main",this.serializer=new El(c),this.Ti=new tr(this.Ii,this.ai,new xh(this.serializer)),this.qr=new gh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_E(this.serializer),this.Kr=new ah,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,u===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _(M.FAILED_PRECONDITION,_d);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new h2(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>C(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>C(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>C(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(dr(e))return b("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return b("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return z4(e).get("owner").next(n=>y.resolve(this.wi(n)))}Si(e){return rl(e).delete(this.clientId)}bi(){return C(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=Ct(n,"clientMetadata");return r.W().next(i=>{let s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return y.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?y.resolve(!0):z4(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new _(M.FAILED_PRECONDITION,_d);return!1}}return!(!this.networkEnabled||!this.inForeground)||rl(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&b("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return C(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new k4(e,h2._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>rl(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Tl.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mh(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Il.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){b("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===15?FU:c===14?xH:c===13?SH:c===12?PU:c===11?DH:void P()}(this.ai),o;return this.Ti.runTransaction(e,i,s,a=>(o=new k4(a,this.Lr?this.Lr.next():h2._e),n==="readwrite-primary"?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw et(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _(M.FAILED_PRECONDITION,EH);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return z4(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _(M.FAILED_PRECONDITION,_d)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return z4(e).put("owner",n)}static D(){return tr.D()}pi(e){let n=z4(e);return n.get("owner").next(r=>this.wi(r)?(b("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):y.resolve())}Di(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(et(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;yg()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return b("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return et("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){et("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function z4(t){return Ct(t,"owner")}function rl(t){return Ct(t,"clientMetadata")}function Tp(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ah=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ee(),i=ee();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Lh=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kl=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Lh;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Us()<=r1.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(Us()<=r1.DEBUG&&b("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Us()<=r1.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yt(n))):y.resolve())}zi(e,n){if(Rb(n))return y.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vl(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ee(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Vl(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return Rb(n)||i.isEqual($.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(Us()<=r1.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(n)),this.Xi(e,o,n,bH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ee($H(e));return n.forEach((i,s)=>{ca(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Us()<=r1.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",js(n)),this.Gi.getDocumentsMatchingQuery(e,n,x2.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Nh=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new xe(Z),this.ns=new z1(s=>di(s),oa),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ll(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function bE(t,e,n,r){return new Nh(t,e,n,r)}function HE(t,e){return C(this,null,function*(){let n=L(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ee();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})})}function yj(t,e){let n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,d=f.keys(),h=y.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{let m=l.docVersions.get(p);j(m!==null),g.version.compareTo(m)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EE(t){let e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Cj(t,e){let n=L(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((u,f)=>{let d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(yt.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),function(g,m,w){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,h,u)&&a.push(n.qr.updateTargetData(s,h))});let c=o2(),l=ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(zE(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual($.min())){let u=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}function zE(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=o2();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}function Mj(t,e){let n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oo(t,e){let n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new io(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function ao(t,e,n){return C(this,null,function*(){let r=L(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!dr(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function Pl(t,e,n){let r=L(t),i=$.min(),s=ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let f=L(c),d=f.ns.get(u);return d!==void 0?y.resolve(f.ts.get(d)):f.qr.getTargetData(l,u)}(r,o,Yt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:$.min(),n?s:ee())).next(a=>(SE(r,jH(e),a),{documents:a,ls:s})))}function IE(t,e){let n=L(t),r=L(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function DE(t,e){let n=L(t),r=n.rs.get(e)||$.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,bH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(SE(n,e,i),i))}function SE(t,e,n){let r=t.rs.get(e)||$.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function wj(t,e,n,r){return C(this,null,function*(){let i=L(t),s=ee(),o=o2();for(let l of n){let u=e.hs(l.metadata.name);l.document&&(s=s.add(u));let f=e.Ps(l);f.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(u,f)}let a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield oo(i,function(u){return Yt(mo(he.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>zE(l,a,o).next(u=>(a.apply(l),u)).next(u=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,u.us,u.cs)).next(()=>u.us)))})}function Vj(r,i){return C(this,arguments,function*(t,e,n=ee()){let s=yield oo(t,Yt(Sp(e.bundledQuery))),o=L(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let c=nt(e.readTime);if(s.snapshotVersion.compareTo(c)>=0)return o.Kr.saveNamedQuery(a,e);let l=s.withResumeToken(yt.EMPTY_BYTE_STRING,c);return o.ts=o.ts.insert(l.targetId,l),o.qr.updateTargetData(a,l).next(()=>o.qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.qr.addMatchingKeys(a,n,s.targetId)).next(()=>o.Kr.saveNamedQuery(a,e))})})}function uH(t,e){return`firestore_clients_${t}_${e}`}function fH(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bd(t,e){return`firestore_targets_${t}_${e}`}var Fl=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new _(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(et("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},A4=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new _(r.error.code,r.error.message))),s?new t(e,r.state,i):(et("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ol=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Ip();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=zH(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(et("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Rh=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(et("SharedClientState",`Failed to parse online state: ${e}`),null)}},X4=class{constructor(){this.activeTargetIds=Ip()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},L4=class{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new xe(Z),this.started=!1,this.ps=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=uH(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new X4),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return C(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Rs)continue;let i=this.getItem(uH(this.persistenceKey,r));if(i){let s=Ol.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let r=this.Ms(n);r&&this.xs(r)}for(let r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(bd(this.persistenceKey,e));if(r){let i=A4.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bd(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return b("SharedClientState","READ",e,n),n}setItem(e,n){b("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){b("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(b("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>C(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let r=this.Ks(n.key);return this.$s(r,null)}{let r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){let r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){let r=function(s){let o=h2._e;if(s!=null)try{let a=JSON.parse(s);j(typeof a=="number"),o=a}catch(a){et("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==h2._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){let r=this.Hs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){let i=new Fl(this.currentUser,e,n,r),s=fH(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){let n=fH(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){let i=bd(this.persistenceKey,e),s=new A4(e,n,r);this.setItem(i,s.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let r=this.Ks(e);return Ol.Ts(r,n)}Ws(e,n){let r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Fl.Ts(new lt(s),i,n)}zs(e,n){let r=this.Ds.exec(e),i=Number(r[1]);return A4.Ts(i,n)}Ms(e){return Rh.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return C(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);b("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Ip();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Bl=class{constructor(){this.eo=new X4,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new X4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kh=class{ro(e){}shutdown(){}};var Ul=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var il=null;function Hd(){return il===null?il=function(){return 268435456+Math.round(2147483648*Math.random())}():il++,"0x"+il.toString(16)}var _j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ph=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var kt="WebChannelConnection",Fh=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Hd(),c=this.So(n,r);b("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(b("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw S2("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=_j[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Hd();return new Promise((o,a)=>{let c=new Mb;c.setWithCredentials(!0),c.listenOnce(vb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case el.NO_ERROR:let u=c.getResponseJson();b(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case el.TIMEOUT:b(kt,`RPC '${e}' ${s} timed out`),a(new _(M.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:let f=c.getStatus();if(b(kt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);let h=d?.error;if(h&&h.status&&h.message){let p=function(m){let w=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(w)>=0?w:M.UNKNOWN}(h.status);a(new _(p,h.message))}else a(new _(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _(M.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{b(kt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);b(kt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){let i=Hd(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mb(),a=gb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Cb({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");b(kt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let f=o.createWebChannel(u,c),d=!1,h=!1,p=new Ph({co:m=>{h?b(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(b(kt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),b(kt,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},lo:()=>f.close()}),g=(m,w,H)=>{m.listen(w,V=>{try{H(V)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,_4.EventType.OPEN,()=>{h||b(kt,`RPC '${e}' stream ${i} transport opened.`)}),g(f,_4.EventType.CLOSE,()=>{h||(h=!0,b(kt,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(f,_4.EventType.ERROR,m=>{h||(h=!0,S2(kt,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new _(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,_4.EventType.MESSAGE,m=>{var w;if(!h){let H=m.data[0];j(!!H);let V=H,E=V.error||((w=V[0])===null||w===void 0?void 0:w.error);if(E){b(kt,`RPC '${e}' stream ${i} received error:`,E);let N=E.status,B=function(St){let Ai=at[St];if(Ai!==void 0)return iE(Ai)}(N),se=E.message;B===void 0&&(B=M.INTERNAL,se="Unknown error status: "+N+" with message "+E.message),h=!0,p.Ro(new _(B,se)),f.close()}else b(kt,`RPC '${e}' stream ${i} received:`,H),p.Vo(H)}}),g(a,yb.STAT_EVENT,m=>{m.stat===wd.PROXY?b(kt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===wd.NOPROXY&&b(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}};function xE(){return typeof window<"u"?window:null}function ll(){return typeof document<"u"?document:null}function la(t){return new rh(t,!0)}var Z4=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var jl=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Z4(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return C(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return C(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return C(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new _(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>C(this,null,function*(){this.state=0,this.start()}))}o_(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Oh=class extends jl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=aj(this.serializer,e),r=function(s){if(!("targetChange"in s))return $.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?$.min():o.readTime?nt(o.readTime):$.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=W4(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Ml(c)?{documents:fE(s,c)}:{query:dE(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oE(s,o.resumeToken);let l=ih(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo($.min())>0){a.readTime=ro(s,o.snapshotVersion.toTimestamp());let l=ih(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lj(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=W4(this.serializer),n.removeTarget=e,this.e_(n)}},Bh=class extends jl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=cj(e.writeResults,e.commitTime),r=nt(e.commitTime);return this.listener.I_(r,n)}return j(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=W4(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>K4(this.serializer,r))};this.e_(n)}};var Uh=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new _(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _(M.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _(M.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var jh=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(et(n),this.f_=!1):b("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var $h=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>C(this,null,function*(){hr(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let l=L(c);l.C_.add(4),yield go(l),l.M_.set("Unknown"),l.C_.delete(4),yield ua(l)})}(this))}))}),this.M_=new jh(r,i)}};function ua(t){return C(this,null,function*(){if(hr(t))for(let e of t.v_)yield e(!0)})}function go(t){return C(this,null,function*(){for(let e of t.v_)yield e(!1)})}function c8(t,e){let n=L(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Np(n)?Lp(n):yo(n).Ho()&&Ap(n,e))}function J4(t,e){let n=L(t),r=yo(n);n.D_.delete(e),r.Ho()&&TE(n,e),n.D_.size===0&&(r.Ho()?r.Zo():hr(n)&&n.M_.set("Unknown"))}function Ap(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).u_(e)}function TE(t,e){t.x_.Oe(e),yo(t).c_(e)}function Lp(t){t.x_=new nh({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.M_.g_()}function Np(t){return hr(t)&&!yo(t).jo()&&t.D_.size>0}function hr(t){return L(t).C_.size===0}function AE(t){t.x_=void 0}function bj(t){return C(this,null,function*(){t.D_.forEach((e,n)=>{Ap(t,e)})})}function Hj(t,e){return C(this,null,function*(){AE(t),Np(t)?(t.M_.w_(e),Lp(t)):t.M_.set("Unknown")})}function Ej(t,e,n){return C(this,null,function*(){if(t.M_.set("Online"),e instanceof bl&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $l(t,r)}else if(e instanceof Ys?t.x_.$e(e):e instanceof _l?t.x_.Je(e):t.x_.Ge(e),!n.isEqual($.min()))try{let r=yield EE(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),TE(s,c);let f=new io(u.target,c,l,u.sequenceNumber);Ap(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield $l(t,r)}})}function $l(t,e,n){return C(this,null,function*(){if(!dr(e))throw e;t.C_.add(1),yield go(t),t.M_.set("Offline"),n||(n=()=>EE(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield ua(t)}))})}function LE(t,e){return e().catch(n=>$l(t,n,e))}function vo(t){return C(this,null,function*(){let e=L(t),n=ur(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;zj(e);)try{let i=yield Mj(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Ij(e,i)}catch(i){yield $l(e,i)}NE(e)&&RE(e)})}function zj(t){return hr(t)&&t.b_.length<10}function Ij(t,e){t.b_.push(e);let n=ur(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function NE(t){return hr(t)&&!ur(t).jo()&&t.b_.length>0}function RE(t){ur(t).start()}function Dj(t){return C(this,null,function*(){ur(t).E_()})}function Sj(t){return C(this,null,function*(){let e=ur(t);for(let n of t.b_)e.P_(n.mutations)})}function xj(t,e,n){return C(this,null,function*(){let r=t.b_.shift(),i=Jd.from(r,e,n);yield LE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vo(t)})}function Tj(t,e){return C(this,null,function*(){e&&ur(t).h_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return rE(o)&&o!==M.ABORTED}(i.code)){let s=r.b_.shift();ur(r).Yo(),yield LE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield vo(r)}})}(t,e)),NE(t)&&RE(t)})}function dH(t,e){return C(this,null,function*(){let n=L(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let r=hr(n);n.C_.add(3),yield go(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ua(n)})}function qh(t,e){return C(this,null,function*(){let n=L(t);e?(n.C_.delete(2),yield ua(n)):e||(n.C_.add(2),yield go(n),n.M_.set("Unknown"))})}function yo(t){return t.O_||(t.O_=function(n,r,i){let s=L(n);return s.A_(),new Oh(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:bj.bind(null,t),Io:Hj.bind(null,t),a_:Ej.bind(null,t)}),t.v_.push(e=>C(this,null,function*(){e?(t.O_.Yo(),Np(t)?Lp(t):t.M_.set("Unknown")):(yield t.O_.stop(),AE(t))}))),t.O_}function ur(t){return t.N_||(t.N_=function(n,r,i){let s=L(n);return s.A_(),new Bh(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Dj.bind(null,t),Io:Tj.bind(null,t),T_:Sj.bind(null,t),I_:xj.bind(null,t)}),t.v_.push(e=>C(this,null,function*(){e?(t.N_.Yo(),yield vo(t)):(yield t.N_.stop(),t.b_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Gh=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Co(t,e){if(et("AsyncQueue",`${e}: ${t}`),dr(t))return new _(M.UNAVAILABLE,`${e}: ${t}`);throw t}var ql=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||T.comparator(n.key,r.key):(n,r)=>T.comparator(n.key,r.key),this.keyedMap=I4(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Gl=class{constructor(){this.B_=new xe(T.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):P():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},co=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ql.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Wh=class{constructor(){this.k_=void 0,this.listeners=[]}},Kh=class{constructor(){this.queries=new z1(e=>UH(e),aa),this.onlineState="Unknown",this.q_=new Set}};function Rp(t,e){return C(this,null,function*(){let n=L(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Wh),i)try{s.k_=yield n.onListen(r)}catch(o){let a=Co(o,`Initialization of query '${js(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Pp(n)})}function kp(t,e){return C(this,null,function*(){let n=L(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function Aj(t,e){let n=L(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Pp(n)}function Lj(t,e,n){let r=L(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function Pp(t){t.q_.forEach(e=>{e.next()})}var ea=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Qh=class{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}};var Wl=class{constructor(e){this.serializer=e}hs(e){return _1(this.serializer,e)}Ps(e){return e.metadata.exists?uE(this.serializer,e.document,!1):ft.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return nt(e)}},Yh=class{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;let r=he.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){let n=new Map,r=new Wl(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.hs(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||ee()).add(s);n.set(o,a)}}return n}complete(){return C(this,null,function*(){let e=yield wj(this.localStore,new Wl(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(let r of this.queries)yield Vj(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}})}};function kE(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Kl=class{constructor(e){this.key=e}},Ql=class{constructor(e){this.key=e}},Yl=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ee(),this.mutatedKeys=ee(),this._a=$H(e),this.aa=new ql(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Gl,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{let d=i.get(u),h=ca(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations),m=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),m=!0):this.ha(d,h)||(r.track({type:2,doc:h}),m=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),m=!0):d&&!h&&(r.track({type:1,doc:d}),m=!0,(c||l)&&(a=!0)),m&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){let i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((l,u)=>function(d,h){let p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return p(d)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);let o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,c=a!==this.sa;return this.sa=a,s.length!==0||c?{snapshot:new co(this.query,e.aa,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gl,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ee(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Ql(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Kl(r))}),n}da(e){this.ia=e.ls,this.oa=ee();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return co.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Xh=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Zh=class{constructor(e){this.key=e,this.Ra=!1}},Jh=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new z1(a=>UH(a),aa),this.fa=new Map,this.ga=new Set,this.pa=new xe(T.comparator),this.ya=new Map,this.wa=new Y4,this.Sa={},this.ba=new Map,this.Da=so.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function Nj(t,e){return C(this,null,function*(){let n=jp(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield oo(n.localStore,Yt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Fp(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&c8(n.remoteStore,o)}return i})}function Fp(t,e,n,r,i){return C(this,null,function*(){t.va=(f,d,h)=>function(g,m,w,H){return C(this,null,function*(){let V=m.view.ca(w);V.Zi&&(V=yield Pl(g.localStore,m.query,!1).then(({documents:B})=>m.view.ca(B,V)));let E=H&&H.targetChanges.get(m.targetId),N=m.view.applyChanges(V,g.isPrimaryClient,E);return ep(g,m.targetId,N.Ta),N.snapshot})}(t,f,d,h);let s=yield Pl(t.localStore,e,!0),o=new Yl(e,s.ls),a=o.ca(s.documents),c=q4.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);ep(t,n,l.Ta);let u=new Xh(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function Rj(t,e){return C(this,null,function*(){let n=L(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!aa(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ao(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),J4(n.remoteStore,r.targetId),lo(n,r.targetId)}).catch(fr))):(lo(n,r.targetId),yield ao(n.localStore,r.targetId,!0))})}function kj(t,e,n){return C(this,null,function*(){let r=$p(t);try{let i=yield function(o,a){let c=L(o),l=Be.now(),u=a.reduce((h,p)=>h.add(p.key),ee()),f,d;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=o2(),g=ee();return c.ss.getEntries(h,u).next(m=>{p=m,p.forEach((w,H)=>{H.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(m=>{f=m;let w=[];for(let H of a){let V=ej(H,f.get(H.key).overlayedDocument);V!=null&&w.push(new Z2(H.key,V,NH(V.value.mapValue),Ke.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,w,a)}).next(m=>{d=m;let w=m.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(h,m.batchId,w)})}).then(()=>({batchId:d.batchId,changes:GH(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new xe(Z)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield hn(r,i.changes),yield vo(r.remoteStore)}catch(i){let s=Co(i,"Failed to persist write");n.reject(s)}})}function PE(t,e){return C(this,null,function*(){let n=L(t);try{let r=yield Cj(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?j(o.Ra):i.removedDocuments.size>0&&(j(o.Ra),o.Ra=!1))}),yield hn(n,r,e)}catch(r){yield fr(r)}})}function hH(t,e,n){let r=L(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=L(o);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let d of f.listeners)d.Q_(a)&&(l=!0)}),l&&Pp(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pj(t,e,n){return C(this,null,function*(){let r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new xe(T.comparator);o=o.insert(s,ft.newNoDocument(s,$.min()));let a=ee().add(s),c=new $4($.min(),new Map,new xe(Z),o,a);yield PE(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),Up(r)}else yield ao(r.localStore,e,!1).then(()=>lo(r,e,n)).catch(fr)})}function Fj(t,e){return C(this,null,function*(){let n=L(t),r=e.batch.batchId;try{let i=yield yj(n.localStore,e);Bp(n,r,null),Op(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield hn(n,i)}catch(i){yield fr(i)}})}function Oj(t,e,n){return C(this,null,function*(){let r=L(t);try{let i=yield function(o,a){let c=L(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(j(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);Bp(r,e,n),Op(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield hn(r,i)}catch(i){yield fr(i)}})}function Bj(t,e){return C(this,null,function*(){let n=L(t);hr(n.remoteStore)||b("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=L(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){let i=Co(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function Op(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Bp(t,e,n){let r=L(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function lo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||FE(t,r)})}function FE(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(J4(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Up(t))}function ep(t,e,n){for(let r of n)r instanceof Kl?(t.wa.addReference(r.key,e),Uj(t,r)):r instanceof Ql?(b("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||FE(t,r.key)):P()}function Uj(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ga.add(r),Up(t))}function Up(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new T(he.fromString(e)),r=t.Da.next();t.ya.set(r,new Zh(n)),t.pa=t.pa.insert(n,r),c8(t.remoteStore,new io(Yt(mo(n.path)),r,"TargetPurposeLimboResolution",h2._e))}}function hn(t,e,n){return C(this,null,function*(){let r=L(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=Ah.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,l){return C(this,null,function*(){let u=L(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>y.forEach(l,d=>y.forEach(d.ki,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>y.forEach(d.qi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!dr(f))throw f;b("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let d=f.targetId;if(!f.fromCache){let h=u.ts.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,g)}}})}(r.localStore,s))})}function jj(t,e){return C(this,null,function*(){let n=L(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let r=yield HE(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new _(M.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hn(n,r._s)}})}function $j(t,e){let n=L(t),r=n.ya.get(e);if(r&&r.Ra)return ee().add(r.key);{let i=ee(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function qj(t,e){return C(this,null,function*(){let n=L(t),r=yield Pl(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&ep(n,e.targetId,i.Ta),i})}function Gj(t,e){return C(this,null,function*(){let n=L(t);return DE(n.localStore,e).then(r=>hn(n,r))})}function Wj(t,e,n,r){return C(this,null,function*(){let i=L(t),s=yield function(a,c){let l=L(a),u=L(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,c).next(d=>d?l.localDocuments.getDocuments(f,d):y.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield vo(i.remoteStore):n==="acknowledged"||n==="rejected"?(Bp(i,e,r||null),Op(i,e),function(a,c){L(L(a).mutationQueue).Fn(c)}(i.localStore,e)):P(),yield hn(i,s)):b("SyncEngine","Cannot apply mutation batch with id: "+e)})}function Kj(t,e){return C(this,null,function*(){let n=L(t);if(jp(n),$p(n),e===!0&&n.Ca!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield pH(n,r.toArray());n.Ca=!0,yield qh(n.remoteStore,!0);for(let s of i)c8(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){let r=[],i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(lo(n,o),ao(n.localStore,o,!0))),J4(n.remoteStore,o)}),yield i,yield pH(n,r),function(o){let a=L(o);a.ya.forEach((c,l)=>{J4(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new xe(T.comparator)}(n),n.Ca=!1,yield qh(n.remoteStore,!1)}})}function pH(t,e,n){return C(this,null,function*(){let r=L(t),i=[],s=[];for(let o of e){let a,c=r.fa.get(o);if(c&&c.length!==0){a=yield oo(r.localStore,Yt(c[0]));for(let l of c){let u=r.ma.get(l),f=yield qj(r,u);f.snapshot&&s.push(f.snapshot)}}else{let l=yield IE(r.localStore,o);a=yield oo(r.localStore,l),yield Fp(r,OE(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i})}function OE(t){return BH(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qj(t){return function(n){return L(L(n).persistence).Bi()}(L(t).localStore)}function Yj(t,e,n,r){return C(this,null,function*(){let i=L(t);if(i.Ca)return void b("SyncEngine","Ignoring unexpected query state notification.");let s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield DE(i.localStore,jH(s[0])),a=$4.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yt.EMPTY_BYTE_STRING);yield hn(i,o,a);break}case"rejected":yield ao(i.localStore,e,!0),lo(i,e,r);break;default:P()}})}function Xj(t,e,n){return C(this,null,function*(){let r=jp(t);if(r.Ca){for(let i of e){if(r.fa.has(i)){b("SyncEngine","Adding an already active target "+i);continue}let s=yield IE(r.localStore,i),o=yield oo(r.localStore,s);yield Fp(r,OE(s),o.targetId,!1,o.resumeToken),c8(r.remoteStore,o)}for(let i of n)r.fa.has(i)&&(yield ao(r.localStore,i,!1).then(()=>{J4(r.remoteStore,i),lo(r,i)}).catch(fr))}})}function jp(t){let e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$j.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,e),e.Va.a_=Aj.bind(null,e.eventManager),e.Va.Fa=Lj.bind(null,e.eventManager),e}function $p(t){let e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oj.bind(null,e),e}function Zj(t,e,n){let r=L(t);(function(s,o,a){return C(this,null,function*(){try{let c=yield o.getMetadata();if(yield function(h,p){let g=L(h),m=nt(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",w=>g.Kr.getBundleMetadata(w,p.id)).then(w=>!!w&&w.createTime.compareTo(m)>=0)}(s.localStore,c))return yield o.close(),a._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(kE(c));let l=new Yh(c,s.localStore,o.serializer),u=yield o.Ma();for(;u;){let d=yield l.ea(u);d&&a._updateProgress(d),u=yield o.Ma()}let f=yield l.complete();return yield hn(s,f.ra,void 0),yield function(h,p){let g=L(h);return g.persistence.runTransaction("Save bundle","readwrite",m=>g.Kr.saveBundleMetadata(m,p))}(s.localStore,c),a._completeWith(f.progress),Promise.resolve(f.na)}catch(c){return S2("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var ta=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=la(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bE(this.persistence,new kl,e.initialUser,this.serializer)}createPersistence(e){return new Nl(Rl.jr,this.serializer)}createSharedClientState(e){return new Bl}terminate(){return C(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Xl=class t extends ta{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){yield Z8(t.prototype,this,"initialize").call(this,e),yield this.xa.initialize(this,e),yield $p(this.xa.syncEngine),yield vo(this.xa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return bE(this.persistence,new kl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new yh(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new kd(n,this.persistence);return new Rd(e.asyncQueue,r)}createPersistence(e){let n=Tp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?D2.withCacheSize(this.cacheSizeBytes):D2.DEFAULT;return new Th(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xE(),ll(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Bl}},tp=class t extends Xl{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return C(this,null,function*(){yield Z8(t.prototype,this,"initialize").call(this,e);let n=this.xa.syncEngine;this.sharedClientState instanceof L4&&(this.sharedClientState.syncEngine={Ys:Wj.bind(null,n),Zs:Yj.bind(null,n),Xs:Xj.bind(null,n),Bi:Qj.bind(null,n),Js:Gj.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(r=>C(this,null,function*(){yield Kj(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=xE();if(!L4.D(n))throw new _(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=Tp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new L4(n,e.asyncQueue,r,e.clientId,e.initialUser)}},na=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jj.bind(null,this.syncEngine),yield qh(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Kh}()}createDatastore(e){let n=la(e.databaseInfo.databaseId),r=function(s){return new Fh(s)}(e.databaseInfo);return function(s,o,a,c){return new Uh(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $h(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hH(this.syncEngine,n,0),function(){return Ul.D()?new Ul:new kh}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){let f=new Jh(i,s,o,a,c,l);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return C(this,null,function*(){let r=L(n);b("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield go(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};function mH(t,e=10240){let n=0;return{read(){return C(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return C(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var uo=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):et("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var np=class{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new ut,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){return C(this,null,function*(){return this.metadata.promise})}Ma(){return C(this,null,function*(){return yield this.getMetadata(),this.ka()})}ka(){return C(this,null,function*(){let e=yield this.qa();if(e===null)return null;let n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);let i=yield this.Ka(r);return new Qh(JSON.parse(i),e.length+r)})}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){return C(this,null,function*(){for(;this.$a()<0&&!(yield this.Ua()););if(this.buffer.length===0)return null;let e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ka(e){return C(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ua())&&this.Qa("Reached the end of bundle when more is expected.");let n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){return C(this,null,function*(){let e=yield this.Ba.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var rp=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){return C(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let n=yield function(i,s){return C(this,null,function*(){let o=L(i),a=W4(o.serializer)+"/documents",c={documents:s.map(d=>G4(o.serializer,d))},l=yield o.Co("BatchGetDocuments",a,c,s.length),u=new Map;l.forEach(d=>{let h=oj(o.serializer,d);u.set(h.key.toString(),h)});let f=[];return s.forEach(d=>{let h=u.get(d.toString());j(!!h),f.push(h)}),f})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return C(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=T.fromPath(r);this.mutations.push(new B4(i,this.precondition(i)))}),yield function(r,i){return C(this,null,function*(){let s=L(r),o=W4(s.serializer)+"/documents",a={writes:i.map(c=>K4(s.serializer,c))};yield s.wo("Commit",o,a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw P();n=$.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new _(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($.min()))throw new _(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var ip=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new Z4(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(()=>C(this,null,function*(){let e=new rp(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})}))}za(e){try{let n=this.updateFunction(e);return!sa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!rE(n)}return!1}};var sp=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>C(this,null,function*(){b("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return C(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Co(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ul(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield HE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function op(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield qp(t);b("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>dH(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>dH(e.remoteStore,s)),t._onlineComponents=e})}function BE(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function qp(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ul(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!BE(n))throw n;S2("Error using user provided cache. Falling back to memory cache: "+n),yield ul(t,new ta)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield ul(t,new ta);return t._offlineComponents})}function l8(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield op(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield op(t,new na))),t._onlineComponents})}function UE(t){return qp(t).then(e=>e.persistence)}function Gp(t){return qp(t).then(e=>e.localStore)}function jE(t){return l8(t).then(e=>e.remoteStore)}function Wp(t){return l8(t).then(e=>e.syncEngine)}function Jj(t){return l8(t).then(e=>e.datastore)}function fo(t){return C(this,null,function*(){let e=yield l8(t),n=e.eventManager;return n.onListen=Nj.bind(null,e.syncEngine),n.onUnlisten=Rj.bind(null,e.syncEngine),n})}function e$(t){return t.asyncQueue.enqueue(()=>C(this,null,function*(){let e=yield UE(t),n=yield jE(t);return e.setNetworkEnabled(!0),function(i){let s=L(i);return s.C_.delete(0),ua(s)}(n)}))}function t$(t){return t.asyncQueue.enqueue(()=>C(this,null,function*(){let e=yield UE(t),n=yield jE(t);return e.setNetworkEnabled(!1),function(i){return C(this,null,function*(){let s=L(i);s.C_.add(0),yield go(s),s.M_.set("Offline")})}(n)}))}function n$(t,e){let n=new ut;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(i,s,o){return C(this,null,function*(){try{let a=yield function(l,u){let f=L(l);return f.persistence.runTransaction("read document","readonly",d=>f.localDocuments.getDocument(d,u))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new _(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Co(a,`Failed to get document '${s} from cache`);o.reject(c)}})}(yield Gp(t),e,n)})),n.promise}function $E(t,e,n={}){let r=new ut;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,c,l){let u=new uo({next:d=>{o.enqueueAndForget(()=>kp(s,f));let h=d.docs.has(a);!h&&d.fromCache?l.reject(new _(M.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&c&&c.source==="server"?l.reject(new _(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ea(mo(a.path),u,{includeMetadataChanges:!0,J_:!0});return Rp(s,f)}(yield fo(t),t.asyncQueue,e,n,r)})),r.promise}function r$(t,e){let n=new ut;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(i,s,o){return C(this,null,function*(){try{let a=yield Pl(i,s,!0),c=new Yl(s,a.ls),l=c.ca(a.documents),u=c.applyChanges(l,!1);o.resolve(u.snapshot)}catch(a){let c=Co(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield Gp(t),e,n)})),n.promise}function qE(t,e,n={}){let r=new ut;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,c,l){let u=new uo({next:d=>{o.enqueueAndForget(()=>kp(s,f)),d.fromCache&&c.source==="server"?l.reject(new _(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ea(a,u,{includeMetadataChanges:!0,J_:!0});return Rp(s,f)}(yield fo(t),t.asyncQueue,e,n,r)})),r.promise}function i$(t,e){let n=new uo(e);return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(i,s){L(i).q_.add(s),s.next()}(yield fo(t),n)})),()=>{n.Na(),t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(i,s){L(i).q_.delete(s)}(yield fo(t),n)}))}}function s$(t,e,n,r){let i=function(o,a){let c;return c=typeof o=="string"?sE().encode(o):o,function(u,f){return new np(u,f)}(function(u,f){if(u instanceof Uint8Array)return mH(u,f);if(u instanceof ArrayBuffer)return mH(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,la(e));t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){Zj(yield Wp(t),i,r)}))}function o$(t,e){return t.asyncQueue.enqueue(()=>C(this,null,function*(){return function(r,i){let s=L(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Gp(t),e)}))}function GE(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gH=new Map;function Kp(t,e,n){if(!n)throw new _(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qp(t,e,n,r){if(e===!0&&r===!0)throw new _(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vH(t){if(!T.isDocumentKey(t))throw new _(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yH(t){if(T.isDocumentKey(t))throw new _(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u8(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=u8(t);throw new _(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function WE(t,e){if(e<=0)throw new _(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Zl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new _(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ed;switch(r.type){case"firstParty":return new Sd(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=gH.get(n);r&&(b("ComponentProvider","Removing Datastore"),gH.delete(n),r.terminate())}(this),Promise.resolve()}};function KE(t,e,n,r={}){var i;let s=(t=fe(t,gi))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&S2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=lt.MOCK_USER;else{a=xa(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new _(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new lt(l)}t._authCredentials=new zd(new fl(a,c))}}var It=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ie=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new b1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},b1=class t extends It{constructor(e,n,r){super(e,n,mo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new T(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Yp(t,e,...n){if(t=de(t),Kp("collection","path",e),t instanceof gi){let r=he.fromString(e,...n);return yH(r),new b1(t,null,r)}{if(!(t instanceof Ie||t instanceof b1))throw new _(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return yH(r),new b1(t.firestore,null,r)}}function QE(t,e){if(t=fe(t,gi),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _(M.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(t,null,function(r){return new X2(he.emptyPath(),r)}(e))}function fa(t,e,...n){if(t=de(t),arguments.length===1&&(e=dl.newId()),Kp("doc","path",e),t instanceof gi){let r=he.fromString(e,...n);return vH(r),new Ie(t,null,new T(r))}{if(!(t instanceof Ie||t instanceof b1))throw new _(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return vH(r),new Ie(t.firestore,t instanceof b1?t.converter:null,new T(r))}}function Xp(t,e){return t=de(t),e=de(e),(t instanceof Ie||t instanceof b1)&&(e instanceof Ie||e instanceof b1)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Zp(t,e){return t=de(t),e=de(e),t instanceof It&&e instanceof It&&t.firestore===e.firestore&&aa(t._query,e._query)&&t.converter===e.converter}var ap=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Z4(this,"async_queue_retry"),this.iu=()=>{let n=ll();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ll();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ll();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new ut;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return C(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!dr(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw et("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Gh.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&P()}verifyOperationInProgress(){}uu(){return C(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function cp(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var lp=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var YE=-1,Re=class extends gi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ap}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XE(this),this._firestoreClient.terminate()}};function dt(t){return t._firestoreClient||XE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XE(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new Pd(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sp(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ZE(t,e){az(t=fe(t,Re));let n=dt(t);if(n._uninitializedComponentsProvider)throw new _(M.FAILED_PRECONDITION,"SDK cache is already specified.");S2("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new na;return ez(n,i,new Xl(i,r.cacheSizeBytes,e?.forceOwnership))}function JE(t){az(t=fe(t,Re));let e=dt(t);if(e._uninitializedComponentsProvider)throw new _(M.FAILED_PRECONDITION,"SDK cache is already specified.");S2("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new na;return ez(e,r,new tp(r,n.cacheSizeBytes))}function ez(t,e,n){let r=new ut;return t.asyncQueue.enqueue(()=>C(this,null,function*(){try{yield ul(t,n),yield op(t,e),r.resolve()}catch(i){let s=i;if(!BE(s))throw s;S2("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function tz(t){if(t._initialized&&!t._terminated)throw new _(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new ut;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{yield function(r){return C(this,null,function*(){if(!tr.D())return Promise.resolve();let i=r+"main";yield tr.delete(i)})}(Tp(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function nz(t){return function(n){let r=new ut;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Bj(yield Wp(n),r)})),r.promise}(dt(t=fe(t,Re)))}function rz(t){return e$(dt(t=fe(t,Re)))}function iz(t){return t$(dt(t=fe(t,Re)))}function sz(t,e){let n=dt(t=fe(t,Re)),r=new lp;return s$(n,t._databaseId,e,r),r}function oz(t,e){return o$(dt(t=fe(t,Re)),e).then(n=>n?new It(t,null,n.query):null)}function az(t){if(t._initialized||t._terminated)throw new _(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var I1=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new _(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var J2=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fn=class{constructor(e){this._methodName=e}};var vi=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}};var a$=/^__.*__$/,up=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Z2(e,this.data,this.fieldMask,n,this.fieldTransforms):new cr(e,this.data,n,this.fieldTransforms)}},Jl=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Z2(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function cz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var e8=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return t8(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(cz(this.Iu)&&a$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},fp=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||la(e)}pu(e,n,r,i=!1){return new e8({Iu:e,methodName:n,gu:r,path:tt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wi(t){let e=t._freezeSettings(),n=la(t._databaseId);return new fp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f8(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);tm("Data must be an object, but it was:",o,r);let a=fz(r,o),c,l;if(s.merge)c=new p2(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let f of s.mergeFields){let d=gp(e,f,n);if(!o.contains(d))throw new _(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);hz(u,d)||u.push(d)}c=new p2(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new up(new Pt(a),c,l)}var ra=class t extends fn{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function lz(t,e,n){return new e8({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var dp=class t extends fn{_toFieldTransform(e){return new hi(e.path,new or)}isEqual(e){return e instanceof t}},hp=class extends fn{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=lz(this,e,!0),r=this.yu.map(s=>Vi(s,n)),i=new ln(r);return new hi(e.path,i)}isEqual(e){return this===e}},pp=class extends fn{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=lz(this,e,!0),r=this.yu.map(s=>Vi(s,n)),i=new un(r);return new hi(e.path,i)}isEqual(e){return this===e}},mp=class extends fn{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){let n=new ar(e.serializer,YH(e.serializer,this.wu));return new hi(e.path,n)}isEqual(e){return this===e}};function Jp(t,e,n,r){let i=t.pu(1,e,n);tm("Data must be an object, but it was:",i,r);let s=[],o=Pt.empty();Mi(r,(c,l)=>{let u=nm(e,c,n);l=de(l);let f=i.Ru(u);if(l instanceof ra)s.push(u);else{let d=Vi(l,f);d!=null&&(s.push(u),o.set(u,d))}});let a=new p2(s);return new Jl(o,a,i.fieldTransforms)}function em(t,e,n,r,i,s){let o=t.pu(1,e,n),a=[gp(e,r,n)],c=[i];if(s.length%2!=0)throw new _(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(gp(e,s[d])),c.push(s[d+1]);let l=[],u=Pt.empty();for(let d=a.length-1;d>=0;--d)if(!hz(l,a[d])){let h=a[d],p=c[d];p=de(p);let g=o.Ru(h);if(p instanceof ra)l.push(h);else{let m=Vi(p,g);m!=null&&(l.push(h),u.set(h,m))}}let f=new p2(l);return new Jl(u,f,o.fieldTransforms)}function uz(t,e,n,r=!1){return Vi(n,t.pu(r?4:3,e))}function Vi(t,e){if(dz(t=de(t)))return tm("Unsupported field value:",e,t),fz(t,e);if(t instanceof fn)return function(r,i){if(!cz(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Vi(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=de(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:ro(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ro(i.serializer,s)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof I1)return{bytesValue:oE(i.serializer,r._byteString)};if(r instanceof Ie){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Dp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${u8(r)}`)}(t,e)}function fz(t,e){let n={};return TH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(t,(r,i)=>{let s=Vi(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof vi||t instanceof I1||t instanceof Ie||t instanceof fn)}function tm(t,e,n){if(!dz(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=u8(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function gp(t,e,n){if((e=de(e))instanceof J2)return e._internalPath;if(typeof e=="string")return nm(t,e);throw t8("Field path arguments must be of type string or ",t,!1,void 0,n)}var c$=new RegExp("[~\\*/\\[\\]]");function nm(t,e,n){if(e.search(c$)>=0)throw t8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new J2(...e.split("."))._internalPath}catch{throw t8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function t8(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new _(M.INVALID_ARGUMENT,a+t+c)}function hz(t,e){return t.some(n=>n.isEqual(e))}var yi=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(d8("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},vp=class extends yi{data(){return super.data()}};function d8(t,e){return typeof e=="string"?nm(t,e):e instanceof J2?e._internalPath:e._delegate._internalPath}function pz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ia=class{},Ci=class extends ia{};function pn(t,e,...n){let r=[];e instanceof ia&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof yp).length,a=s.filter(c=>c instanceof n8).length;if(o>1||o>0&&a>0)throw new _(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var n8=class t extends Ci{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return bz(e._query,n),new It(e.firestore,e.converter,Xd(e._query,n))}_parse(e){let n=wi(e.firestore);return function(s,o,a,c,l,u,f){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new _(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){MH(f,u);let h=[];for(let p of f)h.push(CH(c,s,p));d={arrayValue:{values:h}}}else d=CH(c,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||MH(f,u),d=uz(a,o,f,u==="in"||u==="not-in");return le.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function mz(t,e,n){let r=e,i=d8("where",t);return n8._create(i,r,n)}var yp=class t extends ia{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:we.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)bz(o,c),o=Xd(o,c)}(e._query,n),new It(e.firestore,e.converter,Xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Cp=class t extends Ci{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new _(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fi(s,o)}(e._query,this._field,this._direction);return new It(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new X2(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function gz(t,e="asc"){let n=e,r=d8("orderBy",t);return Cp._create(r,n)}var r8=class t extends Ci{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new It(e.firestore,e.converter,Vl(e._query,this._limit,this._limitType))}};function vz(t){return WE("limit",t),r8._create("limit",t,"F")}function yz(t){return WE("limitToLast",t),r8._create("limitToLast",t,"L")}var i8=class t extends Ci{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=_z(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(i,s){return new X2(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function Cz(...t){return i8._create("startAt",t,!0)}function Mz(...t){return i8._create("startAfter",t,!1)}var s8=class t extends Ci{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=_z(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(i,s){return new X2(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function wz(...t){return s8._create("endBefore",t,!1)}function Vz(...t){return s8._create("endAt",t,!0)}function _z(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof yi)return function(s,o,a,c,l){if(!c)throw new _(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let f of Qs(s))if(f.field.isKeyField())u.push(ui(o,c.key));else{let d=c.data.field(f.field);if(a8(d))throw new _(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){let h=f.field.canonicalString();throw new _(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new E1(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=wi(t.firestore);return function(o,a,c,l,u,f){let d=o.explicitOrderBy;if(u.length>d.length)throw new _(M.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let h=[];for(let p=0;p<u.length;p++){let g=u[p];if(d[p].field.isKeyField()){if(typeof g!="string")throw new _(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!zp(o)&&g.indexOf("/")!==-1)throw new _(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);let m=o.path.child(he.fromString(g));if(!T.isDocumentKey(m))throw new _(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);let w=new T(m);h.push(ui(a,w))}else{let m=uz(c,l,g);h.push(m)}}return new E1(h,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function CH(t,e,n){if(typeof(n=de(n))=="string"){if(n==="")throw new _(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zp(e)&&n.indexOf("/")!==-1)throw new _(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(he.fromString(n));if(!T.isDocumentKey(r))throw new _(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ui(t,new T(r))}if(n instanceof Ie)return ui(t,n._key);throw new _(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u8(n)}.`)}function MH(t,e){if(!Array.isArray(t)||t.length===0)throw new _(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bz(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ho=class{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Mi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new vi(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Hp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(P4(e));default:return null}}convertTimestamp(e){let n=nr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=he.fromString(e);j(gE(r));let i=new ir(r.get(1),r.get(3)),s=new T(r.popFirst(5));return i.isEqual(n)||et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function h8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Mp=class extends ho{constructor(e){super(),this.firestore=e}convertBytes(e){return new I1(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,n)}};var cn=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},T2=class extends yi{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Jn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(d8("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Jn=class extends T2{data(e={}){return super.data(e)}},e1=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cn(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jn(this._firestore,this._userDataWriter,r.key,r,new cn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Jn(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cn(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Jn(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cn(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:l$(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function l$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function rm(t,e){return t instanceof T2&&e instanceof T2?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof e1&&e instanceof e1&&t._firestore===e._firestore&&Zp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Hz(t){t=fe(t,Ie);let e=fe(t.firestore,Re);return $E(dt(e),t._key).then(n=>am(e,t,n))}var dn=class extends ho{constructor(e){super(),this.firestore=e}convertBytes(e){return new I1(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,n)}};function Ez(t){t=fe(t,Ie);let e=fe(t.firestore,Re),n=dt(e),r=new dn(e);return n$(n,t._key).then(i=>new T2(e,r,t._key,i,new cn(i!==null&&i.hasLocalMutations,!0),t.converter))}function zz(t){t=fe(t,Ie);let e=fe(t.firestore,Re);return $E(dt(e),t._key,{source:"server"}).then(n=>am(e,t,n))}function Iz(t){t=fe(t,It);let e=fe(t.firestore,Re),n=dt(e),r=new dn(e);return pz(t._query),qE(n,t._query).then(i=>new e1(e,r,t,i))}function Dz(t){t=fe(t,It);let e=fe(t.firestore,Re),n=dt(e),r=new dn(e);return r$(n,t._query).then(i=>new e1(e,r,t,i))}function Sz(t){t=fe(t,It);let e=fe(t.firestore,Re),n=dt(e),r=new dn(e);return qE(n,t._query,{source:"server"}).then(i=>new e1(e,r,t,i))}function im(t,e,n){t=fe(t,Ie);let r=fe(t.firestore,Re),i=h8(t.converter,e,n);return Mo(r,[f8(wi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function sm(t,e,n,...r){t=fe(t,Ie);let i=fe(t.firestore,Re),s=wi(i),o;return o=typeof(e=de(e))=="string"||e instanceof J2?em(s,"updateDoc",t._key,e,n,r):Jp(s,"updateDoc",t._key,e),Mo(i,[o.toMutation(t._key,Ke.exists(!0))])}function xz(t){return Mo(fe(t.firestore,Re),[new lr(t._key,Ke.none())])}function Tz(t,e){let n=fe(t.firestore,Re),r=fa(t),i=h8(t.converter,e);return Mo(n,[f8(wi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function om(t,...e){var n,r,i;t=de(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||cp(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(cp(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,u;if(t instanceof Ie)l=fe(t.firestore,Re),u=mo(t._key.path),c={next:f=>{e[o]&&e[o](am(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=fe(t,It);l=fe(f.firestore,Re),u=f._query;let d=new dn(l);c={next:h=>{e[o]&&e[o](new e1(l,d,f,h))},error:e[o+1],complete:e[o+2]},pz(t._query)}return function(d,h,p,g){let m=new uo(g),w=new ea(h,m,p);return d.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Rp(yield fo(d),w)})),()=>{m.Na(),d.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return kp(yield fo(d),w)}))}}(dt(l),u,a,c)}function Az(t,e){return i$(dt(t=fe(t,Re)),cp(e)?e:{next:e})}function Mo(t,e){return function(r,i){let s=new ut;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return kj(yield Wp(r),i,s)})),s.promise}(dt(t),e)}function am(t,e,n){let r=n.docs.get(e._key),i=new dn(t);return new T2(t,i,e._key,r,new cn(n.hasPendingWrites,n.fromCache),e.converter)}var u$={maxAttempts:5};var o8=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wi(e)}set(e,n,r){this._verifyNotCommitted();let i=Xn(e,this._firestore),s=h8(i.converter,n,r),o=f8(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Xn(e,this._firestore),o;return o=typeof(n=de(n))=="string"||n instanceof J2?em(this._dataReader,"WriteBatch.update",s._key,n,r,i):Jp(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Xn(e,this._firestore);return this._mutations=this._mutations.concat(new lr(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Xn(t,e){if((t=de(t)).firestore!==e)throw new _(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var wp=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=wi(n)}get(n){let r=Xn(n,this._firestore),i=new Mp(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return P();let o=s[0];if(o.isFoundDocument())return new yi(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new yi(this._firestore,i,r._key,null,r.converter);throw P()})}set(n,r,i){let s=Xn(n,this._firestore),o=h8(s.converter,r,i),a=f8(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){let o=Xn(n,this._firestore),a;return a=typeof(r=de(r))=="string"||r instanceof J2?em(this._dataReader,"Transaction.update",o._key,r,i,s):Jp(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){let r=Xn(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Xn(e,this._firestore),r=new dn(this._firestore);return super.get(e).then(i=>new T2(this._firestore,r,n._key,i._document,new cn(!1,!1),n.converter))}};function Lz(t,e,n){t=fe(t,Re);let r=Object.assign(Object.assign({},u$),n);return function(s){if(s.maxAttempts<1)throw new _(M.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let c=new ut;return s.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){let l=yield Jj(s);new ip(s.asyncQueue,l,a,o,c).run()})),c.promise}(dt(t),i=>e(new wp(t,i)),r)}function Nz(){return new ra("deleteField")}function Rz(){return new dp("serverTimestamp")}function kz(...t){return new hp("arrayUnion",t)}function Pz(...t){return new pp("arrayRemove",t)}function Fz(t){return new mp("increment",t)}(function(e,n=!0){(function(i){po=i})(Ra),Cr(new A2("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Re(new Id(r.getProvider("auth-internal")),new Td(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ir(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),v2(Vb,"4.3.2",e),v2(Vb,"4.3.2","esm2017")})();var f$="@firebase/firestore-compat",d$="0.3.22";function hm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new _("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function Oz(){if(typeof Uint8Array>"u")throw new _("unimplemented","Uint8Arrays are not available in this environment.")}function Bz(){if(!AH())throw new _("unimplemented","Blobs are unavailable in Firestore in this environment.")}var p8=class t{constructor(e){this._delegate=e}static fromBase64String(e){return Bz(),new t(I1.fromBase64String(e))}static fromUint8Array(e){return Oz(),new t(I1.fromUint8Array(e))}toBase64(){return Bz(),this._delegate.toBase64()}toUint8Array(){return Oz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function cm(t){return h$(t,["next","error","complete"])}function h$(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var lm=class{enableIndexedDbPersistence(e,n){return ZE(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return JE(e._delegate)}clearIndexedDbPersistence(e){return tz(e._delegate)}},m8=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ir||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&S2("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){KE(this._delegate,e,n,r)}enableNetwork(){return rz(this._delegate)}disableNetwork(){return iz(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Qp("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nz(this._delegate)}onSnapshotsInSync(e){return Az(this._delegate,e)}get app(){if(!this._appCompat)throw new _("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _o(this,Yp(this._delegate,e))}catch(n){throw Xt(n,"collection()","Firestore.collection()")}}doc(e){try{return new D1(this,fa(this._delegate,e))}catch(n){throw Xt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ei(this,QE(this._delegate,e))}catch(n){throw Xt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Lz(this._delegate,n=>e(new g8(this,n)))}batch(){return dt(this._delegate),new v8(new o8(this._delegate,e=>Mo(this._delegate,e)))}loadBundle(e){return sz(this._delegate,e)}namedQuery(e){return oz(this._delegate,e).then(n=>n?new Ei(this,n):null)}},wo=class extends ho{constructor(e){super(),this.firestore=e}convertBytes(e){return new p8(new I1(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return D1.forKey(n,this.firestore,null)}};function p$(t){wH(t)}var g8=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new wo(e)}get(e){let n=_i(e);return this._delegate.get(n).then(r=>new bi(this._firestore,new T2(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=_i(e);return r?(hm("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=_i(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=_i(e);return this._delegate.delete(n),this}},v8=class{constructor(e){this._delegate=e}set(e,n,r){let i=_i(e);return r?(hm("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=_i(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=_i(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Vo=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new Jn(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hi(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new wo(e),n),i.set(n,s)),s}};Vo.INSTANCES=new WeakMap;var D1=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new wo(e)}static forPath(e,n,r){if(e.length%2!==0)throw new _("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Ie(n._delegate,r,new T(e)))}static forKey(e,n,r){return new t(n,new Ie(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _o(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _o(this.firestore,Yp(this._delegate,e))}catch(n){throw Xt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=de(e),e instanceof Ie?Xp(this._delegate,e):!1}set(e,n){n=hm("DocumentReference.set",n);try{return n?im(this._delegate,e,n):im(this._delegate,e)}catch(r){throw Xt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?sm(this._delegate,e):sm(this._delegate,e,n,...r)}catch(i){throw Xt(i,"updateDoc()","DocumentReference.update()")}}delete(){return xz(this._delegate)}onSnapshot(...e){let n=Uz(e),r=jz(e,i=>new bi(this.firestore,new T2(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return om(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=Ez(this._delegate):e?.source==="server"?n=zz(this._delegate):n=Hz(this._delegate),n.then(r=>new bi(this.firestore,new T2(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Xt(t,e,n){return t.message=t.message.replace(e,n),t}function Uz(t){for(let e of t)if(typeof e=="object"&&!cm(e))return e;return{}}function jz(t,e){var n,r;let i;return cm(t[0])?i=t[0]:cm(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var bi=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new D1(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return rm(this._delegate,e._delegate)}},Hi=class extends bi{data(e){let n=this._delegate.data(e);return this._delegate._converter||VH(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Ei=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new wo(e)}where(e,n,r){try{return new t(this.firestore,pn(this._delegate,mz(e,n,r)))}catch(i){throw Xt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,pn(this._delegate,gz(e,n)))}catch(r){throw Xt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,pn(this._delegate,vz(e)))}catch(n){throw Xt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,pn(this._delegate,yz(e)))}catch(n){throw Xt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,pn(this._delegate,Cz(...e)))}catch(n){throw Xt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,pn(this._delegate,Mz(...e)))}catch(n){throw Xt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,pn(this._delegate,wz(...e)))}catch(n){throw Xt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,pn(this._delegate,Vz(...e)))}catch(n){throw Xt(n,"endAt()","Query.endAt()")}}isEqual(e){return Zp(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=Dz(this._delegate):e?.source==="server"?n=Sz(this._delegate):n=Iz(this._delegate),n.then(r=>new da(this.firestore,new e1(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=Uz(e),r=jz(e,i=>new da(this.firestore,new e1(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return om(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},um=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Hi(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},da=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ei(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hi(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new um(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Hi(this._firestore,r))})}isEqual(e){return rm(this._delegate,e._delegate)}},_o=class t extends Ei{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new D1(this.firestore,e):null}doc(e){try{return e===void 0?new D1(this.firestore,fa(this._delegate)):new D1(this.firestore,fa(this._delegate,e))}catch(n){throw Xt(n,"doc()","CollectionReference.doc()")}}add(e){return Tz(this._delegate,e).then(n=>new D1(this.firestore,n))}isEqual(e){return Xp(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Vo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function _i(t){return fe(t,Ie)}var fm=class t{constructor(...e){this._delegate=new J2(...e)}static documentId(){return new t(tt.keyField().canonicalString())}isEqual(e){return e=de(e),e instanceof J2?this._delegate._internalPath.isEqual(e._internalPath):!1}};var dm=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=Rz();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=Nz();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=kz(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=Pz(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=Fz(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var m$={Firestore:m8,GeoPoint:vi,Timestamp:Be,Blob:p8,Transaction:g8,WriteBatch:v8,DocumentReference:D1,DocumentSnapshot:bi,Query:Ei,QueryDocumentSnapshot:Hi,QuerySnapshot:da,CollectionReference:_o,FieldPath:fm,FieldValue:dm,setLogLevel:p$,CACHE_SIZE_UNLIMITED:YE};function g$(t,e){t.INTERNAL.registerComponent(new A2("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},m$)))}function v$(t){g$(t,(e,n)=>new m8(e,n,new lm)),t.registerVersion(f$,d$)}v$(Pe);function y$(t,e=_r){return new q(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function $z(t,e){return y$(t,e)}function C$(t,e){return $z(t,e).pipe(N1(void 0),Hr(),F(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function gm(t,e){return $z(t,e).pipe(F(n=>({payload:n,type:"query"})))}var y8=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=Qz(r,n);return new M8(i,s,this.afs)}snapshotChanges(){return C$(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht)}valueChanges(e={}){return this.snapshotChanges().pipe(F(({payload:n})=>e.idField?te(I({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ne(this.ref.get(e)).pipe(Ht)}};function C8(t,e){return gm(t,e).pipe(N1(void 0),Hr(),F(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=s.find(f=>f.doc.ref.isEqual(a.ref)),u=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function qz(t,e,n){return C8(t,n).pipe(Er((r,i)=>M$(r,i.map(s=>s.payload),e),[]),br(),F(r=>r.map(i=>({type:i.type,payload:i}))))}function M$(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=w$(t,r))}),t}function pm(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function w$(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return pm(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return pm(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pm(t,e.oldIndex,1);break}return t}function Gz(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var M8=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=C8(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(F(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(N1(void 0),Hr(),Ne(([r,i])=>i.length>0||!r),F(([,r])=>r),Ht)}auditTrail(e){return this.stateChanges(e).pipe(Er((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Gz(e);return qz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ht)}valueChanges(e={}){return gm(this.query,this.afs.schedulers.outsideAngular).pipe(F(n=>n.payload.docs.map(r=>e.idField?te(I({},r.data()),{[e.idField]:r.id}):r.data())),Ht)}get(e){return ne(this.query.get(e)).pipe(Ht)}add(e){return this.ref.add(e)}doc(e){return new y8(this.ref.doc(e),this.afs)}},mm=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?C8(this.query,this.afs.schedulers.outsideAngular).pipe(Ht):C8(this.query,this.afs.schedulers.outsideAngular).pipe(F(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ne(n=>n.length>0),Ht)}auditTrail(e){return this.stateChanges(e).pipe(Er((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=Gz(e);return qz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ht)}valueChanges(e={}){return gm(this.query,this.afs.schedulers.outsideAngular).pipe(F(r=>r.payload.docs.map(i=>e.idField?I({[e.idField]:i.id},i.data()):i.data())),Ht)}get(e){return ne(this.query.get(e)).pipe(Ht)}},Wz=new z("angularfire2.enableFirestorePersistence"),Kz=new z("angularfire2.firestore.persistenceSettings"),V$=new z("angularfire2.firestore.settings"),_$=new z("angularfire2.firestore.use-emulator");function Qz(t,e=n=>n){return{query:e(t),ref:t}}var vm=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,c,l,u,f,d,h,p,g,m,w,H){this.schedulers=c;let V=Kr(n,a,r),E=u;f&&_9(V,a,d,p,g,m,h,w),[this.firestore,this.persistenceEnabled$]=$n(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{let N=a.runOutsideAngular(()=>V.firestore());if(s&&N.settings(s),E&&N.useEmulator(...E),i&&!en(o)){let B=()=>{try{return ne(N.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(se){return typeof console<"u"&&console.warn(se),R(!1)}};return[N,a.runOutsideAngular(B)]}else return[N,R(!1)]},[s,E,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=Qz(i,r),a=this.schedulers.ngZone.run(()=>s);return new M8(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new mm(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new y8(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(v(Un),v(jn,8),v(Wz,8),v(V$,8),v(st),v(X),v(rn),v(Kz,8),v(_$,8),v(Qr,8),v(v9,8),v(y9,8),v(C9,8),v(M9,8),v(w9,8),v(V9,8),v(nn,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Yz=(()=>{class t{constructor(){Pe.registerVersion("angularfire",s2.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:Wz,useValue:!0},{provide:Kz,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=me({type:t});static \u0275inj=pe({providers:[vm]})}return t})();var Xz=(()=>{let e=class e{constructor(r,i){this.afs=r,this.toastr=i}saveData(r){this.afs.collection("categories").add(r).then(i=>this.toastr.success("Category saved successfully!","Success")).catch(i=>console.log(i))}loadData(){return this.afs.collection("categories").snapshotChanges().pipe(F(r=>r.map(i=>{let s=i.payload.doc.data();return{id:i.payload.doc.id,name:s.name}})))}loadById(r){return this.afs.doc(`categories/${r}`).valueChanges().pipe(F(i=>({id:r,name:i.name})))}updateData(r){let i={name:r.name};this.afs.collection("categories").doc(r.id).update(i).then(s=>this.toastr.success("Category saved successfully!","Success")).catch(s=>console.log(s))}deleteData(r){this.afs.doc(`categories/${r}`).delete().then(i=>this.toastr.success("Category deleted successfully!","Success")).catch(i=>console.log(i))}};e.\u0275fac=function(i){return new(i||e)(v(vm),v(qn))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(n),!0).forEach(function(r){ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8(t){"@babel/helpers - typeof";return T8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T8(t)}function E$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z$(t,e,n){return e&&Jz(t.prototype,e),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Am(t,e){return D$(t)||x$(t,e)||bI(t,e)||A$()}function wa(t){return I$(t)||S$(t)||bI(t)||T$()}function I$(t){if(Array.isArray(t))return Vm(t)}function D$(t){if(Array.isArray(t))return t}function S$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function bI(t,e){if(t){if(typeof t=="string")return Vm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vm(t,e)}}function Vm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var eI=function(){},Lm={},HI={},EI=null,zI={mark:eI,measure:eI};try{typeof window<"u"&&(Lm=window),typeof document<"u"&&(HI=document),typeof MutationObserver<"u"&&(EI=MutationObserver),typeof performance<"u"&&(zI=performance)}catch{}var L$=Lm.navigator||{},tI=L$.userAgent,nI=tI===void 0?"":tI,mr=Lm,Ae=HI,rI=EI,w8=zI,Ore=!!mr.document,yn=!!Ae.documentElement&&!!Ae.head&&typeof Ae.addEventListener=="function"&&typeof Ae.createElement=="function",II=~nI.indexOf("MSIE")||~nI.indexOf("Trident/"),V8,_8,b8,H8,E8,mn="___FONT_AWESOME___",_m=16,DI="fa",SI="svg-inline--fa",Di="data-fa-i2svg",bm="data-fa-pseudo-element",N$="data-fa-pseudo-element-pending",Nm="data-prefix",Rm="data-icon",iI="fontawesome-i2svg",R$="async",k$=["HTML","HEAD","STYLE","SCRIPT"],xI=function(){try{return!0}catch{return!1}}(),Te="classic",Qe="sharp",km=[Te,Qe];function Va(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Te]}})}var ga=Va((V8={},ht(V8,Te,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ht(V8,Qe,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),V8)),va=Va((_8={},ht(_8,Te,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ht(_8,Qe,{solid:"fass",regular:"fasr",light:"fasl"}),_8)),ya=Va((b8={},ht(b8,Te,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ht(b8,Qe,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),b8)),P$=Va((H8={},ht(H8,Te,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ht(H8,Qe,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),H8)),F$=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,TI="fa-layers-text",O$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,B$=Va((E8={},ht(E8,Te,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ht(E8,Qe,{900:"fass",400:"fasr",300:"fasl"}),E8)),AI=[1,2,3,4,5,6,7,8,9,10],U$=AI.concat([11,12,13,14,15,16,17,18,19,20]),j$=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zi={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ca=new Set;Object.keys(va[Te]).map(Ca.add.bind(Ca));Object.keys(va[Qe]).map(Ca.add.bind(Ca));var $$=[].concat(km,wa(Ca),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",zi.GROUP,zi.SWAP_OPACITY,zi.PRIMARY,zi.SECONDARY]).concat(AI.map(function(t){return"".concat(t,"x")})).concat(U$.map(function(t){return"w-".concat(t)})),pa=mr.FontAwesomeConfig||{};function q$(t){var e=Ae.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function G$(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Ae&&typeof Ae.querySelector=="function"&&(sI=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]],sI.forEach(function(t){var e=Am(t,2),n=e[0],r=e[1],i=G$(q$(n));i!=null&&(pa[r]=i)}));var sI,LI={styleDefault:"solid",familyDefault:"classic",cssPrefix:DI,replacementClass:SI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};pa.familyPrefix&&(pa.cssPrefix=pa.familyPrefix);var zo=O(O({},LI),pa);zo.autoReplaceSvg||(zo.observeMutations=!1);var U={};Object.keys(LI).forEach(function(t){Object.defineProperty(U,t,{enumerable:!0,set:function(n){zo[t]=n,ma.forEach(function(r){return r(U)})},get:function(){return zo[t]}})});Object.defineProperty(U,"familyPrefix",{enumerable:!0,set:function(e){zo.cssPrefix=e,ma.forEach(function(n){return n(U)})},get:function(){return zo.cssPrefix}});mr.FontAwesomeConfig=U;var ma=[];function W$(t){return ma.push(t),function(){ma.splice(ma.indexOf(t),1)}}var pr=_m,S1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function K$(t){if(!(!t||!yn)){var e=Ae.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ae.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Ae.head.insertBefore(e,r),t}}var Q$="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ma(){for(var t=12,e="";t-- >0;)e+=Q$[Math.random()*62|0];return e}function Io(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Pm(t){return t.classList?Io(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function NI(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Y$(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(NI(t[n]),'" ')},"").trim()}function N8(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Fm(t){return t.size!==S1.size||t.x!==S1.x||t.y!==S1.y||t.rotate!==S1.rotate||t.flipX||t.flipY}function X$(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:l}}function Z$(t){var e=t.transform,n=t.width,r=n===void 0?_m:n,i=t.height,s=i===void 0?_m:i,o=t.startCentered,a=o===void 0?!1:o,c="";return a&&II?c+="translate(".concat(e.x/pr-r/2,"em, ").concat(e.y/pr-s/2,"em) "):a?c+="translate(calc(-50% + ".concat(e.x/pr,"em), calc(-50% + ").concat(e.y/pr,"em)) "):c+="translate(".concat(e.x/pr,"em, ").concat(e.y/pr,"em) "),c+="scale(".concat(e.size/pr*(e.flipX?-1:1),", ").concat(e.size/pr*(e.flipY?-1:1),") "),c+="rotate(".concat(e.rotate,"deg) "),c}var J$=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function RI(){var t=DI,e=SI,n=U.cssPrefix,r=U.replacementClass,i=J$;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var oI=!1;function ym(){U.autoAddCss&&!oI&&(K$(RI()),oI=!0)}var eq={mixout:function(){return{dom:{css:RI,insertCss:ym}}},hooks:function(){return{beforeDOMElementCreation:function(){ym()},beforeI2svg:function(){ym()}}}},gn=mr||{};gn[mn]||(gn[mn]={});gn[mn].styles||(gn[mn].styles={});gn[mn].hooks||(gn[mn].hooks={});gn[mn].shims||(gn[mn].shims=[]);var t1=gn[mn],kI=[],tq=function t(){Ae.removeEventListener("DOMContentLoaded",t),A8=1,kI.map(function(e){return e()})},A8=!1;yn&&(A8=(Ae.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ae.readyState),A8||Ae.addEventListener("DOMContentLoaded",tq));function nq(t){yn&&(A8?setTimeout(t,0):kI.push(t))}function _a(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?NI(t):"<".concat(e," ").concat(Y$(r),">").concat(s.map(_a).join(""),"</").concat(e,">")}function aI(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var rq=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},Cm=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?rq(n,i):n,c,l,u;for(r===void 0?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)l=s[c],u=a(u,e[l],l,e);return u};function iq(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Hm(t){var e=iq(t);return e.length===1?e[0].toString(16):null}function sq(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function cI(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function Em(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=cI(e);typeof t1.hooks.addPack=="function"&&!i?t1.hooks.addPack(t,cI(e)):t1.styles[t]=O(O({},t1.styles[t]||{}),s),t==="fas"&&Em("fa",e)}var z8,I8,D8,bo=t1.styles,oq=t1.shims,aq=(z8={},ht(z8,Te,Object.values(ya[Te])),ht(z8,Qe,Object.values(ya[Qe])),z8),Om=null,PI={},FI={},OI={},BI={},UI={},cq=(I8={},ht(I8,Te,Object.keys(ga[Te])),ht(I8,Qe,Object.keys(ga[Qe])),I8);function lq(t){return~$$.indexOf(t)}function uq(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!lq(i)?i:null}var jI=function(){var e=function(s){return Cm(bo,function(o,a,c){return o[c]=Cm(a,s,{}),o},{})};PI=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(c){return typeof c=="number"});a.forEach(function(c){i[c.toString(16)]=o})}return i}),FI=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(c){return typeof c=="string"});a.forEach(function(c){i[c]=o})}return i}),UI=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in bo||U.autoFetchSvg,r=Cm(oq,function(i,s){var o=s[0],a=s[1],c=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:c}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});OI=r.names,BI=r.unicodes,Om=R8(U.styleDefault,{family:U.familyDefault})};W$(function(t){Om=R8(t.styleDefault,{family:U.familyDefault})});jI();function Bm(t,e){return(PI[t]||{})[e]}function fq(t,e){return(FI[t]||{})[e]}function Ii(t,e){return(UI[t]||{})[e]}function $I(t){return OI[t]||{prefix:null,iconName:null}}function dq(t){var e=BI[t],n=Bm("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function gr(){return Om}var Um=function(){return{prefix:null,iconName:null,rest:[]}};function R8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Te:n,i=ga[r][t],s=va[r][t]||va[r][i],o=t in t1.styles?t:null;return s||o||null}var lI=(D8={},ht(D8,Te,Object.keys(ya[Te])),ht(D8,Qe,Object.keys(ya[Qe])),D8);function k8(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},ht(e,Te,"".concat(U.cssPrefix,"-").concat(Te)),ht(e,Qe,"".concat(U.cssPrefix,"-").concat(Qe)),e),o=null,a=Te;(t.includes(s[Te])||t.some(function(l){return lI[Te].includes(l)}))&&(a=Te),(t.includes(s[Qe])||t.some(function(l){return lI[Qe].includes(l)}))&&(a=Qe);var c=t.reduce(function(l,u){var f=uq(U.cssPrefix,u);if(bo[u]?(u=aq[a].includes(u)?P$[a][u]:u,o=u,l.prefix=u):cq[a].indexOf(u)>-1?(o=u,l.prefix=R8(u,{family:a})):f?l.iconName=f:u!==U.replacementClass&&u!==s[Te]&&u!==s[Qe]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d=o==="fa"?$I(l.iconName):{},h=Ii(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,l.prefix==="far"&&!bo.far&&bo.fas&&!U.autoFetchSvg&&(l.prefix="fas")}return l},Um());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===Qe&&(bo.fass||U.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ii(c.prefix,c.iconName)||c.iconName),(c.prefix==="fa"||o==="fa")&&(c.prefix=gr()||"fas"),c}var hq=function(){function t(){E$(this,t),this.definitions={}}return z$(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=O(O({},n.definitions[a]||{}),o[a]),Em(a,o[a]);var c=ya[Te][a];c&&Em(c,o[a]),jI()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(f){typeof f=="string"&&(n[a][f]=l)}),n[a][c]=l}),n}}]),t}(),uI=[],Ho={},Eo={},pq=Object.keys(Eo);function mq(t,e){var n=e.mixoutsTo;return uI=t,Ho={},Object.keys(Eo).forEach(function(r){pq.indexOf(r)===-1&&delete Eo[r]}),uI.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),T8(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ho[o]||(Ho[o]=[]),Ho[o].push(s[o])})}r.provides&&r.provides(Eo)}),n}function zm(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=Ho[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Si(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Ho[t]||[];i.forEach(function(s){s.apply(null,n)})}function vn(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Eo[t]?Eo[t].apply(null,e):void 0}function Im(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||gr();if(e)return e=Ii(n,e)||e,aI(qI.definitions,n,e)||aI(t1.styles,n,e)}var qI=new hq,gq=function(){U.autoReplaceSvg=!1,U.observeMutations=!1,Si("noAuto")},vq={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yn?(Si("beforeI2svg",e),vn("pseudoElements2svg",e),vn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;U.autoReplaceSvg===!1&&(U.autoReplaceSvg=!0),U.observeMutations=!0,nq(function(){Cq({autoReplaceSvgRoot:n}),Si("watch",e)})}},yq={icon:function(e){if(e===null)return null;if(T8(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ii(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=R8(e[0]);return{prefix:r,iconName:Ii(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(U.cssPrefix,"-"))>-1||e.match(F$))){var i=k8(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||gr(),iconName:Ii(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=gr();return{prefix:s,iconName:Ii(s,e)||e}}}},m2={noAuto:gq,config:U,dom:vq,parse:yq,library:qI,findIconDefinition:Im,toHtml:_a},Cq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Ae:n;(Object.keys(t1.styles).length>0||U.autoFetchSvg)&&yn&&U.autoReplaceSvg&&m2.dom.i2svg({node:r})};function P8(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return _a(r)})}}),Object.defineProperty(t,"node",{get:function(){if(yn){var r=Ae.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Mq(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Fm(o)&&n.found&&!r.found){var a=n.width,c=n.height,l={x:a/c/2,y:.5};i.style=N8(O(O({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function wq(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(U.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:O(O({},i),{},{id:o}),children:r}]}]}function jm(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=d===void 0?!1:d,p=r.found?r:n,g=p.width,m=p.height,w=i==="fak",H=[U.replacementClass,s?"".concat(U.cssPrefix,"-").concat(s):""].filter(function(St){return f.classes.indexOf(St)===-1}).filter(function(St){return St!==""||!!St}).concat(f.classes).join(" "),V={children:[],attributes:O(O({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:H,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},E=w&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};h&&(V.attributes[Di]=""),c&&(V.children.push({tag:"title",attributes:{id:V.attributes["aria-labelledby"]||"title-".concat(u||Ma())},children:[c]}),delete V.attributes.title);var N=O(O({},V),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:O(O({},E),f.styles)}),B=r.found&&n.found?vn("generateAbstractMask",N)||{children:[],attributes:{}}:vn("generateAbstractIcon",N)||{children:[],attributes:{}},se=B.children,Le=B.attributes;return N.children=se,N.attributes=Le,a?wq(N):Mq(N)}function fI(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=a===void 0?!1:a,l=O(O(O({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Di]="");var u=O({},o.styles);Fm(i)&&(u.transform=Z$({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=N8(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function Vq(t){var e=t.content,n=t.title,r=t.extra,i=O(O(O({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=N8(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Mm=t1.styles;function Dm(t){var e=t[0],n=t[1],r=t.slice(4),i=Am(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(U.cssPrefix,"-").concat(zi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(zi.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(zi.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var _q={found:!1,width:512,height:512};function bq(t,e){!xI&&!U.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Sm(t,e){var n=e;return e==="fa"&&U.styleDefault!==null&&(e=gr()),new Promise(function(r,i){var s={found:!1,width:512,height:512,icon:vn("missingIconAbstract")||{}};if(n==="fa"){var o=$I(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Mm[e]&&Mm[e][t]){var a=Mm[e][t];return r(Dm(a))}bq(t,e),r(O(O({},_q),{},{icon:U.showMissingIcons&&t?vn("missingIconAbstract")||{}:{}}))})}var dI=function(){},xm=U.measurePerformance&&w8&&w8.mark&&w8.measure?w8:{mark:dI,measure:dI},ha='FA "6.4.2"',Hq=function(e){return xm.mark("".concat(ha," ").concat(e," begins")),function(){return GI(e)}},GI=function(e){xm.mark("".concat(ha," ").concat(e," ends")),xm.measure("".concat(ha," ").concat(e),"".concat(ha," ").concat(e," begins"),"".concat(ha," ").concat(e," ends"))},$m={begin:Hq,end:GI},S8=function(){};function hI(t){var e=t.getAttribute?t.getAttribute(Di):null;return typeof e=="string"}function Eq(t){var e=t.getAttribute?t.getAttribute(Nm):null,n=t.getAttribute?t.getAttribute(Rm):null;return e&&n}function zq(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(U.replacementClass)}function Iq(){if(U.autoReplaceSvg===!0)return x8.replace;var t=x8[U.autoReplaceSvg];return t||x8.replace}function Dq(t){return Ae.createElementNS("http://www.w3.org/2000/svg",t)}function Sq(t){return Ae.createElement(t)}function WI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?Dq:Sq:n;if(typeof t=="string")return Ae.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(WI(o,{ceFn:r}))}),i}function xq(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var x8={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(WI(i),n)}),n.getAttribute(Di)===null&&U.keepOriginalSource){var r=Ae.createComment(xq(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Pm(n).indexOf(U.replacementClass))return x8.replace(e);var i=new RegExp("".concat(U.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===U.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return _a(a)}).join(`
`);n.setAttribute(Di,""),n.innerHTML=o}};function pI(t){t()}function KI(t,e){var n=typeof e=="function"?e:S8;if(t.length===0)n();else{var r=pI;U.mutateApproach===R$&&(r=mr.requestAnimationFrame||pI),r(function(){var i=Iq(),s=$m.begin("mutate");t.map(i),s(),n()})}}var qm=!1;function QI(){qm=!0}function Tm(){qm=!1}var L8=null;function mI(t){if(rI&&U.observeMutations){var e=t.treeCallback,n=e===void 0?S8:e,r=t.nodeCallback,i=r===void 0?S8:r,s=t.pseudoElementsCallback,o=s===void 0?S8:s,a=t.observeMutationsRoot,c=a===void 0?Ae:a;L8=new rI(function(l){if(!qm){var u=gr();Io(l).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!hI(f.addedNodes[0])&&(U.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&U.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&hI(f.target)&&~j$.indexOf(f.attributeName))if(f.attributeName==="class"&&Eq(f.target)){var d=k8(Pm(f.target)),h=d.prefix,p=d.iconName;f.target.setAttribute(Nm,h||u),p&&f.target.setAttribute(Rm,p)}else zq(f.target)&&i(f.target)})}}),yn&&L8.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Tq(){L8&&L8.disconnect()}function Aq(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function Lq(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=k8(Pm(t));return i.prefix||(i.prefix=gr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=fq(i.prefix,t.innerText)||Bm(i.prefix,Hm(t.innerText))),!i.iconName&&U.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Nq(t){var e=Io(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return U.autoA11y&&(n?e["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(r||Ma()):(e["aria-hidden"]="true",e.focusable="false")),e}function Rq(){return{iconName:null,title:null,titleId:null,prefix:null,transform:S1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function gI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Lq(t),r=n.iconName,i=n.prefix,s=n.rest,o=Nq(t),a=zm("parseNodeAttributes",{},t),c=e.styleParser?Aq(t):[];return O({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:S1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var kq=t1.styles;function YI(t){var e=U.autoReplaceSvg==="nest"?gI(t,{styleParser:!1}):gI(t);return~e.extra.classes.indexOf(TI)?vn("generateLayersText",t,e):vn("generateSvgReplacementMutation",t,e)}var vr=new Set;km.map(function(t){vr.add("fa-".concat(t))});Object.keys(ga[Te]).map(vr.add.bind(vr));Object.keys(ga[Qe]).map(vr.add.bind(vr));vr=wa(vr);function vI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!yn)return Promise.resolve();var n=Ae.documentElement.classList,r=function(f){return n.add("".concat(iI,"-").concat(f))},i=function(f){return n.remove("".concat(iI,"-").concat(f))},s=U.autoFetchSvg?vr:km.map(function(u){return"fa-".concat(u)}).concat(Object.keys(kq));s.includes("fa")||s.push("fa");var o=[".".concat(TI,":not([").concat(Di,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Di,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Io(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var c=$m.begin("onTree"),l=a.reduce(function(u,f){try{var d=YI(f);d&&u.push(d)}catch(h){xI||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){KI(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function Pq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;YI(t).then(function(n){n&&KI([n],e)})}function Fq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:Im(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Im(i||{})),t(r,O(O({},n),{},{mask:i}))}}var Oq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?S1:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,c=a===void 0?null:a,l=n.maskId,u=l===void 0?null:l,f=n.title,d=f===void 0?null:f,h=n.titleId,p=h===void 0?null:h,g=n.classes,m=g===void 0?[]:g,w=n.attributes,H=w===void 0?{}:w,V=n.styles,E=V===void 0?{}:V;if(e){var N=e.prefix,B=e.iconName,se=e.icon;return P8(O({type:"icon"},e),function(){return Si("beforeDOMElementCreation",{iconDefinition:e,params:n}),U.autoA11y&&(d?H["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(p||Ma()):(H["aria-hidden"]="true",H.focusable="false")),jm({icons:{main:Dm(se),mask:c?Dm(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:B,transform:O(O({},S1),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:H,styles:E,classes:m}})})}},Bq={mixout:function(){return{icon:Fq(Oq)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=vI,n.nodeCallback=Pq,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Ae:r,s=n.callback,o=s===void 0?function(){}:s;return vI(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([Sm(i,a),u.iconName?Sm(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Am(g,2),w=m[0],H=m[1];h([n,jm({icons:{main:w,mask:H},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,c=N8(a);c.length>0&&(i.style=c);var l;return Fm(o)&&(l=vn("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Uq={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return P8({type:"layer"},function(){Si("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(U.cssPrefix,"-layers")].concat(wa(s)).join(" ")},children:o}]})}}}},jq={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,c=r.attributes,l=c===void 0?{}:c,u=r.styles,f=u===void 0?{}:u;return P8({type:"counter",content:n},function(){return Si("beforeDOMElementCreation",{content:n,params:r}),Vq({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(U.cssPrefix,"-layers-counter")].concat(wa(a))}})})}}}},$q={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?S1:i,o=r.title,a=o===void 0?null:o,c=r.classes,l=c===void 0?[]:c,u=r.attributes,f=u===void 0?{}:u,d=r.styles,h=d===void 0?{}:d;return P8({type:"text",content:n},function(){return Si("beforeDOMElementCreation",{content:n,params:r}),fI({content:n,transform:O(O({},S1),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(U.cssPrefix,"-layers-text")].concat(wa(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(II){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return U.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,fI({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},qq=new RegExp('"',"ug"),yI=[1105920,1112319];function Gq(t){var e=t.replace(qq,""),n=sq(e,0),r=n>=yI[0]&&n<=yI[1],i=e.length===2?e[0]===e[1]:!1;return{value:Hm(i?e[0]:e),isSecondary:r||i}}function CI(t,e){var n="".concat(N$).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Io(t.children),o=s.filter(function(se){return se.getAttribute(bm)===e})[0],a=mr.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(O$),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&u!=="none"&&u!==""){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?Qe:Te,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?va[d][c[2].toLowerCase()]:B$[d][l],p=Gq(f),g=p.value,m=p.isSecondary,w=c[0].startsWith("FontAwesome"),H=Bm(h,g),V=H;if(w){var E=dq(g);E.iconName&&E.prefix&&(H=E.iconName,h=E.prefix)}if(H&&!m&&(!o||o.getAttribute(Nm)!==h||o.getAttribute(Rm)!==V)){t.setAttribute(n,V),o&&t.removeChild(o);var N=Rq(),B=N.extra;B.attributes[bm]=e,Sm(H,h).then(function(se){var Le=jm(O(O({},N),{},{icons:{main:se,mask:Um()},prefix:h,iconName:V,extra:B,watchable:!0})),St=Ae.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(St,t.firstChild):t.appendChild(St),St.outerHTML=Le.map(function(Ai){return _a(Ai)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Wq(t){return Promise.all([CI(t,"::before"),CI(t,"::after")])}function Kq(t){return t.parentNode!==document.head&&!~k$.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(bm)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function MI(t){if(yn)return new Promise(function(e,n){var r=Io(t.querySelectorAll("*")).filter(Kq).map(Wq),i=$m.begin("searchPseudoElements");QI(),Promise.all(r).then(function(){i(),Tm(),e()}).catch(function(){i(),Tm(),n()})})}var Qq={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=MI,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Ae:r;U.searchPseudoElements&&MI(i)}}},wI=!1,Yq={mixout:function(){return{dom:{unwatch:function(){QI(),wI=!0}}}},hooks:function(){return{bootstrap:function(){mI(zm("mutationObserverCallbacks",{}))},noAuto:function(){Tq()},watch:function(n){var r=n.observeMutationsRoot;wI?Tm():mI(zm("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},VI=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},Xq={mixout:function(){return{parse:{transform:function(n){return VI(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=VI(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(c," ").concat(l," ").concat(u)},d={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:f,path:d};return{tag:"g",attributes:O({},h.outer),children:[{tag:"g",attributes:O({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:O(O({},r.icon.attributes),h.path)}]}]}}}},wm={x:0,y:0,width:"100%",height:"100%"};function _I(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Zq(t){return t.tag==="g"?t.children:[t]}var Jq={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?k8(i.split(" ").map(function(o){return o.trim()})):Um();return s.prefix||(s.prefix=gr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,c=n.transform,l=s.width,u=s.icon,f=o.width,d=o.icon,h=X$({transform:c,containerWidth:f,iconWidth:l}),p={tag:"rect",attributes:O(O({},wm),{},{fill:"white"})},g=u.children?{children:u.children.map(_I)}:{},m={tag:"g",attributes:O({},h.inner),children:[_I(O({tag:u.tag,attributes:O(O({},u.attributes),h.path)},g))]},w={tag:"g",attributes:O({},h.outer),children:[m]},H="mask-".concat(a||Ma()),V="clip-".concat(a||Ma()),E={tag:"mask",attributes:O(O({},wm),{},{id:H,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,w]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:V},children:Zq(d)},E]};return r.push(N,{tag:"rect",attributes:O({fill:"currentColor","clip-path":"url(#".concat(V,")"),mask:"url(#".concat(H,")")},wm)}),{children:r,attributes:i}}}},eG={provides:function(e){var n=!1;mr.matchMedia&&(n=mr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:O(O({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=O(O({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:O(O({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:O(O({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:O(O({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:O(O({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:O(O({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:O(O({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:O(O({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},tG={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},nG=[eq,Bq,Uq,jq,$q,Qq,Yq,Xq,Jq,eG,tG];mq(nG,{mixoutsTo:m2});var Bre=m2.noAuto,Ure=m2.config,jre=m2.library,$re=m2.dom,XI=m2.parse,qre=m2.findIconDefinition,Gre=m2.toHtml,ZI=m2.icon,Wre=m2.layer,rG=m2.text,iG=m2.counter;var sG=["*"],oG=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},aG=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},cG=t=>{let e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:t.rotate!==null,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)},lG=t=>t.prefix!==void 0&&t.iconName!==void 0,uG=(t,e)=>lG(t)?t:typeof t=="string"?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]},fG=(()=>{let e=class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dG=(()=>{let e=class e{constructor(){this.definitions={}}addIcons(...r){for(let i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let s of i.icon[2])typeof s=="string"&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(let i of r){let s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hG=(()=>{let e=class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[qt]});let t=e;return t})(),pG=(()=>{let e=class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(r.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),r.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}};e.\u0275fac=function(i){return new(i||e)(x(w2),x(_t))},e.\u0275cmp=d1({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[qt,An],ngContentSelectors:sG,decls:1,vars:0,template:function(i,s){i&1&&(eM(),tM(0))},encapsulation:2});let t=e;return t})(),JI=(()=>{let e=class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],a!=null&&o==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(this.icon==null&&this.config.fallbackIcon==null){aG();return}if(r){let i=this.icon!=null?this.icon:this.config.fallbackIcon,s=this.findIconDefinition(i);if(s!=null){let o=this.buildParams();this.renderIcon(s,o)}}}render(){this.ngOnChanges({})}findIconDefinition(r){let i=uG(r,this.config.defaultPrefix);if("icon"in i)return i;let s=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return s??(oG(i),null)}buildParams(){let r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?XI.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...cG(r),...this.classes],mask:this.mask!=null?this.findIconDefinition(this.mask):null,styles:this.styles!=null?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){let s=ZI(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}};e.\u0275fac=function(i){return new(i||e)(x(jr),x(fG),x(dG),x(hG,8),x(pG,8))},e.\u0275cmp=d1({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,s){i&2&&(D7("innerHTML",s.renderedIconHTML,c3),V2("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[qt,An],decls:0,vars:0,template:function(i,s){},encapsulation:2});let t=e;return t})();var Gm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({});let t=e;return t})();function gG(t,e){if(t&1&&(pt(0,"ul",7)(1,"li",8)(2,"a",9),b2(3),bt()()()),t&2){let n=e.$implicit;De(2),Ze("routerLink",n.routeKey),De(1),T7(n.routeValue)}}function vG(t,e){if(t&1){let n=h3();pt(0,"button",10),At("click",function(){n3(n);let i=Lt();return r3(i.logout())}),q2(1,"fa-icon",11),b2(2," Logout"),bt()}if(t&2){let n=Lt();De(1),Ze("icon",n.faArrowRightFromBracket)}}var Jre=(()=>{let e=class e{constructor(r,i,s){this.router=r,this.authService=i,this.categoryService=s,this.routes=[],this.clientRoutes=[],this.faArrowRightFromBracket=EV,this.adminRoutes=[{routeKey:"/admin/dashboard",routeValue:"Dashboard"},{routeKey:"/admin/category",routeValue:"Category"},{routeKey:"/admin/post",routeValue:"Post"},{routeKey:"/admin/subscription",routeValue:"Subscription"},{routeKey:"/admin/contact-us",routeValue:"Contact Us"}],r.events.pipe(Ne(o=>o instanceof z2)).subscribe(o=>{this.isAdminRoute=o.toString().includes("admin")})}ngOnInit(){if(this.isAdminRoute){this.routes=[...this.adminRoutes];return}this.categoryService.loadData().pipe(F(r=>r.map(i=>({routeKey:`category/${i.id}`,routeValue:i.name})))).subscribe(r=>this.routes=r)}logout(){return C(this,null,function*(){try{yield this.authService.logout()}catch(r){console.error(r)}})}};e.\u0275fac=function(i){return new(i||e)(x(i2),x(e_),x(Xz))},e.\u0275cmp=d1({type:e,selectors:[["app-navbar"]],decls:7,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","justify-content-center","bg-light"],["class","navbar-nav",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","ms-3"],[1,"nav-link",3,"routerLink"],[1,"btn","btn-secondary",3,"click"],[3,"icon"]],template:function(i,s){i&1&&(pt(0,"nav",0)(1,"div",1)(2,"button",2),q2(3,"span",3),bt(),pt(4,"div",4),G1(5,gG,4,2,"ul",5),bt(),G1(6,vG,3,1,"button",6),bt()()),i&2&&(De(5),Ze("ngForOf",s.routes),De(1),Ze("ngIf",s.isAdminRoute))},dependencies:[TM,g3,wV,JI],styles:["nav[_ngcontent-%COMP%]{margin-top:60px;height:50px}"]});let t=e;return t})();var cD="firebasestorage.googleapis.com",lD="storageBucket",yG=2*60*1e3,CG=10*60*1e3,MG=1e3;var Ue=class t extends La{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ke=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ke||{});function Wm(t){return"storage/"+t}function tg(){let t="An unknown error occurred, please check the error payload for server response.";return new Ue(ke.UNKNOWN,t)}function wG(t){return new Ue(ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function VG(t){return new Ue(ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _G(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ue(ke.UNAUTHENTICATED,t)}function bG(){return new Ue(ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HG(t){return new Ue(ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uD(){return new Ue(ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fD(){return new Ue(ke.CANCELED,"User canceled the upload/download.")}function EG(t){return new Ue(ke.INVALID_URL,"Invalid URL '"+t+"'.")}function zG(t){return new Ue(ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IG(){return new Ue(ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lD+"' property when initializing the app?")}function dD(){return new Ue(ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DG(){return new Ue(ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function SG(){return new Ue(ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xG(t){return new Ue(ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xi(t){return new Ue(ke.INVALID_ARGUMENT,t)}function hD(){return new Ue(ke.APP_DELETED,"The Firebase app was deleted.")}function ng(t){return new Ue(ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ha(t,e){return new Ue(ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ba(t){throw new Ue(ke.INTERNAL_ERROR,"Internal error: "+t)}var Zt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw zG(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(E){E.path_=decodeURIComponent(E.path)}let u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===cD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",w=new RegExp(`^https?://${g}/${i}/${m}`,"i"),V=[{regex:a,indices:c,postModify:s},{regex:h,indices:p,postModify:l},{regex:w,indices:{bucket:1,path:2},postModify:l}];for(let E=0;E<V.length;E++){let N=V[E],B=N.regex.exec(e);if(B){let se=B[N.indices.bucket],Le=B[N.indices.path];Le||(Le=""),r=new t(se,Le),N.postModify(r);break}}if(r==null)throw EG(e);return r}},Qm=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function TG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...m){l||(l=!0,e.apply(null,m))}function f(m){i=setTimeout(()=>{i=null,t(h,c())},m)}function d(){s&&clearTimeout(s)}function h(m,...w){if(l){d();return}if(m){d(),u.call(null,m,...w);return}if(c()||o){d(),u.call(null,m,...w);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,f(V)}let p=!1;function g(m){p||(p=!0,d(),!l&&(i!==null?(m||(a=2),clearTimeout(i),f(0)):m||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function AG(t){t(!1)}function LG(t){return t!==void 0}function NG(t){return typeof t=="function"}function RG(t){return typeof t=="object"&&!Array.isArray(t)}function B8(t){return typeof t=="string"||t instanceof String}function eD(t){return rg()&&t instanceof Blob}function rg(){return typeof Blob<"u"&&!vg()}function Ym(t,e,n,r){if(r<e)throw xi(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xi(`Invalid value for '${t}'. Expected ${n} or less.`)}function yr(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pD(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xo||{});function mD(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Xm=class{constructor(e,n,r,i,s,o,a,c,l,u,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new So(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===xo.NO_ERROR,c=s.getStatus();if(!a||mD(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===xo.ABORT;r(!1,new So(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new So(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());LG(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=tg();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?hD():fD();o(c)}else{let c=uD();o(c)}};this.canceled_?n(!1,new So(!1,null,!0)):this.backoffId_=TG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},So=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function kG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BG(t,e,n,r,i,s,o=!0){let a=pD(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return FG(l,e),kG(l,n),PG(l,s),OG(l,r),new Xm(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function UG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jG(...t){let e=UG();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rg())return new Blob(t);throw new Ue(ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $G(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function qG(t){if(typeof atob>"u")throw xG("base-64");return atob(t)}var g2={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ea=class{constructor(e,n){this.data=e,this.contentType=n||null}};function ig(t,e){switch(t){case g2.RAW:return new Ea(gD(e));case g2.BASE64:case g2.BASE64URL:return new Ea(vD(t,e));case g2.DATA_URL:return new Ea(WG(e),KG(e))}throw tg()}function gD(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function GG(t){let e;try{e=decodeURIComponent(t)}catch{throw Ha(g2.DATA_URL,"Malformed data URL.")}return gD(e)}function vD(t,e){switch(t){case g2.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ha(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case g2.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ha(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qG(e)}catch(i){throw i.message.includes("polyfill")?i:Ha(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var O8=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ha(g2.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=QG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function WG(t){let e=new O8(t);return e.base64?vD(g2.BASE64,e.rest):GG(e.rest)}function KG(t){return new O8(t).contentType}function QG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var To=class t{constructor(e,n){let r=0,i="";eD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(eD(this.data_)){let r=this.data_,i=$G(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(rg()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(jG.apply(null,n))}else{let n=e.map(o=>B8(o)?ig(g2.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function sg(t){let e;try{e=JSON.parse(t)}catch{return null}return RG(e)?e:null}function YG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XG(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yD(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function ZG(t,e){return e}var Dt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ZG}},F8=null;function JG(t){return!B8(t)||t.length<2?t:yD(t)}function U8(){if(F8)return F8;let t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(s,o){return JG(o)}let n=new Dt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Dt("size");return i.xform=r,t.push(i),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),F8=t,F8}function eW(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Zt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function tW(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return eW(r,t),r}function CD(t,e,n){let r=sg(e);return r===null?null:tW(t,r,n)}function nW(t,e,n,r){let i=sg(e);if(i===null||!B8(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let u=t.bucket,f=t.fullPath,d="/b/"+o(u)+"/o/"+o(f),h=yr(d,n,r),p=pD({alt:"media",token:l});return h+p})[0]}function og(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var tD="prefixes",nD="items";function rW(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[tD])for(let i of n[tD]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new Zt(e,s));r.prefixes.push(o)}if(n[nD])for(let i of n[nD]){let s=t._makeStorageReference(new Zt(e,i.name));r.items.push(s)}return r}function iW(t,e,n){let r=sg(n);return r===null?null:rW(t,e,r)}var n1=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function T1(t){if(!t)throw tg()}function j8(t,e){function n(r,i){let s=CD(t,i,e);return T1(s!==null),s}return n}function sW(t,e){function n(r,i){let s=iW(t,e,i);return T1(s!==null),s}return n}function oW(t,e){function n(r,i){let s=CD(t,i,e);return T1(s!==null),nW(s,i,t.host,t._protocol)}return n}function No(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=bG():i=_G():n.getStatus()===402?i=VG(t.bucket):n.getStatus()===403?i=HG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function $8(t){let e=No(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wG(t.path)),s.serverResponse=i.serverResponse,s}return n}function MD(t,e,n){let r=e.fullServerUrl(),i=yr(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new n1(i,s,j8(t,n),o);return a.errorHandler=$8(e),a}function aW(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=yr(o,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,u=new n1(a,c,sW(t,e.bucket),l);return u.urlParams=s,u.errorHandler=No(e),u}function cW(t,e,n){let r=e.fullServerUrl(),i=yr(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new n1(i,s,oW(t,n),o);return a.errorHandler=$8(e),a}function lW(t,e,n,r){let i=e.fullServerUrl(),s=yr(i,t.host,t._protocol),o="PATCH",a=og(n,r),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new n1(s,o,j8(t,r),l);return u.headers=c,u.body=a,u.errorHandler=$8(e),u}function uW(t,e){let n=e.fullServerUrl(),r=yr(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,l){}let a=new n1(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=$8(e),a}function fW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wD(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=fW(null,e)),r}function dW(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let E=0;E<2;E++)V=V+Math.random().toString().slice(2);return V}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=wD(e,r,i),u=og(l,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+c+"--",h=To.getBlob(f,r,d);if(h===null)throw dD();let p={name:l.fullPath},g=yr(s,t.host,t._protocol),m="POST",w=t.maxUploadRetryTime,H=new n1(g,m,j8(t,n),w);return H.urlParams=p,H.headers=o,H.body=h.uploadData(),H.errorHandler=No(e),H}var Ao=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function ag(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{T1(!1)}return T1(!!n&&(e||["active"]).indexOf(n)!==-1),n}function hW(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=wD(e,r,i),a={name:o.fullPath},c=yr(s,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=og(o,n),d=t.maxUploadRetryTime;function h(g){ag(g);let m;try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{T1(!1)}return T1(B8(m)),m}let p=new n1(c,l,h,d);return p.urlParams=a,p.headers=u,p.body=f,p.errorHandler=No(e),p}function pW(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let u=ag(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{T1(!1)}f||T1(!1);let d=Number(f);return T1(!isNaN(d)),new Ao(d,r.size(),u==="final")}let o="POST",a=t.maxUploadRetryTime,c=new n1(n,o,s,a);return c.headers=i,c.errorHandler=No(e),c}var rD=256*1024;function mW(t,e,n,r,i,s,o,a){let c=new Ao(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw DG();let l=c.total-c.current,u=l;i>0&&(u=Math.min(u,i));let f=c.current,d=f+u,h="";u===0?h="finalize":l===u?h="upload, finalize":h="upload";let p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${c.current}`},g=r.slice(f,d);if(g===null)throw dD();function m(E,N){let B=ag(E,["active","final"]),se=c.current+u,Le=r.size(),St;return B==="final"?St=j8(e,s)(E,N):St=null,new Ao(se,Le,B==="final",St)}let w="POST",H=e.maxUploadRetryTime,V=new n1(n,w,m,H);return V.headers=p,V.body=g.uploadData(),V.progressCallback=a||null,V.errorHandler=No(t),V}var VD={STATE_CHANGED:"state_changed"},Ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Km(t){switch(t){case"running":case"pausing":case"canceling":return Ft.RUNNING;case"paused":return Ft.PAUSED;case"success":return Ft.SUCCESS;case"canceled":return Ft.CANCELED;case"error":return Ft.ERROR;default:return Ft.ERROR}}var Zm=class{constructor(e,n,r){if(NG(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Do(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var iD=null,Jm=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ba("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ba("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ba("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ba("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ba("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},eg=class extends Jm{initXhr(){this.xhr_.responseType="text"}};function x1(){return iD?iD():new eg}var za=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=U8(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(mD(i.status,[]))if(s)i=uD();else{this.sleepTime=Math.max(this.sleepTime*2,MG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ke.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=hW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,x1,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=pW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,x1,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=rD*this._chunkMultiplier,n=new Ao(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=mW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,x1,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){rD*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=MD(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,x1,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=dW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,x1,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=fD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Km(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new Zm(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Km(this._state)){case Ft.SUCCESS:Do(this._resolve.bind(null,this.snapshot))();break;case Ft.CANCELED:case Ft.ERROR:let n=this._reject;Do(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Km(this._state)){case Ft.RUNNING:case Ft.PAUSED:e.next&&Do(e.next.bind(e,this.snapshot))();break;case Ft.SUCCESS:e.complete&&Do(e.complete.bind(e))();break;case Ft.CANCELED:case Ft.ERROR:e.error&&Do(e.error.bind(e,this._error))();break;default:e.error&&Do(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Lo=class t{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yD(this._location.path)}get storage(){return this._service}get parent(){let e=YG(this._location.path);if(e===null)return null;let n=new Zt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ng(e)}};function gW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new za(t,new To(e),n)}function vW(t){let e={prefixes:[],items:[]};return _D(t,e).then(()=>e)}function _D(t,e,n){return C(this,null,function*(){let i=yield bD(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield _D(t,e,i.nextPageToken))})}function bD(t,e){e!=null&&typeof e.maxResults=="number"&&Ym("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=aW(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,x1)}function yW(t){t._throwIfRoot("getMetadata");let e=MD(t.storage,t._location,U8());return t.storage.makeRequestWithTokens(e,x1)}function CW(t,e){t._throwIfRoot("updateMetadata");let n=lW(t.storage,t._location,e,U8());return t.storage.makeRequestWithTokens(n,x1)}function MW(t){t._throwIfRoot("getDownloadURL");let e=cW(t.storage,t._location,U8());return t.storage.makeRequestWithTokens(e,x1).then(n=>{if(n===null)throw SG();return n})}function wW(t){t._throwIfRoot("deleteObject");let e=uW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,x1)}function HD(t,e){let n=XG(t._location.path,e),r=new Zt(t._location.bucket,n);return new Lo(t.storage,r)}function VW(t){return/^[A-Za-z]+:\/\//.test(t)}function _W(t,e){return new Lo(t,e)}function ED(t,e){if(t instanceof Ia){let n=t;if(n._bucket==null)throw IG();let r=new Lo(n,n._bucket);return e!=null?ED(r,e):r}else return e!==void 0?HD(t,e):t}function bW(t,e){if(e&&VW(e)){if(t instanceof Ia)return _W(t,e);throw xi("To use ref(service, url), the first argument must be a Storage instance.")}else return ED(t,e)}function sD(t,e){let n=e?.[lD];return n==null?null:Zt.makeFromBucketSpec(n,t)}function HW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:xa(i,t.app.options.projectId))}var Ia=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=cD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yG,this._maxUploadRetryTime=CG,this._requests=new Set,i!=null?this._bucket=Zt.makeFromBucketSpec(i,this._host):this._bucket=sD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=sD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ym("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ym("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Qm(hD());{let o=BG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},oD="@firebase/storage",aD="0.11.2";var EW="storage";function zD(t,e,n){return t=de(t),gW(t,e,n)}function ID(t){return t=de(t),yW(t)}function DD(t,e){return t=de(t),CW(t,e)}function SD(t,e){return t=de(t),bD(t,e)}function xD(t){return t=de(t),vW(t)}function TD(t){return t=de(t),MW(t)}function AD(t){return t=de(t),wW(t)}function cg(t,e){return t=de(t),bW(t,e)}function LD(t,e){return HD(t,e)}function ND(t,e,n,r={}){HW(t,e,n,r)}function zW(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ia(n,r,i,e,Ra)}function IW(){Cr(new A2(EW,zW,"PUBLIC").setMultipleInstances(!0)),v2(oD,aD,""),v2(oD,aD,"esm2017")}IW();var Ro=class{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var q8=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ro(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Ro(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Ro(o,this,this._ref)):s={next:n.next?o=>n.next(new Ro(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}},G8=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ti(e,this._service))}get items(){return this._delegate.items.map(e=>new Ti(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Ti=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=LD(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new q8(zD(this._delegate,e,n),this)}putString(e,n=g2.RAW,r){this._throwIfRoot("putString");let i=ig(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new q8(new za(this._delegate,new To(i.data,!0),s),this)}listAll(){return xD(this._delegate).then(e=>new G8(e,this.storage))}list(e){return SD(this._delegate,e||void 0).then(n=>new G8(n,this.storage))}getMetadata(){return ID(this._delegate)}updateMetadata(e){return DD(this._delegate,e)}getDownloadURL(){return TD(this._delegate)}delete(){return this._throwIfRoot("delete"),AD(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw ng(e)}};var W8=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(RD(e))throw xi("ref() expected a child path but got a URL, use refFromURL instead.");return new Ti(cg(this._delegate,e),this)}refFromURL(e){if(!RD(e))throw xi("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zt.makeFromUrl(e,this._delegate.host)}catch{throw xi("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ti(cg(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){ND(this._delegate,e,n,r)}};function RD(t){return/^[A-Za-z]+:\/\//.test(t)}var DW="@firebase/storage-compat",SW="0.3.2";var xW="storage-compat";function TW(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new W8(n,r)}function AW(t){let e={TaskState:Ft,TaskEvent:VD,StringFormat:g2,Storage:W8,Reference:Ti};t.INTERNAL.registerComponent(new A2(xW,TW,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(DW,SW)}AW(Pe);function LW(t){return new q(e=>{let n=o=>e.next(o),r=o=>e.error(o),i=()=>e.complete();n(t.snapshot);let s=t.on("state_changed",n);return t.then(o=>{n(o),i()},o=>{n(t.snapshot),r(o)}),function(){s()}}).pipe(gu(0))}function kD(t){let e=LW(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(F(n=>n.bytesTransferred/n.totalBytes*100))}}function K8(t){return{getDownloadURL:()=>R(void 0).pipe(l9,ce(()=>t.getDownloadURL()),Ht),getMetadata:()=>R(void 0).pipe(l9,ce(()=>t.getMetadata()),Ht),delete:()=>ne(t.delete()),child:e=>K8(t.child(e)),updateMetadata:e=>ne(t.updateMetadata(e)),put:(e,n)=>{let r=t.put(e,n);return kD(r)},putString:(e,n,r)=>{let i=t.putString(e,n,r);return kD(i)},list:e=>ne(t.list(e)),listAll:()=>ne(t.listAll())}}var NW=new z("angularfire2.storageBucket"),RW=new z("angularfire2.storage.maxUploadRetryTime"),kW=new z("angularfire2.storage.maxOperationRetryTime"),PW=new z("angularfire2.storage.use-emulator"),FW=(()=>{class t{storage;constructor(n,r,i,s,o,a,c,l,u,f){let d=Kr(n,o,r);this.storage=$n(`${d.name}.storage.${i}`,"AngularFireStorage",d.name,()=>{let h=o.runOutsideAngular(()=>d.storage(i||void 0)),p=u;return p&&h.useEmulator(...p),c&&h.setMaxUploadRetryTime(c),l&&h.setMaxOperationRetryTime(l),h},[c,l])}ref(n){return K8(this.storage.ref(n))}refFromURL(n){return K8(this.storage.refFromURL(n))}upload(n,r,i){let s=this.storage.ref(n);return K8(s).put(r,i)}static \u0275fac=function(r){return new(r||t)(v(Un),v(jn,8),v(NW,8),v(st),v(X),v(rn),v(RW,8),v(kW,8),v(PW,8),v(nn,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var OW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=me({type:t});static \u0275inj=pe({})}return t})(),PD=(()=>{class t{constructor(){Pe.registerVersion("angularfire",s2.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=me({type:t});static \u0275inj=pe({providers:[FW],imports:[OW]})}return t})();var ug="__angularfire_symbol__analyticsIsSupportedValue",BD="__angularfire_symbol__analyticsIsSupported";globalThis[BD]||=ka().then(t=>globalThis[ug]=t).catch(()=>globalThis[ug]=!1);var BW={async:()=>globalThis[BD],sync:()=>{let t=globalThis[ug];if(t===void 0)throw new Error(zV("Analytics"));return t}},Kie=BW.async;var UW="firebase_event_origin",jW="firebase_previous_class",$W="firebase_previous_id",qW="firebase_previous_screen",GW="firebase_screen_class",FD="firebase_screen_id",WW="firebase_screen",fg="outlet",KW="page_path",QW="page_title",Da="screen_class",OD="screen_name";var YW="auto",XW="#",ZW=Math.floor(Math.random()*(2**32-1))-2**31,lg={},JW=t=>{let e=[t[Da],t[fg]].join(XW);if(lg.hasOwnProperty(e))return lg[e];{let n=ZW++;return lg[e]=n,n}},UD=(t,e,n)=>t.events.pipe(Ne(i=>i instanceof B3)).pipe(ce(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,d=>d.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(d=>d).find(d=>d.outlet===i.snapshot.outlet);if(!a)return R(null);let c=a;for(;c.firstChild;)c=c.firstChild;let l=c.pathFromRoot.map(d=>d.routeConfig?.path).filter(d=>d).join("/")||"/",u={[OD]:l,[KW]:`/${o}`,[UW]:YW,[WW]:l,[fg]:i.snapshot.outlet};e&&(u[QW]=e.getTitle());let f=a.component;if(f){if(f===Jf){let d=i.snapshot;for(;d.firstChild;)d=d.firstChild;f=d.component}}else f=i.snapshot.component;if(typeof f=="string")return R(te(I({},u),{[Da]:f}));if(f){let d=n.resolveComponentFactory(f);return R(te(I({},u),{[Da]:d.selector}))}return R(null)}),Ne(i=>!!i),F(i=>I({[GW]:i[Da],[FD]:JW(i)},i)),yu(i=>i[fg]),je(i=>i.pipe(br((s,o)=>JSON.stringify(s)===JSON.stringify(o)),N1(void 0),Hr(),F(([s,o])=>s?I({[jW]:s[Da],[qW]:s[OD],[$W]:s[FD]},o):o))));var eK=new z("angularfire2.analytics.analyticsCollectionEnabled"),tK=new z("angularfire2.analytics.appVersion"),nK=new z("angularfire2.analytics.appName"),rK=new z("angularfire2.analytics.debugMode"),iK=new z("angularfire2.analytics.config"),sK="app_name",oK="app_version",aK="debug_mode",cK="config",jD="gtag",Q8="dataLayer",lK="send_to",Y8=(()=>{class t{measurementId;analyticsInitialized=new Promise(()=>{});updateConfig(n){return C(this,null,function*(){yield this.analyticsInitialized,window[jD](cK,this.measurementId,te(I({},n),{update:!0}))})}constructor(n,r,i,s,o,a,c,l,u){if(AM(c)){window[Q8]=window[Q8]||[];let d=(...g)=>g[0]==="config"&&g[2].origin==="firebase"?(this.measurementId=g[1],!0):!1,h=g=>{window[jD]=(...m)=>{g&&g(...m),m[0]==="event"&&m[2][lK]===this.measurementId&&(s&&(m[2][sK]=s),i&&(m[2][oK]=i)),o&&typeof console<"u"&&console.info(...m),function(...w){window[Q8].push(arguments)}(...m)}};window[Q8].some(d)?(this.analyticsInitialized=Promise.resolve(),h()):this.analyticsInitialized=new Promise(g=>{h((...m)=>{d(...m)&&g()})}),a&&this.updateConfig(a),o&&this.updateConfig({[aK]:1})}else this.analyticsInitialized=Promise.resolve();let f=R(void 0).pipe(Bt(u.outsideAngular),ce(ka),ce(d=>d?l.runOutsideAngular(()=>import("./chunk-TX2GH32P.js")):xt),F(()=>$n("analytics","AngularFireAnalytics",n.name,()=>{let d=n.analytics();return r===!1&&d.setAnalyticsCollectionEnabled(!1),d},[n,r,a,o])),Wi({bufferSize:1,refCount:!1}));return V0(this,f,l)}static \u0275fac=function(r){return new(r||t)(v(Ss),v(eK,8),v(tK,8),v(nK,8),v(rK,8),v(iK,8),v(st),v(X),v(rn))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),X8=(()=>{class t{initialized;disposables=[];constructor(n,r,i,s){if(Pe.registerVersion("angularfire",s2.full,"compat-user-tracking"),en(r))this.initialized=Promise.resolve();else{let o;this.initialized=s.runOutsideAngular(()=>new Promise(a=>o=a)),this.disposables=[i.authState.subscribe(a=>{n.setUserId(a?.uid),o()}),i.credential.subscribe(a=>{if(a){let c=a.user.isAnonymous?"anonymous":a.additionalUserInfo.providerId;a.additionalUserInfo.isNewUser&&n.logEvent("sign_up",{method:c}),n.logEvent("login",{method:c})}})]}}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(v(Y8),v(st),v(Qr),v(X))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),uK="screen_view",dg=(()=>{class t{disposable;constructor(n,r,i,s,o,a){if(Pe.registerVersion("angularfire",s2.full,"compat-screen-tracking"),!r||!n)return this;o.runOutsideAngular(()=>{this.disposable=UD(r,i,s).pipe(ce(c=>C(this,null,function*(){return a&&(yield a.initialized),yield n.logEvent(uK,c)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(v(Y8),v(i2,8),v(_3,8),v(Sn),v(X),v(X8,8))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),$D=(()=>{class t{constructor(n,r,i){Pe.registerVersion("angularfire",s2.full,"analytics-compat"),n.app.then(()=>{})}static \u0275fac=function(r){return new(r||t)(v(Y8),v(dg,8),v(X8,8))};static \u0275mod=me({type:t});static \u0275inj=pe({providers:[Y8]})}return t})();var qD={production:!0,firebaseConfig:{apiKey:"AIzaSyCYfCPqCYXMc9OTPnsthvS8M2IP5BzFikM",authDomain:"ang-blog-app-dev.firebaseapp.com",projectId:"ang-blog-app-dev",storageBucket:"ang-blog-app-dev.appspot.com",messagingSenderId:"388097720093",appId:"1:388097720093:web:51dad5f0634bcb0dc0ebf4"}};var mse=(()=>{let e=class e{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r)}};e.\u0275fac=function(i){return new(i||e)(x(jr,16))},e.\u0275pipe=In({name:"htmlRender",type:e,pure:!0});let t=e;return t})();var Lse=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=pe({providers:[qn,dg,X8],imports:[N6,HV,$V.initializeApp(qD.firebaseConfig),Yz,PD,ZV.forRoot(),wf,qV,$D,Gm,wf,Gm]});let t=e;return t})();export{ne as a,cS as b,F as c,Bo as d,cc as e,Ne as f,A1 as g,ce as h,$2 as i,k as j,D as k,pe as l,v as m,S as n,d1 as o,me as p,n3 as q,r3 as r,Ste as s,xte as t,Z5 as u,Tte as v,Ate as w,l2 as x,c3 as y,iA as z,_t as A,Yo as B,w2 as C,De as D,x as E,xn as F,Fe as G,X as H,V2 as I,Ze as J,Br as K,G1 as L,Rte as M,pt as N,bt as O,q2 as P,f3 as Q,d3 as R,mN as S,h3 as T,At as U,Lt as V,eM as W,tM as X,kte as Y,b2 as Z,T7 as _,W1 as $,K1 as aa,Pte as ba,Fte as ca,Ote as da,Bte as ea,$N as fa,jte as ga,qN as ha,GN as ia,$te as ja,G2 as ka,qe as la,u2e as ma,TM as na,g3 as oa,f2e as pa,d2e as qa,h2e as ra,p2e as sa,m2e as ta,N6 as ua,YR as va,D2e as wa,qM as xa,U2e as ya,j2e as za,jr as Aa,D3 as Ba,uw as Ca,JM as Da,a1e as Ea,c1e as Fa,sP as Ga,cP as Ha,u1e as Ia,fP as Ja,hP as Ka,Tw as La,f1e as Ma,d1e as Na,MP as Oa,h1e as Pa,p1e as Qa,wf as Ra,Rne as Sa,KV as Ta,H9 as Ua,kne as Va,Pne as Wa,_0 as Xa,E9 as Ya,Fne as Za,GV as _a,WV as $a,One as ab,JI as bb,Gm as cb,z2 as db,Wr as eb,KP as fb,i2 as gb,wV as hb,HV as ib,qn as jb,e_ as kb,FW as lb,vm as mb,Xz as nb,mse as ob,L1e as pb,N1e as qb,R1e as rb,k1e as sb,Jre as tb,Y8 as ub,Lse as vb};
